"use strict";(self.webpackChunksky_fly=self.webpackChunksky_fly||[]).push([[179],{440:(dn,ot,A)=>{A.d(ot,{nm:()=>Xr});var m=A(5813);A(4650),A(5867);var ze=A(5861),Se=A(9681),ge=A(3475),ue=A(2090),Le=A(1877);const R=new Map,Pe={activated:!1,tokenObservers:[]},ke={initialized:!1,enabled:!1};function we(mt){return R.get(mt)||Pe}function Ze(mt,ft){R.set(mt,ft)}function ve(){return ke}class En{constructor(ft,St,Ut,Xt,an){if(this.operation=ft,this.retryPolicy=St,this.getWaitDuration=Ut,this.lowerBound=Xt,this.upperBound=an,this.pending=null,this.nextErrorWaitInterval=Xt,Xt>an)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ft){var St=this;return(0,ze.Z)(function*(){St.stop();try{St.pending=new ue.BH,yield function Dn(mt){return new Promise(ft=>{setTimeout(ft,mt)})}(St.getNextRun(ft)),St.pending.resolve(),yield St.pending.promise,St.pending=new ue.BH,yield St.operation(),St.pending.resolve(),yield St.pending.promise,St.process(!0).catch(()=>{})}catch(Ut){St.retryPolicy(Ut)?St.process(!1).catch(()=>{}):St.stop()}})()}getNextRun(ft){if(ft)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const St=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),St}}}const Jt=new ue.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Mn(mt){if(!we(mt).activated)throw Jt.create("use-before-activation",{appName:mt.name})}function dr(mt,ft){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,ze.Z)(function*({url:mt,body:ft},St){var Ut,Xt;const an={"Content-Type":"application/json"},$n=St.getImmediate({optional:!0});if($n){const Gn=yield $n.getHeartbeatsHeader();Gn&&(an["X-Firebase-Client"]=Gn)}const ar={method:"POST",body:JSON.stringify(ft),headers:an};let Rr,ji;try{Rr=yield fetch(mt,ar)}catch(Gn){throw Jt.create("fetch-network-error",{originalErrorMessage:null===(Ut=Gn)||void 0===Ut?void 0:Ut.message})}if(200!==Rr.status)throw Jt.create("fetch-status-error",{httpStatus:Rr.status});try{ji=yield Rr.json()}catch(Gn){throw Jt.create("fetch-parse-error",{originalErrorMessage:null===(Xt=Gn)||void 0===Xt?void 0:Xt.message})}const Ai=ji.ttl.match(/^([\d.]+)(s)$/);if(!Ai||!Ai[2]||isNaN(Number(Ai[1])))throw Jt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ji.ttl}`});const Ts=1e3*Number(Ai[1]),Cr=Date.now();return{token:ji.token,expireTimeMillis:Cr+Ts,issuedAtTimeMillis:Cr}})).apply(this,arguments)}function zn(mt,ft){const{projectId:St,appId:Ut,apiKey:Xt}=mt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${St}/apps/${Ut}:exchangeDebugToken?key=${Xt}`,body:{debug_token:ft}}}const Xn="firebase-app-check-store";let Jn=null;function be(){return Jn||(Jn=new Promise((mt,ft)=>{var St;try{const Ut=indexedDB.open("firebase-app-check-database",1);Ut.onsuccess=Xt=>{mt(Xt.target.result)},Ut.onerror=Xt=>{var an;ft(Jt.create("storage-open",{originalErrorMessage:null===(an=Xt.target.error)||void 0===an?void 0:an.message}))},Ut.onupgradeneeded=Xt=>{0===Xt.oldVersion&&Xt.target.result.createObjectStore(Xn,{keyPath:"compositeKey"})}}catch(Ut){ft(Jt.create("storage-open",{originalErrorMessage:null===(St=Ut)||void 0===St?void 0:St.message}))}}),Jn)}function Ot(){return(Ot=(0,ze.Z)(function*(mt,ft){const Ut=(yield be()).transaction(Xn,"readwrite"),an=Ut.objectStore(Xn).put({compositeKey:mt,value:ft});return new Promise(($n,ar)=>{an.onsuccess=Rr=>{$n()},Ut.onerror=Rr=>{var ji;ar(Jt.create("storage-set",{originalErrorMessage:null===(ji=Rr.target.error)||void 0===ji?void 0:ji.message}))}})})).apply(this,arguments)}const te=new Le.Yd("@firebase/app-check");function Nt(mt,ft){return(0,ue.hl)()?function H(mt,ft){return function rt(mt,ft){return Ot.apply(this,arguments)}(function q(mt){return`${mt.options.appId}-${mt.name}`}(mt),ft)}(mt,ft).catch(St=>{te.warn(`Failed to write token to IndexedDB. Error: ${St}`)}):Promise.resolve()}function vt(){return ve().enabled}function et(){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,ze.Z)(function*(){const mt=ve();if(mt.enabled&&mt.token)return mt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Yt={error:"UNKNOWN_ERROR"};function He(mt){return ue.US.encodeString(JSON.stringify(mt),!1)}function Ue(mt){return Te.apply(this,arguments)}function Te(){return(Te=(0,ze.Z)(function*(mt,ft=!1){const St=mt.app;Mn(St);const Ut=we(St);let an,Xt=Ut.token;if(Xt&&!Ht(Xt)&&(Ze(St,Object.assign(Object.assign({},Ut),{token:void 0})),Xt=void 0),!Xt){const Rr=yield Ut.cachedTokenPromise;Rr&&(Ht(Rr)?Xt=Rr:yield Nt(St,void 0))}if(!ft&&Xt&&Ht(Xt))return{token:Xt.token};let ar,$n=!1;if(vt()){Ut.exchangeTokenPromise||(Ut.exchangeTokenPromise=dr(zn(St,yield et()),mt.heartbeatServiceProvider).finally(()=>{Ut.exchangeTokenPromise=void 0}),$n=!0);const Rr=yield Ut.exchangeTokenPromise;return yield Nt(St,Rr),Ze(St,Object.assign(Object.assign({},Ut),{token:Rr})),{token:Rr.token}}try{Ut.exchangeTokenPromise||(Ut.exchangeTokenPromise=Ut.provider.getToken().finally(()=>{Ut.exchangeTokenPromise=void 0}),$n=!0),Xt=yield Ut.exchangeTokenPromise}catch(Rr){"appCheck/throttled"===Rr.code?te.warn(Rr.message):te.error(Rr),an=Rr}return Xt?an?ar=Ht(Xt)?{token:Xt.token,internalError:an}:dt(an):(ar={token:Xt.token},Ze(St,Object.assign(Object.assign({},Ut),{token:Xt})),yield Nt(St,Xt)):ar=dt(an),$n&&it(St,ar),ar})).apply(this,arguments)}function Et(mt,ft){const St=we(mt),Ut=St.tokenObservers.filter(Xt=>Xt.next!==ft);0===Ut.length&&St.tokenRefresher&&St.tokenRefresher.isRunning()&&St.tokenRefresher.stop(),Ze(mt,Object.assign(Object.assign({},St),{tokenObservers:Ut}))}function De(mt){const{app:ft}=mt,St=we(ft);let Ut=St.tokenRefresher;Ut||(Ut=function Me(mt){const{app:ft}=mt;return new En((0,ze.Z)(function*(){let Ut;if(Ut=we(ft).token?yield Ue(mt,!0):yield Ue(mt),Ut.error)throw Ut.error;if(Ut.internalError)throw Ut.internalError}),()=>!0,()=>{const St=we(ft);if(St.token){let Ut=St.token.issuedAtTimeMillis+.5*(St.token.expireTimeMillis-St.token.issuedAtTimeMillis)+3e5;return Ut=Math.min(Ut,St.token.expireTimeMillis-3e5),Math.max(0,Ut-Date.now())}return 0},3e4,96e4)}(mt),Ze(ft,Object.assign(Object.assign({},St),{tokenRefresher:Ut}))),!Ut.isRunning()&&St.isTokenAutoRefreshEnabled&&Ut.start()}function it(mt,ft){const St=we(mt).tokenObservers;for(const Ut of St)try{"EXTERNAL"===Ut.type&&null!=ft.error?Ut.error(ft.error):Ut.next(ft)}catch{}}function Ht(mt){return mt.expireTimeMillis-Date.now()>0}function dt(mt){return{token:He(Yt),error:mt}}class gn{constructor(ft,St){this.app=ft,this.heartbeatServiceProvider=St}_delete(){const{tokenObservers:ft}=we(this.app);for(const St of ft)Et(this.app,St.next);return Promise.resolve()}}const Fi="app-check-internal";!function Ii(){(0,Se._registerComponent)(new ge.wA("app-check",mt=>function On(mt,ft){return new gn(mt,ft)}(mt.getProvider("app").getImmediate(),mt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((mt,ft,St)=>{mt.getProvider(Fi).initialize()})),(0,Se._registerComponent)(new ge.wA(Fi,mt=>function er(mt){return{getToken:ft=>Ue(mt,ft),addTokenListener:ft=>function st(mt,ft,St,Ut){const{app:Xt}=mt,an=we(Xt),$n={next:St,error:Ut,type:ft};if(Ze(Xt,Object.assign(Object.assign({},an),{tokenObservers:[...an.tokenObservers,$n]})),an.token&&Ht(an.token)){const ar=an.token;Promise.resolve().then(()=>{St({token:ar.token}),De(mt)}).catch(()=>{})}an.cachedTokenPromise.then(()=>De(mt))}(mt,"INTERNAL",ft),removeTokenListener:ft=>Et(mt.app,ft)}}(mt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Se.registerVersion)("@firebase/app-check","0.5.16")}();class Xr{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window},1205:(dn,ot,A)=>{A.d(ot,{zQ:()=>pt,ww:()=>Dt,rT:()=>ke,f7:()=>Ze,L6:()=>R,_Q:()=>Pe,lh:()=>we,Qv:()=>Le,nw:()=>ve});var m=A(4650),k=A(7579),b=A(9646),ee=A(9751),Ee=A(8996),se=A(6451),je=A(5363),xe=A(3900),Oe=A(4004),ae=A(6063);class ye extends k.x{constructor(en=1/0,Zt=1/0,qt=ae.l){super(),this._bufferSize=en,this._windowTime=Zt,this._timestampProvider=qt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Zt===1/0,this._bufferSize=Math.max(1,en),this._windowTime=Math.max(1,Zt)}next(en){const{isStopped:Zt,_buffer:qt,_infiniteTimeWindow:En,_timestampProvider:Dn,_windowTime:vn}=this;Zt||(qt.push(en),!En&&qt.push(Dn.now()+vn)),this._trimBuffer(),super.next(en)}_subscribe(en){this._throwIfClosed(),this._trimBuffer();const Zt=this._innerSubscribe(en),{_infiniteTimeWindow:qt,_buffer:En}=this,Dn=En.slice();for(let vn=0;vn<Dn.length&&!en.closed;vn+=qt?1:2)en.next(Dn[vn]);return this._checkFinalizedStatuses(en),Zt}_trimBuffer(){const{_bufferSize:en,_timestampProvider:Zt,_buffer:qt,_infiniteTimeWindow:En}=this,Dn=(En?1:2)*en;if(en<1/0&&Dn<qt.length&&qt.splice(0,qt.length-Dn),!En){const vn=Zt.now();let Jt=0;for(let Vn=1;Vn<qt.length&&qt[Vn]<=vn;Vn+=2)Jt=Vn;Jt&&qt.splice(0,Jt+1)}}}var me=A(3099);function at($t,en,Zt){let qt,En=!1;return $t&&"object"==typeof $t?({bufferSize:qt=1/0,windowTime:en=1/0,refCount:En=!1,scheduler:Zt}=$t):qt=$t??1/0,(0,me.B)({connector:()=>new ye(qt,en,Zt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:En})}var lt=A(590),Je=A(576);function bt($t,en){return(0,Je.m)(en)?(0,xe.w)(()=>$t,en):(0,xe.w)(()=>$t)}var ut=A(9468),ct=A(9300),Lt=A(5813),Tt=A(2011),ze=A(6895),Se=A(440),ge=A(127);const Le=new m.OlP("angularfire2.auth.use-emulator"),R=new m.OlP("angularfire2.auth.settings"),Pe=new m.OlP("angularfire2.auth.tenant-id"),ke=new m.OlP("angularfire2.auth.langugage-code"),we=new m.OlP("angularfire2.auth.use-device-language"),Ze=new m.OlP("angularfire.auth.persistence"),ve=($t,en,Zt,qt,En,Dn,vn,Jt)=>(0,Tt.cc)(`${$t.name}.auth`,"AngularFireAuth",$t.name,()=>{const Vn=en.runOutsideAngular(()=>$t.auth());if(Zt&&Vn.useEmulator(...Zt),qt&&(Vn.tenantId=qt),Vn.languageCode=En,Dn&&Vn.useDeviceLanguage(),vn)for(const[Mn,Cn]of Object.entries(vn))Vn.settings[Mn]=Cn;return Jt&&Vn.setPersistence(Jt),Vn},[Zt,qt,En,Dn,vn,Jt]);let pt=(()=>{class $t{constructor(Zt,qt,En,Dn,vn,Jt,Vn,Mn,Cn,br,dr,Ln){const Un=new k.x,Kn=(0,b.of)(void 0).pipe((0,je.Q)(vn.outsideAngular),(0,xe.w)(()=>Dn.runOutsideAngular(()=>Promise.resolve().then(A.bind(A,1277)))),(0,Oe.U)(()=>(0,Tt.on)(Zt,Dn,qt)),(0,Oe.U)(zn=>ve(zn,Dn,Jt,Mn,Cn,br,Vn,dr)),at({bufferSize:1,refCount:!1}));if((0,ze.PM)(En))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,b.of)(null);else{Kn.pipe((0,lt.P)()).subscribe();const hr=Kn.pipe((0,xe.w)(tn=>tn.getRedirectResult().then(Jn=>Jn,()=>null)),Lt.iC,at({bufferSize:1,refCount:!1})),Hn=Kn.pipe((0,xe.w)(tn=>new ee.y(Jn=>({unsubscribe:Dn.runOutsideAngular(()=>tn.onAuthStateChanged(be=>Jn.next(be),be=>Jn.error(be),()=>Jn.complete()))})))),Xn=Kn.pipe((0,xe.w)(tn=>new ee.y(Jn=>({unsubscribe:Dn.runOutsideAngular(()=>tn.onIdTokenChanged(be=>Jn.next(be),be=>Jn.error(be),()=>Jn.complete()))}))));this.authState=hr.pipe(bt(Hn),(0,ut.R)(vn.outsideAngular),(0,je.Q)(vn.insideAngular)),this.user=hr.pipe(bt(Xn),(0,ut.R)(vn.outsideAngular),(0,je.Q)(vn.insideAngular)),this.idToken=this.user.pipe((0,xe.w)(tn=>tn?(0,Ee.D)(tn.getIdToken()):(0,b.of)(null))),this.idTokenResult=this.user.pipe((0,xe.w)(tn=>tn?(0,Ee.D)(tn.getIdTokenResult()):(0,b.of)(null))),this.credential=(0,se.T)(hr,Un,this.authState.pipe((0,ct.h)(tn=>!tn))).pipe((0,Oe.U)(tn=>tn?.user?tn:null),(0,ut.R)(vn.outsideAngular),(0,je.Q)(vn.insideAngular))}return(0,Tt.pX)(this,Kn,Dn,{spy:{apply:(zn,hr,Hn)=>{(zn.startsWith("signIn")||zn.startsWith("createUser"))&&Hn.then(Xn=>Un.next(Xn))}}})}}return $t.\u0275fac=function(Zt){return new(Zt||$t)(m.LFG(Tt.Dh),m.LFG(Tt.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Lt.HU),m.LFG(Le,8),m.LFG(R,8),m.LFG(Pe,8),m.LFG(ke,8),m.LFG(we,8),m.LFG(Ze,8),m.LFG(Se.nm,8))},$t.\u0275prov=m.Yz7({token:$t,factory:$t.\u0275fac,providedIn:"any"}),$t})(),Dt=(()=>{class $t{constructor(){ge.Z.registerVersion("angularfire",Lt.q4.full,"auth-compat")}}return $t.\u0275fac=function(Zt){return new(Zt||$t)},$t.\u0275mod=m.oAB({type:$t}),$t.\u0275inj=m.cJS({providers:[pt]}),$t})()},7471:(dn,ot,A)=>{A.d(ot,{KQ:()=>tu,JS:()=>Lu});var m=A(4650),k=A(4986),b=A(9751),ee=A(9646),Ee=A(6451),se=A(4004),je=A(3099),xe=A(3900),Oe=A(5026),ae=A(1884),ye=A(4482),me=A(5403),at=A(8421),lt=A(4671),Je=A(5032),bt=A(3269),Lt=A(5813),Tt=A(2011),Se=(A(1277),A(3942)),ge=A(3475),ue=A(5861),Le=A(9681),R=A(2090),Pe=A(1877);const ke="@firebase/database",we="0.13.10";let Ze="";function ve(h){Ze=h}class pt{constructor(c){this.domStorage_=c,this.prefix_="firebase:"}set(c,u){null==u?this.domStorage_.removeItem(this.prefixedName_(c)):this.domStorage_.setItem(this.prefixedName_(c),(0,R.Wl)(u))}get(c){const u=this.domStorage_.getItem(this.prefixedName_(c));return null==u?null:(0,R.cI)(u)}remove(c){this.domStorage_.removeItem(this.prefixedName_(c))}prefixedName_(c){return this.prefix_+c}toString(){return this.domStorage_.toString()}}class Dt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(c,u){null==u?delete this.cache_[c]:this.cache_[c]=u}get(c){return(0,R.r3)(this.cache_,c)?this.cache_[c]:null}remove(c){delete this.cache_[c]}}const $t=function(h){try{if(typeof window<"u"&&typeof window[h]<"u"){const c=window[h];return c.setItem("firebase:sentinel","cache"),c.removeItem("firebase:sentinel"),new pt(c)}}catch{}return new Dt},en=$t("localStorage"),Zt=$t("sessionStorage"),qt=new Pe.Yd("@firebase/database"),En=function(){let h=1;return function(){return h++}}(),Dn=function(h){const c=(0,R.dS)(h),u=new R.gQ;u.update(c);const _=u.digest();return R.US.encodeByteArray(_)},vn=function(...h){let c="";for(let u=0;u<h.length;u++){const _=h[u];Array.isArray(_)||_&&"object"==typeof _&&"number"==typeof _.length?c+=vn.apply(null,_):c+="object"==typeof _?(0,R.Wl)(_):_,c+=" "}return c};let Jt=null,Vn=!0;const Mn=function(h,c){(0,R.hu)(!c||!0===h||!1===h,"Can't turn on custom loggers persistently."),!0===h?(qt.logLevel=Pe.in.VERBOSE,Jt=qt.log.bind(qt),c&&Zt.set("logging_enabled",!0)):"function"==typeof h?Jt=h:(Jt=null,Zt.remove("logging_enabled"))},Cn=function(...h){if(!0===Vn&&(Vn=!1,null===Jt&&!0===Zt.get("logging_enabled")&&Mn(!0)),Jt){const c=vn.apply(null,h);Jt(c)}},br=function(h){return function(...c){Cn(h,...c)}},dr=function(...h){const c="FIREBASE INTERNAL ERROR: "+vn(...h);qt.error(c)},Ln=function(...h){const c=`FIREBASE FATAL ERROR: ${vn(...h)}`;throw qt.error(c),new Error(c)},Un=function(...h){const c="FIREBASE WARNING: "+vn(...h);qt.warn(c)},zn=function(h){return"number"==typeof h&&(h!=h||h===Number.POSITIVE_INFINITY||h===Number.NEGATIVE_INFINITY)},Hn="[MIN_NAME]",Xn="[MAX_NAME]",tn=function(h,c){if(h===c)return 0;if(h===Hn||c===Xn)return-1;if(c===Hn||h===Xn)return 1;{const u=qe(h),_=qe(c);return null!==u?null!==_?u-_==0?h.length-c.length:u-_:-1:null!==_?1:h<c?-1:1}},Jn=function(h,c){return h===c?0:h<c?-1:1},be=function(h,c){if(c&&h in c)return c[h];throw new Error("Missing required key ("+h+") in object: "+(0,R.Wl)(c))},Z=function(h){if("object"!=typeof h||null===h)return(0,R.Wl)(h);const c=[];for(const _ in h)c.push(_);c.sort();let u="{";for(let _=0;_<c.length;_++)0!==_&&(u+=","),u+=(0,R.Wl)(c[_]),u+=":",u+=Z(h[c[_]]);return u+="}",u},H=function(h,c){const u=h.length;if(u<=c)return[h];const _=[];for(let D=0;D<u;D+=c)_.push(h.substring(D,D+c>u?u:D+c));return _};function J(h,c){for(const u in h)h.hasOwnProperty(u)&&c(u,h[u])}const Ve=function(h){(0,R.hu)(!zn(h),"Invalid JSON number");const _=1023;let D,P,z,ce,Re;0===h?(P=0,z=0,D=1/h==-1/0?1:0):(D=h<0,(h=Math.abs(h))>=Math.pow(2,1-_)?(ce=Math.min(Math.floor(Math.log(h)/Math.LN2),_),P=ce+_,z=Math.round(h*Math.pow(2,52-ce)-Math.pow(2,52))):(P=0,z=Math.round(h/Math.pow(2,-1074))));const nt=[];for(Re=52;Re;Re-=1)nt.push(z%2?1:0),z=Math.floor(z/2);for(Re=11;Re;Re-=1)nt.push(P%2?1:0),P=Math.floor(P/2);nt.push(D?1:0),nt.reverse();const jt=nt.join("");let Kt="";for(Re=0;Re<64;Re+=8){let on=parseInt(jt.substr(Re,8),2).toString(16);1===on.length&&(on="0"+on),Kt+=on}return Kt.toLowerCase()},_e=new RegExp("^-?(0*)\\d{1,10}$"),q=-2147483648,te=2147483647,qe=function(h){if(_e.test(h)){const c=Number(h);if(c>=q&&c<=te)return c}return null},It=function(h){try{h()}catch(c){setTimeout(()=>{throw Un("Exception was thrown by user callback.",c.stack||""),c},Math.floor(0))}},mn=function(h,c){const u=setTimeout(h,c);return"number"==typeof u&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(u):"object"==typeof u&&u.unref&&u.unref(),u};class sn{constructor(c,u){this.appName_=c,this.appCheckProvider=u,this.appCheck=u?.getImmediate({optional:!0}),this.appCheck||u?.get().then(_=>this.appCheck=_)}getToken(c){return this.appCheck?this.appCheck.getToken(c):new Promise((u,_)=>{setTimeout(()=>{this.appCheck?this.getToken(c).then(u,_):u(null)},0)})}addTokenChangeListener(c){var u;null===(u=this.appCheckProvider)||void 0===u||u.get().then(_=>_.addTokenListener(c))}notifyForInvalidToken(){Un(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class vt{constructor(c,u,_){this.appName_=c,this.firebaseOptions_=u,this.authProvider_=_,this.auth_=null,this.auth_=_.getImmediate({optional:!0}),this.auth_||_.onInit(D=>this.auth_=D)}getToken(c){return this.auth_?this.auth_.getToken(c).catch(u=>u&&"auth/token-not-initialized"===u.code?(Cn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(u)):new Promise((u,_)=>{setTimeout(()=>{this.auth_?this.getToken(c).then(u,_):u(null)},0)})}addTokenChangeListener(c){this.auth_?this.auth_.addAuthTokenListener(c):this.authProvider_.get().then(u=>u.addAuthTokenListener(c))}removeTokenChangeListener(c){this.authProvider_.get().then(u=>u.removeAuthTokenListener(c))}notifyForInvalidToken(){let c='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';c+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Un(c)}}let et=(()=>{class h{constructor(u){this.accessToken=u}getToken(u){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(u){u(this.accessToken)}removeTokenChangeListener(u){}notifyForInvalidToken(){}}return h.OWNER="owner",h})();const Te=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Me="websocket",it="long_polling";class Ht{constructor(c,u,_,D,P=!1,z="",ce=!1){this.secure=u,this.namespace=_,this.webSocketOnly=D,this.nodeAdmin=P,this.persistenceKey=z,this.includeNamespaceInQueryParams=ce,this._host=c.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=en.get("host:"+c)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(c){c!==this.internalHost&&(this.internalHost=c,this.isCacheableHost()&&en.set("host:"+this._host,this.internalHost))}toString(){let c=this.toURLString();return this.persistenceKey&&(c+="<"+this.persistenceKey+">"),c}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function gn(h,c,u){let _;if((0,R.hu)("string"==typeof c,"typeof type must == string"),(0,R.hu)("object"==typeof u,"typeof params must == object"),c===Me)_=(h.secure?"wss://":"ws://")+h.internalHost+"/.ws?";else{if(c!==it)throw new Error("Unknown connection type: "+c);_=(h.secure?"https://":"http://")+h.internalHost+"/.lp?"}(function dt(h){return h.host!==h.internalHost||h.isCustomHost()||h.includeNamespaceInQueryParams})(h)&&(u.ns=h.namespace);const D=[];return J(u,(P,z)=>{D.push(P+"="+z)}),_+D.join("&")}class On{constructor(){this.counters_={}}incrementCounter(c,u=1){(0,R.r3)(this.counters_,c)||(this.counters_[c]=0),this.counters_[c]+=u}get(){return(0,R.p$)(this.counters_)}}const er={},fr={};function rr(h){const c=h.toString();return er[c]||(er[c]=new On),er[c]}class Fe{constructor(c){this.onMessage_=c,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(c,u){this.closeAfterResponse=c,this.onClose=u,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(c,u){for(this.pendingResponses[c]=u;this.pendingResponses[this.currentResponseNum];){const _=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let D=0;D<_.length;++D)_[D]&&It(()=>{this.onMessage_(_[D])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Sr{constructor(c,u,_,D,P,z,ce){this.connId=c,this.repoInfo=u,this.applicationId=_,this.appCheckToken=D,this.authToken=P,this.transportSessionId=z,this.lastSessionId=ce,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=br(c),this.stats_=rr(u),this.urlFn=Re=>(this.appCheckToken&&(Re.ac=this.appCheckToken),gn(u,it,Re))}open(c,u){this.curSegmentNum=0,this.onDisconnect_=u,this.myPacketOrderer=new Fe(c),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(h){if((0,R.Yr)()||"complete"===document.readyState)h();else{let c=!1;const u=function(){document.body?c||(c=!0,h()):setTimeout(u,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",u,!1),window.addEventListener("load",u,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&u()}),window.attachEvent("onload",u))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ni((...P)=>{const[z,ce,Re,nt,jt]=P;if(this.incrementIncomingBytes_(P),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===z)this.id=ce,this.password=Re;else{if("close"!==z)throw new Error("Unrecognized command received: "+z);ce?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ce,()=>{this.onClosed_()})):this.onClosed_()}},(...P)=>{const[z,ce]=P;this.incrementIncomingBytes_(P),this.myPacketOrderer.handleResponse(z,ce)},()=>{this.onClosed_()},this.urlFn);const _={start:"t"};_.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(_.cb=this.scriptTagHolder.uniqueCallbackIdentifier),_.v="5",this.transportSessionId&&(_.s=this.transportSessionId),this.lastSessionId&&(_.ls=this.lastSessionId),this.applicationId&&(_.p=this.applicationId),this.appCheckToken&&(_.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Te.test(location.hostname)&&(_.r="f");const D=this.urlFn(_);this.log_("Connecting via long-poll to "+D),this.scriptTagHolder.addTag(D,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Sr.forceAllow_=!0}static forceDisallow(){Sr.forceDisallow_=!0}static isAvailable(){return!((0,R.Yr)()||!Sr.forceAllow_&&(Sr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(c){const u=(0,R.Wl)(c);this.bytesSent+=u.length,this.stats_.incrementCounter("bytes_sent",u.length);const _=(0,R.h$)(u),D=H(_,1840);for(let P=0;P<D.length;P++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,D.length,D[P]),this.curSegmentNum++}addDisconnectPingFrame(c,u){if((0,R.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const _={dframe:"t"};_.id=c,_.pw=u,this.myDisconnFrame.src=this.urlFn(_),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(c){const u=(0,R.Wl)(c).length;this.bytesReceived+=u,this.stats_.incrementCounter("bytes_received",u)}}class Ni{constructor(c,u,_,D){if(this.onDisconnect=_,this.urlFn=D,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,R.Yr)())this.commandCB=c,this.onMessageCB=u;else{this.uniqueCallbackIdentifier=En(),window["pLPCommand"+this.uniqueCallbackIdentifier]=c,window["pRTLPCB"+this.uniqueCallbackIdentifier]=u,this.myIFrame=Ni.createIFrame_();let P="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(P='<script>document.domain="'+document.domain+'";<\/script>');const z="<html><body>"+P+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(z),this.myIFrame.doc.close()}catch(ce){Cn("frame writing exception"),ce.stack&&Cn(ce.stack),Cn(ce)}}}static createIFrame_(){const c=document.createElement("iframe");if(c.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(c);try{c.contentWindow.document||Cn("No IE domain setting required")}catch{const _=document.domain;c.src="javascript:void((function(){document.open();document.domain='"+_+"';document.close();})())"}return c.contentDocument?c.doc=c.contentDocument:c.contentWindow?c.doc=c.contentWindow.document:c.document&&(c.doc=c.document),c}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const c=this.onDisconnect;c&&(this.onDisconnect=null,c())}startLongPoll(c,u){for(this.myID=c,this.myPW=u,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const c={};c.id=this.myID,c.pw=this.myPW,c.ser=this.currentSerial;let u=this.urlFn(c),_="",D=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+_.length<=1870;){const z=this.pendingSegs.shift();_=_+"&seg"+D+"="+z.seg+"&ts"+D+"="+z.ts+"&d"+D+"="+z.d,D++}return u+=_,this.addLongPollTag_(u,this.currentSerial),!0}return!1}enqueueSegment(c,u,_){this.pendingSegs.push({seg:c,ts:u,d:_}),this.alive&&this.newRequest_()}addLongPollTag_(c,u){this.outstandingRequests.add(u);const _=()=>{this.outstandingRequests.delete(u),this.newRequest_()},D=setTimeout(_,Math.floor(25e3));this.addTag(c,()=>{clearTimeout(D),_()})}addTag(c,u){(0,R.Yr)()?this.doNodeLongPoll(c,u):setTimeout(()=>{try{if(!this.sendNewPolls)return;const _=this.myIFrame.doc.createElement("script");_.type="text/javascript",_.async=!0,_.src=c,_.onload=_.onreadystatechange=function(){const D=_.readyState;(!D||"loaded"===D||"complete"===D)&&(_.onload=_.onreadystatechange=null,_.parentNode&&_.parentNode.removeChild(_),u())},_.onerror=()=>{Cn("Long-poll script failed to load: "+c),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(_)}catch{}},Math.floor(1))}}let Fi=null;typeof MozWebSocket<"u"?Fi=MozWebSocket:typeof WebSocket<"u"&&(Fi=WebSocket);let Ii=(()=>{class h{constructor(u,_,D,P,z,ce,Re){this.connId=u,this.applicationId=D,this.appCheckToken=P,this.authToken=z,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=br(this.connId),this.stats_=rr(_),this.connURL=h.connectionURL_(_,ce,Re,P,D),this.nodeAdmin=_.nodeAdmin}static connectionURL_(u,_,D,P,z){const ce={v:"5"};return!(0,R.Yr)()&&typeof location<"u"&&location.hostname&&Te.test(location.hostname)&&(ce.r="f"),_&&(ce.s=_),D&&(ce.ls=D),P&&(ce.ac=P),z&&(ce.p=z),gn(u,Me,ce)}open(u,_){this.onDisconnect=_,this.onMessage=u,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,en.set("previous_websocket_failure",!0);try{let D;if((0,R.Yr)()){D={headers:{"User-Agent":`Firebase/5/${Ze}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(D.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(D.headers["X-Firebase-AppCheck"]=this.appCheckToken);const z=process.env,ce=0===this.connURL.indexOf("wss://")?z.HTTPS_PROXY||z.https_proxy:z.HTTP_PROXY||z.http_proxy;ce&&(D.proxy={origin:ce})}this.mySock=new Fi(this.connURL,[],D)}catch(D){this.log_("Error instantiating WebSocket.");const P=D.message||D.data;return P&&this.log_(P),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=D=>{this.handleIncomingFrame(D)},this.mySock.onerror=D=>{this.log_("WebSocket error.  Closing connection.");const P=D.message||D.data;P&&this.log_(P),this.onClosed_()}}start(){}static forceDisallow(){h.forceDisallow_=!0}static isAvailable(){let u=!1;if(typeof navigator<"u"&&navigator.userAgent){const D=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);D&&D.length>1&&parseFloat(D[1])<4.4&&(u=!0)}return!u&&null!==Fi&&!h.forceDisallow_}static previouslyFailed(){return en.isInMemoryStorage||!0===en.get("previous_websocket_failure")}markConnectionHealthy(){en.remove("previous_websocket_failure")}appendFrame_(u){if(this.frames.push(u),this.frames.length===this.totalFrames){const _=this.frames.join("");this.frames=null;const D=(0,R.cI)(_);this.onMessage(D)}}handleNewFrameCount_(u){this.totalFrames=u,this.frames=[]}extractFrameCount_(u){if((0,R.hu)(null===this.frames,"We already have a frame buffer"),u.length<=6){const _=Number(u);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),u}handleIncomingFrame(u){if(null===this.mySock)return;const _=u.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{const D=this.extractFrameCount_(_);null!==D&&this.appendFrame_(D)}}send(u){this.resetKeepAlive();const _=(0,R.Wl)(u);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);const D=H(_,16384);D.length>1&&this.sendString_(String(D.length));for(let P=0;P<D.length;P++)this.sendString_(D[P])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(u){try{this.mySock.send(u)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return h.responsesRequiredToBeHealthy=2,h.healthyTimeout=3e4,h})(),_s=(()=>{class h{constructor(u){this.initTransports_(u)}static get ALL_TRANSPORTS(){return[Sr,Ii]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(u){const _=Ii&&Ii.isAvailable();let D=_&&!Ii.previouslyFailed();if(u.webSocketOnly&&(_||Un("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),D=!0),D)this.transports_=[Ii];else{const P=this.transports_=[];for(const z of h.ALL_TRANSPORTS)z&&z.isAvailable()&&P.push(z);h.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return h.globalTransportInitialized_=!1,h})();class Xs{constructor(c,u,_,D,P,z,ce,Re,nt,jt){this.id=c,this.repoInfo_=u,this.applicationId_=_,this.appCheckToken_=D,this.authToken_=P,this.onMessage_=z,this.onReady_=ce,this.onDisconnect_=Re,this.onKill_=nt,this.lastSessionId=jt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=br("c:"+this.id+":"),this.transportManager_=new _s(u),this.log_("Connection created"),this.start_()}start_(){const c=this.transportManager_.initialTransport();this.conn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;const u=this.connReceiver_(this.conn_),_=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(u,_)},Math.floor(0));const D=c.healthyTimeout||0;D>0&&(this.healthyTimeout_=mn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(D)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(c){return u=>{c===this.conn_?this.onConnectionLost_(u):c===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(c){return u=>{2!==this.state_&&(c===this.rx_?this.onPrimaryMessageReceived_(u):c===this.secondaryConn_?this.onSecondaryMessageReceived_(u):this.log_("message on old connection"))}}sendRequest(c){this.sendData_({t:"d",d:c})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(c){if("t"in c){const u=c.t;"a"===u?this.upgradeIfSecondaryHealthy_():"r"===u?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===u&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(c){const u=be("t",c),_=be("d",c);if("c"===u)this.onSecondaryControl_(_);else{if("d"!==u)throw new Error("Unknown protocol layer: "+u);this.pendingDataMessages.push(_)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(c){const u=be("t",c),_=be("d",c);"c"===u?this.onControl_(_):"d"===u&&this.onDataMessage_(_)}onDataMessage_(c){this.onPrimaryResponse_(),this.onMessage_(c)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(c){const u=be("t",c);if("d"in c){const _=c.d;if("h"===u)this.onHandshake_(_);else if("n"===u){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let D=0;D<this.pendingDataMessages.length;++D)this.onDataMessage_(this.pendingDataMessages[D]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===u?this.onConnectionShutdown_(_):"r"===u?this.onReset_(_):"e"===u?dr("Server Error: "+_):"o"===u?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dr("Unknown control packet command: "+u)}}onHandshake_(c){const u=c.ts,_=c.v,D=c.h;this.sessionId=c.s,this.repoInfo_.host=D,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,u),"5"!==_&&Un("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const c=this.transportManager_.upgradeTransport();c&&this.startUpgrade_(c)}startUpgrade_(c){this.secondaryConn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;const u=this.connReceiver_(this.secondaryConn_),_=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(u,_),mn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(c){this.log_("Reset packet received.  New host: "+c),this.repoInfo_.host=c,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(c,u){this.log_("Realtime connection established."),this.conn_=c,this.state_=1,this.onReady_&&(this.onReady_(u,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const c=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===c||this.rx_===c)&&this.close()}onConnectionLost_(c){this.conn_=null,c||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(en.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(c){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(c),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(c){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(c)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class qo{put(c,u,_,D){}merge(c,u,_,D){}refreshAuthToken(c){}refreshAppCheckToken(c){}onDisconnectPut(c,u,_){}onDisconnectMerge(c,u,_){}onDisconnectCancel(c,u){}reportStats(c){}}class hi{constructor(c){this.allowedEvents_=c,this.listeners_={},(0,R.hu)(Array.isArray(c)&&c.length>0,"Requires a non-empty array")}trigger(c,...u){if(Array.isArray(this.listeners_[c])){const _=[...this.listeners_[c]];for(let D=0;D<_.length;D++)_[D].callback.apply(_[D].context,u)}}on(c,u,_){this.validateEventType_(c),this.listeners_[c]=this.listeners_[c]||[],this.listeners_[c].push({callback:u,context:_});const D=this.getInitialEvent(c);D&&u.apply(_,D)}off(c,u,_){this.validateEventType_(c);const D=this.listeners_[c]||[];for(let P=0;P<D.length;P++)if(D[P].callback===u&&(!_||_===D[P].context))return void D.splice(P,1)}validateEventType_(c){(0,R.hu)(this.allowedEvents_.find(u=>u===c),"Unknown event: "+c)}}class mt extends hi{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,R.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new mt}getInitialEvent(c){return(0,R.hu)("online"===c,"Unknown event type: "+c),[this.online_]}currentlyOnline(){return this.online_}}class Ut{constructor(c,u){if(void 0===u){this.pieces_=c.split("/");let _=0;for(let D=0;D<this.pieces_.length;D++)this.pieces_[D].length>0&&(this.pieces_[_]=this.pieces_[D],_++);this.pieces_.length=_,this.pieceNum_=0}else this.pieces_=c,this.pieceNum_=u}toString(){let c="";for(let u=this.pieceNum_;u<this.pieces_.length;u++)""!==this.pieces_[u]&&(c+="/"+this.pieces_[u]);return c||"/"}}function Xt(){return new Ut("")}function an(h){return h.pieceNum_>=h.pieces_.length?null:h.pieces_[h.pieceNum_]}function $n(h){return h.pieces_.length-h.pieceNum_}function ar(h){let c=h.pieceNum_;return c<h.pieces_.length&&c++,new Ut(h.pieces_,c)}function Rr(h){return h.pieceNum_<h.pieces_.length?h.pieces_[h.pieces_.length-1]:null}function Ai(h,c=0){return h.pieces_.slice(h.pieceNum_+c)}function Ts(h){if(h.pieceNum_>=h.pieces_.length)return null;const c=[];for(let u=h.pieceNum_;u<h.pieces_.length-1;u++)c.push(h.pieces_[u]);return new Ut(c,0)}function Cr(h,c){const u=[];for(let _=h.pieceNum_;_<h.pieces_.length;_++)u.push(h.pieces_[_]);if(c instanceof Ut)for(let _=c.pieceNum_;_<c.pieces_.length;_++)u.push(c.pieces_[_]);else{const _=c.split("/");for(let D=0;D<_.length;D++)_[D].length>0&&u.push(_[D])}return new Ut(u,0)}function Gn(h){return h.pieceNum_>=h.pieces_.length}function Mi(h,c){const u=an(h),_=an(c);if(null===u)return c;if(u===_)return Mi(ar(h),ar(c));throw new Error("INTERNAL ERROR: innerPath ("+c+") is not within outerPath ("+h+")")}function Js(h,c){const u=Ai(h,0),_=Ai(c,0);for(let D=0;D<u.length&&D<_.length;D++){const P=tn(u[D],_[D]);if(0!==P)return P}return u.length===_.length?0:u.length<_.length?-1:1}function pa(h,c){if($n(h)!==$n(c))return!1;for(let u=h.pieceNum_,_=c.pieceNum_;u<=h.pieces_.length;u++,_++)if(h.pieces_[u]!==c.pieces_[_])return!1;return!0}function li(h,c){let u=h.pieceNum_,_=c.pieceNum_;if($n(h)>$n(c))return!1;for(;u<h.pieces_.length;){if(h.pieces_[u]!==c.pieces_[_])return!1;++u,++_}return!0}class Yi{constructor(c,u){this.errorPrefix_=u,this.parts_=Ai(c,0),this.byteLength_=Math.max(1,this.parts_.length);for(let _=0;_<this.parts_.length;_++)this.byteLength_+=(0,R.ug)(this.parts_[_]);uo(this)}}function uo(h){if(h.byteLength_>768)throw new Error(h.errorPrefix_+"has a key path longer than 768 bytes ("+h.byteLength_+").");if(h.parts_.length>32)throw new Error(h.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Qi(h))}function Qi(h){return 0===h.parts_.length?"":"in property '"+h.parts_.join(".")+"'"}class So extends hi{constructor(){let c,u;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(u="visibilitychange",c="hidden"):typeof document.mozHidden<"u"?(u="mozvisibilitychange",c="mozHidden"):typeof document.msHidden<"u"?(u="msvisibilitychange",c="msHidden"):typeof document.webkitHidden<"u"&&(u="webkitvisibilitychange",c="webkitHidden")),this.visible_=!0,u&&document.addEventListener(u,()=>{const _=!document[c];_!==this.visible_&&(this.visible_=_,this.trigger("visible",_))},!1)}static getInstance(){return new So}getInitialEvent(c){return(0,R.hu)("visible"===c,"Unknown event type: "+c),[this.visible_]}}const Ao=1e3;let Jr,ri=(()=>{class h extends qo{constructor(u,_,D,P,z,ce,Re,nt){if(super(),this.repoInfo_=u,this.applicationId_=_,this.onDataUpdate_=D,this.onConnectStatus_=P,this.onServerInfoUpdate_=z,this.authTokenProvider_=ce,this.appCheckTokenProvider_=Re,this.authOverride_=nt,this.id=h.nextPersistentConnectionId_++,this.log_=br("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ao,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,nt&&!(0,R.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");So.getInstance().on("visible",this.onVisible_,this),-1===u.host.indexOf("fblocal")&&mt.getInstance().on("online",this.onOnline_,this)}sendRequest(u,_,D){const P=++this.requestNumber_,z={r:P,a:u,b:_};this.log_((0,R.Wl)(z)),(0,R.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(z),D&&(this.requestCBHash_[P]=D)}get(u){this.initConnection_();const _=new R.BH,D={p:u._path.toString(),q:u._queryObject};return this.outstandingGets_.push({action:"g",request:D,onComplete:ce=>{const Re=ce.d;"ok"===ce.s?_.resolve(Re):_.reject(Re)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),_.promise}listen(u,_,D,P){this.initConnection_();const z=u._queryIdentifier,ce=u._path.toString();this.log_("Listen called for "+ce+" "+z),this.listens.has(ce)||this.listens.set(ce,new Map),(0,R.hu)(u._queryParams.isDefault()||!u._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,R.hu)(!this.listens.get(ce).has(z),"listen() called twice for same path/queryId.");const Re={onComplete:P,hashFn:_,query:u,tag:D};this.listens.get(ce).set(z,Re),this.connected_&&this.sendListen_(Re)}sendGet_(u){const _=this.outstandingGets_[u];this.sendRequest("g",_.request,D=>{delete this.outstandingGets_[u],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),_.onComplete&&_.onComplete(D)})}sendListen_(u){const _=u.query,D=_._path.toString(),P=_._queryIdentifier;this.log_("Listen on "+D+" for "+P);const z={p:D};u.tag&&(z.q=_._queryObject,z.t=u.tag),z.h=u.hashFn(),this.sendRequest("q",z,Re=>{const nt=Re.d,jt=Re.s;h.warnOnListenWarnings_(nt,_),(this.listens.get(D)&&this.listens.get(D).get(P))===u&&(this.log_("listen response",Re),"ok"!==jt&&this.removeListen_(D,P),u.onComplete&&u.onComplete(jt,nt))})}static warnOnListenWarnings_(u,_){if(u&&"object"==typeof u&&(0,R.r3)(u,"w")){const D=(0,R.DV)(u,"w");if(Array.isArray(D)&&~D.indexOf("no_index")){const P='".indexOn": "'+_._queryParams.getIndex().toString()+'"',z=_._path.toString();Un(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${P} at ${z} to your security rules for better performance.`)}}}refreshAuthToken(u){this.authToken_=u,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(u)}reduceReconnectDelayIfAdminCredential_(u){(u&&40===u.length||(0,R.GJ)(u))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(u){this.appCheckToken_=u,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const u=this.authToken_,_=(0,R.w9)(u)?"auth":"gauth",D={cred:u};null===this.authOverride_?D.noauth=!0:"object"==typeof this.authOverride_&&(D.authvar=this.authOverride_),this.sendRequest(_,D,P=>{const z=P.s,ce=P.d||"error";this.authToken_===u&&("ok"===z?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(z,ce))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},u=>{const _=u.s,D=u.d||"error";"ok"===_?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(_,D)})}unlisten(u,_){const D=u._path.toString(),P=u._queryIdentifier;this.log_("Unlisten called for "+D+" "+P),(0,R.hu)(u._queryParams.isDefault()||!u._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(D,P)&&this.connected_&&this.sendUnlisten_(D,P,u._queryObject,_)}sendUnlisten_(u,_,D,P){this.log_("Unlisten on "+u+" for "+_);const z={p:u};P&&(z.q=D,z.t=P),this.sendRequest("n",z)}onDisconnectPut(u,_,D){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",u,_,D):this.onDisconnectRequestQueue_.push({pathString:u,action:"o",data:_,onComplete:D})}onDisconnectMerge(u,_,D){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",u,_,D):this.onDisconnectRequestQueue_.push({pathString:u,action:"om",data:_,onComplete:D})}onDisconnectCancel(u,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",u,null,_):this.onDisconnectRequestQueue_.push({pathString:u,action:"oc",data:null,onComplete:_})}sendOnDisconnect_(u,_,D,P){const z={p:_,d:D};this.log_("onDisconnect "+u,z),this.sendRequest(u,z,ce=>{P&&setTimeout(()=>{P(ce.s,ce.d)},Math.floor(0))})}put(u,_,D,P){this.putInternal("p",u,_,D,P)}merge(u,_,D,P){this.putInternal("m",u,_,D,P)}putInternal(u,_,D,P,z){this.initConnection_();const ce={p:_,d:D};void 0!==z&&(ce.h=z),this.outstandingPuts_.push({action:u,request:ce,onComplete:P}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+_)}sendPut_(u){const _=this.outstandingPuts_[u].action,D=this.outstandingPuts_[u].request,P=this.outstandingPuts_[u].onComplete;this.outstandingPuts_[u].queued=this.connected_,this.sendRequest(_,D,z=>{this.log_(_+" response",z),delete this.outstandingPuts_[u],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),P&&P(z.s,z.d)})}reportStats(u){if(this.connected_){const _={c:u};this.log_("reportStats",_),this.sendRequest("s",_,D=>{"ok"!==D.s&&this.log_("reportStats","Error sending stats: "+D.d)})}}onDataMessage_(u){if("r"in u){this.log_("from server: "+(0,R.Wl)(u));const _=u.r,D=this.requestCBHash_[_];D&&(delete this.requestCBHash_[_],D(u.b))}else{if("error"in u)throw"A server-side error has occurred: "+u.error;"a"in u&&this.onDataPush_(u.a,u.b)}}onDataPush_(u,_){this.log_("handleServerMessage",u,_),"d"===u?this.onDataUpdate_(_.p,_.d,!1,_.t):"m"===u?this.onDataUpdate_(_.p,_.d,!0,_.t):"c"===u?this.onListenRevoked_(_.p,_.q):"ac"===u?this.onAuthRevoked_(_.s,_.d):"apc"===u?this.onAppCheckRevoked_(_.s,_.d):"sd"===u?this.onSecurityDebugPacket_(_):dr("Unrecognized action received from server: "+(0,R.Wl)(u)+"\nAre you using the latest client?")}onReady_(u,_){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(u),this.lastSessionId=_,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(u){(0,R.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(u))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(u){u&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ao,this.realtime_||this.scheduleConnect_(0)),this.visible_=u}onOnline_(u){u?(this.log_("Browser went online."),this.reconnectDelay_=Ao,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ao),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const u=(new Date).getTime()-this.lastConnectionAttemptTime_;let _=Math.max(0,this.reconnectDelay_-u);_=Math.random()*_,this.log_("Trying to reconnect in "+_+"ms"),this.scheduleConnect_(_),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var u=this;return(0,ue.Z)(function*(){if(u.shouldReconnect_()){u.log_("Making a connection attempt"),u.lastConnectionAttemptTime_=(new Date).getTime(),u.lastConnectionEstablishedTime_=null;const _=u.onDataMessage_.bind(u),D=u.onReady_.bind(u),P=u.onRealtimeDisconnect_.bind(u),z=u.id+":"+h.nextConnectionId_++,ce=u.lastSessionId;let Re=!1,nt=null;const jt=function(){nt?nt.close():(Re=!0,P())};u.realtime_={close:jt,sendRequest:function(Pn){(0,R.hu)(nt,"sendRequest call when we're not connected not allowed."),nt.sendRequest(Pn)}};const on=u.forceTokenRefresh_;u.forceTokenRefresh_=!1;try{const[Pn,Zn]=yield Promise.all([u.authTokenProvider_.getToken(on),u.appCheckTokenProvider_.getToken(on)]);Re?Cn("getToken() completed but was canceled"):(Cn("getToken() completed. Creating connection."),u.authToken_=Pn&&Pn.accessToken,u.appCheckToken_=Zn&&Zn.token,nt=new Xs(z,u.repoInfo_,u.applicationId_,u.appCheckToken_,u.authToken_,_,D,P,Zr=>{Un(Zr+" ("+u.repoInfo_.toString()+")"),u.interrupt("server_kill")},ce))}catch(Pn){u.log_("Failed to get token: "+Pn),Re||(u.repoInfo_.nodeAdmin&&Un(Pn),jt())}}})()}interrupt(u){Cn("Interrupting connection for reason: "+u),this.interruptReasons_[u]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(u){Cn("Resuming connection for reason: "+u),delete this.interruptReasons_[u],(0,R.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ao,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(u){const _=u-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:_})}cancelSentTransactions_(){for(let u=0;u<this.outstandingPuts_.length;u++){const _=this.outstandingPuts_[u];_&&"h"in _.request&&_.queued&&(_.onComplete&&_.onComplete("disconnect"),delete this.outstandingPuts_[u],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(u,_){let D;D=_?_.map(z=>Z(z)).join("$"):"default";const P=this.removeListen_(u,D);P&&P.onComplete&&P.onComplete("permission_denied")}removeListen_(u,_){const D=new Ut(u).toString();let P;if(this.listens.has(D)){const z=this.listens.get(D);P=z.get(_),z.delete(_),0===z.size&&this.listens.delete(D)}else P=void 0;return P}onAuthRevoked_(u,_){Cn("Auth token revoked: "+u+"/"+_),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===u||"permission_denied"===u)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(u,_){Cn("App check token revoked: "+u+"/"+_),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===u||"permission_denied"===u)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(u){this.securityDebugCallback_?this.securityDebugCallback_(u):"msg"in u&&console.log("FIREBASE: "+u.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const u of this.listens.values())for(const _ of u.values())this.sendListen_(_);for(let u=0;u<this.outstandingPuts_.length;u++)this.outstandingPuts_[u]&&this.sendPut_(u);for(;this.onDisconnectRequestQueue_.length;){const u=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(u.action,u.pathString,u.data,u.onComplete)}for(let u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}sendConnectStats_(){const u={};let _="js";(0,R.Yr)()&&(_=this.repoInfo_.nodeAdmin?"admin_node":"node"),u["sdk."+_+"."+Ze.replace(/\./g,"-")]=1,(0,R.uI)()?u["framework.cordova"]=1:(0,R.b$)()&&(u["framework.reactnative"]=1),this.reportStats(u)}shouldReconnect_(){const u=mt.getInstance().currentlyOnline();return(0,R.xb)(this.interruptReasons_)&&u}}return h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h})();class lr{constructor(c,u){this.name=c,this.node=u}static Wrap(c,u){return new lr(c,u)}}class ma{getCompare(){return this.compare.bind(this)}indexedValueChanged(c,u){const _=new lr(Hn,c),D=new lr(Hn,u);return 0!==this.compare(_,D)}minPost(){return lr.MIN}}class Yo extends ma{static get __EMPTY_NODE(){return Jr}static set __EMPTY_NODE(c){Jr=c}compare(c,u){return tn(c.name,u.name)}isDefinedOn(c){throw(0,R.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(c,u){return!1}minPost(){return lr.MIN}maxPost(){return new lr(Xn,Jr)}makePost(c,u){return(0,R.hu)("string"==typeof c,"KeyIndex indexValue must always be a string."),new lr(c,Jr)}toString(){return".key"}}const Ls=new Yo;class is{constructor(c,u,_,D,P=null){this.isReverse_=D,this.resultGenerator_=P,this.nodeStack_=[];let z=1;for(;!c.isEmpty();)if(z=u?_(c.key,u):1,D&&(z*=-1),z<0)c=this.isReverse_?c.left:c.right;else{if(0===z){this.nodeStack_.push(c);break}this.nodeStack_.push(c),c=this.isReverse_?c.right:c.left}}getNext(){if(0===this.nodeStack_.length)return null;let u,c=this.nodeStack_.pop();if(u=this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value},this.isReverse_)for(c=c.left;!c.isEmpty();)this.nodeStack_.push(c),c=c.right;else for(c=c.right;!c.isEmpty();)this.nodeStack_.push(c),c=c.left;return u}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const c=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value}}}let Qo,ci=(()=>{class h{constructor(u,_,D,P,z){this.key=u,this.value=_,this.color=D??h.RED,this.left=P??ui.EMPTY_NODE,this.right=z??ui.EMPTY_NODE}copy(u,_,D,P,z){return new h(u??this.key,_??this.value,D??this.color,P??this.left,z??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(u){return this.left.inorderTraversal(u)||!!u(this.key,this.value)||this.right.inorderTraversal(u)}reverseTraversal(u){return this.right.reverseTraversal(u)||u(this.key,this.value)||this.left.reverseTraversal(u)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(u,_,D){let P=this;const z=D(u,P.key);return P=z<0?P.copy(null,null,null,P.left.insert(u,_,D),null):0===z?P.copy(null,_,null,null,null):P.copy(null,null,null,null,P.right.insert(u,_,D)),P.fixUp_()}removeMin_(){if(this.left.isEmpty())return ui.EMPTY_NODE;let u=this;return!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.removeMin_(),null),u.fixUp_()}remove(u,_){let D,P;if(D=this,_(u,D.key)<0)!D.left.isEmpty()&&!D.left.isRed_()&&!D.left.left.isRed_()&&(D=D.moveRedLeft_()),D=D.copy(null,null,null,D.left.remove(u,_),null);else{if(D.left.isRed_()&&(D=D.rotateRight_()),!D.right.isEmpty()&&!D.right.isRed_()&&!D.right.left.isRed_()&&(D=D.moveRedRight_()),0===_(u,D.key)){if(D.right.isEmpty())return ui.EMPTY_NODE;P=D.right.min_(),D=D.copy(P.key,P.value,null,null,D.right.removeMin_())}D=D.copy(null,null,null,null,D.right.remove(u,_))}return D.fixUp_()}isRed_(){return this.color}fixUp_(){let u=this;return u.right.isRed_()&&!u.left.isRed_()&&(u=u.rotateLeft_()),u.left.isRed_()&&u.left.left.isRed_()&&(u=u.rotateRight_()),u.left.isRed_()&&u.right.isRed_()&&(u=u.colorFlip_()),u}moveRedLeft_(){let u=this.colorFlip_();return u.right.left.isRed_()&&(u=u.copy(null,null,null,null,u.right.rotateRight_()),u=u.rotateLeft_(),u=u.colorFlip_()),u}moveRedRight_(){let u=this.colorFlip_();return u.left.left.isRed_()&&(u=u.rotateRight_(),u=u.colorFlip_()),u}rotateLeft_(){const u=this.copy(null,null,h.RED,null,this.right.left);return this.right.copy(null,null,this.color,u,null)}rotateRight_(){const u=this.copy(null,null,h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,u)}colorFlip_(){const u=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,u,_)}checkMaxDepth_(){const u=this.check_();return Math.pow(2,u)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const u=this.left.check_();if(u!==this.right.check_())throw new Error("Black depths differ");return u+(this.isRed_()?0:1)}}return h.RED=!0,h.BLACK=!1,h})();class ui{constructor(c,u=ui.EMPTY_NODE){this.comparator_=c,this.root_=u}insert(c,u){return new ui(this.comparator_,this.root_.insert(c,u,this.comparator_).copy(null,null,ci.BLACK,null,null))}remove(c){return new ui(this.comparator_,this.root_.remove(c,this.comparator_).copy(null,null,ci.BLACK,null,null))}get(c){let u,_=this.root_;for(;!_.isEmpty();){if(u=this.comparator_(c,_.key),0===u)return _.value;u<0?_=_.left:u>0&&(_=_.right)}return null}getPredecessorKey(c){let u,_=this.root_,D=null;for(;!_.isEmpty();){if(u=this.comparator_(c,_.key),0===u){if(_.left.isEmpty())return D?D.key:null;for(_=_.left;!_.right.isEmpty();)_=_.right;return _.key}u<0?_=_.left:u>0&&(D=_,_=_.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(c){return this.root_.inorderTraversal(c)}reverseTraversal(c){return this.root_.reverseTraversal(c)}getIterator(c){return new is(this.root_,null,this.comparator_,!1,c)}getIteratorFrom(c,u){return new is(this.root_,c,this.comparator_,!1,u)}getReverseIteratorFrom(c,u){return new is(this.root_,c,this.comparator_,!0,u)}getReverseIterator(c){return new is(this.root_,null,this.comparator_,!0,c)}}function Bs(h,c){return tn(h.name,c.name)}function Dr(h,c){return tn(h,c)}ui.EMPTY_NODE=new class Zo{copy(c,u,_,D,P){return this}insert(c,u,_){return new ci(c,u,null)}remove(c,u){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(c){return!1}reverseTraversal(c){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $i=function(h){return"number"==typeof h?"number:"+Ve(h):"string:"+h},Gi=function(h){if(h.isLeafNode()){const c=h.val();(0,R.hu)("string"==typeof c||"number"==typeof c||"object"==typeof c&&(0,R.r3)(c,".sv"),"Priority must be a string or number.")}else(0,R.hu)(h===Qo||h.isEmpty(),"priority of unexpected type.");(0,R.hu)(h===Qo||h.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let to,cr,ga,zr=(()=>{class h{constructor(u,_=h.__childrenNodeConstructor.EMPTY_NODE){this.value_=u,this.priorityNode_=_,this.lazyHash_=null,(0,R.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Gi(this.priorityNode_)}static set __childrenNodeConstructor(u){to=u}static get __childrenNodeConstructor(){return to}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(u){return new h(this.value_,u)}getImmediateChild(u){return".priority"===u?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}getChild(u){return Gn(u)?this:".priority"===an(u)?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(u,_){return null}updateImmediateChild(u,_){return".priority"===u?this.updatePriority(_):_.isEmpty()&&".priority"!==u?this:h.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(u,_).updatePriority(this.priorityNode_)}updateChild(u,_){const D=an(u);return null===D?_:_.isEmpty()&&".priority"!==D?this:((0,R.hu)(".priority"!==D||1===$n(u),".priority must be the last token in a path"),this.updateImmediateChild(D,h.__childrenNodeConstructor.EMPTY_NODE.updateChild(ar(u),_)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(u,_){return!1}val(u){return u&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let u="";this.priorityNode_.isEmpty()||(u+="priority:"+$i(this.priorityNode_.val())+":");const _=typeof this.value_;u+=_+":",u+="number"===_?Ve(this.value_):this.value_,this.lazyHash_=Dn(u)}return this.lazyHash_}getValue(){return this.value_}compareTo(u){return u===h.__childrenNodeConstructor.EMPTY_NODE?1:u instanceof h.__childrenNodeConstructor?-1:((0,R.hu)(u.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(u))}compareToLeafNode_(u){const _=typeof u.value_,D=typeof this.value_,P=h.VALUE_TYPE_ORDER.indexOf(_),z=h.VALUE_TYPE_ORDER.indexOf(D);return(0,R.hu)(P>=0,"Unknown leaf type: "+_),(0,R.hu)(z>=0,"Unknown leaf type: "+D),P===z?"object"===D?0:this.value_<u.value_?-1:this.value_===u.value_?0:1:z-P}withIndex(){return this}isIndexed(){return!0}equals(u){if(u===this)return!0;if(u.isLeafNode()){const _=u;return this.value_===_.value_&&this.priorityNode_.equals(_.priorityNode_)}return!1}}return h.VALUE_TYPE_ORDER=["object","boolean","number","string"],h})();const Ir=new class Xi extends ma{compare(c,u){const _=c.node.getPriority(),D=u.node.getPriority(),P=_.compareTo(D);return 0===P?tn(c.name,u.name):P}isDefinedOn(c){return!c.getPriority().isEmpty()}indexedValueChanged(c,u){return!c.getPriority().equals(u.getPriority())}minPost(){return lr.MIN}maxPost(){return new lr(Xn,new zr("[PRIORITY-POST]",ga))}makePost(c,u){const _=cr(c);return new lr(u,new zr("[PRIORITY-POST]",_))}toString(){return".priority"}},xi=Math.log(2);class Ba{constructor(c){this.count=parseInt(Math.log(c+1)/xi,10),this.current_=this.count-1;const D=(P=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=c+1&D}nextBitIsOne(){const c=!(this.bits_&1<<this.current_);return this.current_--,c}}const xo=function(h,c,u,_){h.sort(c);const D=function(Re,nt){const jt=nt-Re;let Kt,on;if(0===jt)return null;if(1===jt)return Kt=h[Re],on=u?u(Kt):Kt,new ci(on,Kt.node,ci.BLACK,null,null);{const Pn=parseInt(jt/2,10)+Re,Zn=D(Re,Pn),Zr=D(Pn+1,nt);return Kt=h[Pn],on=u?u(Kt):Kt,new ci(on,Kt.node,ci.BLACK,Zn,Zr)}},ce=function(Re){let nt=null,jt=null,Kt=h.length;const on=function(Zn,Zr){const as=Kt-Zn,Jl=Kt;Kt-=Zn;const Oc=D(as+1,Jl),Bu=h[as],up=u?u(Bu):Bu;Pn(new ci(up,Bu.node,Zr,null,Oc))},Pn=function(Zn){nt?(nt.left=Zn,nt=Zn):(jt=Zn,nt=Zn)};for(let Zn=0;Zn<Re.count;++Zn){const Zr=Re.nextBitIsOne(),as=Math.pow(2,Re.count-(Zn+1));Zr?on(as,ci.BLACK):(on(as,ci.BLACK),on(as,ci.RED))}return jt}(new Ba(h.length));return new ui(_||c,ce)};let rn;const ir={};class As{constructor(c,u){this.indexes_=c,this.indexSet_=u}static get Default(){return(0,R.hu)(ir&&Ir,"ChildrenNode.ts has not been loaded"),rn=rn||new As({".priority":ir},{".priority":Ir}),rn}get(c){const u=(0,R.DV)(this.indexes_,c);if(!u)throw new Error("No index defined for "+c);return u instanceof ui?u:null}hasIndex(c){return(0,R.r3)(this.indexSet_,c.toString())}addIndex(c,u){(0,R.hu)(c!==Ls,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const _=[];let D=!1;const P=u.getIterator(lr.Wrap);let ce,z=P.getNext();for(;z;)D=D||c.isDefinedOn(z.node),_.push(z),z=P.getNext();ce=D?xo(_,c.getCompare()):ir;const Re=c.toString(),nt=Object.assign({},this.indexSet_);nt[Re]=c;const jt=Object.assign({},this.indexes_);return jt[Re]=ce,new As(jt,nt)}addToIndexes(c,u){const _=(0,R.UI)(this.indexes_,(D,P)=>{const z=(0,R.DV)(this.indexSet_,P);if((0,R.hu)(z,"Missing index implementation for "+P),D===ir){if(z.isDefinedOn(c.node)){const ce=[],Re=u.getIterator(lr.Wrap);let nt=Re.getNext();for(;nt;)nt.name!==c.name&&ce.push(nt),nt=Re.getNext();return ce.push(c),xo(ce,z.getCompare())}return ir}{const ce=u.get(c.name);let Re=D;return ce&&(Re=Re.remove(new lr(c.name,ce))),Re.insert(c,c.node)}});return new As(_,this.indexSet_)}removeFromIndexes(c,u){const _=(0,R.UI)(this.indexes_,D=>{if(D===ir)return D;{const P=u.get(c.name);return P?D.remove(new lr(c.name,P)):D}});return new As(_,this.indexSet_)}}let Ro,Fn=(()=>{class h{constructor(u,_,D){this.children_=u,this.priorityNode_=_,this.indexMap_=D,this.lazyHash_=null,this.priorityNode_&&Gi(this.priorityNode_),this.children_.isEmpty()&&(0,R.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ro||(Ro=new h(new ui(Dr),null,As.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ro}updatePriority(u){return this.children_.isEmpty()?this:new h(this.children_,u,this.indexMap_)}getImmediateChild(u){if(".priority"===u)return this.getPriority();{const _=this.children_.get(u);return null===_?Ro:_}}getChild(u){const _=an(u);return null===_?this:this.getImmediateChild(_).getChild(ar(u))}hasChild(u){return null!==this.children_.get(u)}updateImmediateChild(u,_){if((0,R.hu)(_,"We should always be passing snapshot nodes"),".priority"===u)return this.updatePriority(_);{const D=new lr(u,_);let P,z;_.isEmpty()?(P=this.children_.remove(u),z=this.indexMap_.removeFromIndexes(D,this.children_)):(P=this.children_.insert(u,_),z=this.indexMap_.addToIndexes(D,this.children_));const ce=P.isEmpty()?Ro:this.priorityNode_;return new h(P,ce,z)}}updateChild(u,_){const D=an(u);if(null===D)return _;{(0,R.hu)(".priority"!==an(u)||1===$n(u),".priority must be the last token in a path");const P=this.getImmediateChild(D).updateChild(ar(u),_);return this.updateImmediateChild(D,P)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(u){if(this.isEmpty())return null;const _={};let D=0,P=0,z=!0;if(this.forEachChild(Ir,(ce,Re)=>{_[ce]=Re.val(u),D++,z&&h.INTEGER_REGEXP_.test(ce)?P=Math.max(P,Number(ce)):z=!1}),!u&&z&&P<2*D){const ce=[];for(const Re in _)ce[Re]=_[Re];return ce}return u&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_}hash(){if(null===this.lazyHash_){let u="";this.getPriority().isEmpty()||(u+="priority:"+$i(this.getPriority().val())+":"),this.forEachChild(Ir,(_,D)=>{const P=D.hash();""!==P&&(u+=":"+_+":"+P)}),this.lazyHash_=""===u?"":Dn(u)}return this.lazyHash_}getPredecessorChildName(u,_,D){const P=this.resolveIndex_(D);if(P){const z=P.getPredecessorKey(new lr(u,_));return z?z.name:null}return this.children_.getPredecessorKey(u)}getFirstChildName(u){const _=this.resolveIndex_(u);if(_){const D=_.minKey();return D&&D.name}return this.children_.minKey()}getFirstChild(u){const _=this.getFirstChildName(u);return _?new lr(_,this.children_.get(_)):null}getLastChildName(u){const _=this.resolveIndex_(u);if(_){const D=_.maxKey();return D&&D.name}return this.children_.maxKey()}getLastChild(u){const _=this.getLastChildName(u);return _?new lr(_,this.children_.get(_)):null}forEachChild(u,_){const D=this.resolveIndex_(u);return D?D.inorderTraversal(P=>_(P.name,P.node)):this.children_.inorderTraversal(_)}getIterator(u){return this.getIteratorFrom(u.minPost(),u)}getIteratorFrom(u,_){const D=this.resolveIndex_(_);if(D)return D.getIteratorFrom(u,P=>P);{const P=this.children_.getIteratorFrom(u.name,lr.Wrap);let z=P.peek();for(;null!=z&&_.compare(z,u)<0;)P.getNext(),z=P.peek();return P}}getReverseIterator(u){return this.getReverseIteratorFrom(u.maxPost(),u)}getReverseIteratorFrom(u,_){const D=this.resolveIndex_(_);if(D)return D.getReverseIteratorFrom(u,P=>P);{const P=this.children_.getReverseIteratorFrom(u.name,lr.Wrap);let z=P.peek();for(;null!=z&&_.compare(z,u)>0;)P.getNext(),z=P.peek();return P}}compareTo(u){return this.isEmpty()?u.isEmpty()?0:-1:u.isLeafNode()||u.isEmpty()?1:u===j?-1:0}withIndex(u){if(u===Ls||this.indexMap_.hasIndex(u))return this;{const _=this.indexMap_.addIndex(u,this.children_);return new h(this.children_,this.priorityNode_,_)}}isIndexed(u){return u===Ls||this.indexMap_.hasIndex(u)}equals(u){if(u===this)return!0;if(u.isLeafNode())return!1;{const _=u;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){const D=this.getIterator(Ir),P=_.getIterator(Ir);let z=D.getNext(),ce=P.getNext();for(;z&&ce;){if(z.name!==ce.name||!z.node.equals(ce.node))return!1;z=D.getNext(),ce=P.getNext()}return null===z&&null===ce}return!1}return!1}}resolveIndex_(u){return u===Ls?null:this.indexMap_.get(u.toString())}}return h.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,h})();const j=new class K extends Fn{constructor(){super(new ui(Dr),Fn.EMPTY_NODE,As.Default)}compareTo(c){return c===this?0:1}equals(c){return c===this}getPriority(){return this}getImmediateChild(c){return Fn.EMPTY_NODE}isEmpty(){return!1}};function ie(h,c=null){if(null===h)return Fn.EMPTY_NODE;if("object"==typeof h&&".priority"in h&&(c=h[".priority"]),(0,R.hu)(null===c||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c,"Invalid priority type found: "+typeof c),"object"==typeof h&&".value"in h&&null!==h[".value"]&&(h=h[".value"]),"object"!=typeof h||".sv"in h)return new zr(h,ie(c));if(h instanceof Array){let u=Fn.EMPTY_NODE;return J(h,(_,D)=>{if((0,R.r3)(h,_)&&"."!==_.substring(0,1)){const P=ie(D);(P.isLeafNode()||!P.isEmpty())&&(u=u.updateImmediateChild(_,P))}}),u.updatePriority(ie(c))}{const u=[];let _=!1;if(J(h,(z,ce)=>{if("."!==z.substring(0,1)){const Re=ie(ce);Re.isEmpty()||(_=_||!Re.getPriority().isEmpty(),u.push(new lr(z,Re)))}}),0===u.length)return Fn.EMPTY_NODE;const P=xo(u,Bs,z=>z.name,Dr);if(_){const z=xo(u,Ir.getCompare());return new Fn(P,ie(c),new As({".priority":z},{".priority":Ir}))}return new Fn(P,ie(c),As.Default)}}Object.defineProperties(lr,{MIN:{value:new lr(Hn,Fn.EMPTY_NODE)},MAX:{value:new lr(Xn,j)}}),Yo.__EMPTY_NODE=Fn.EMPTY_NODE,zr.__childrenNodeConstructor=Fn,function Ss(h){Qo=h}(j),function _a(h){ga=h}(j),function La(h){cr=h}(ie);class Pt extends ma{constructor(c){super(),this.indexPath_=c,(0,R.hu)(!Gn(c)&&".priority"!==an(c),"Can't create PathIndex with empty path or .priority key")}extractChild(c){return c.getChild(this.indexPath_)}isDefinedOn(c){return!c.getChild(this.indexPath_).isEmpty()}compare(c,u){const _=this.extractChild(c.node),D=this.extractChild(u.node),P=_.compareTo(D);return 0===P?tn(c.name,u.name):P}makePost(c,u){const _=ie(c),D=Fn.EMPTY_NODE.updateChild(this.indexPath_,_);return new lr(u,D)}maxPost(){const c=Fn.EMPTY_NODE.updateChild(this.indexPath_,j);return new lr(Xn,c)}toString(){return Ai(this.indexPath_,0).join("/")}}const si=new class An extends ma{compare(c,u){const _=c.node.compareTo(u.node);return 0===_?tn(c.name,u.name):_}isDefinedOn(c){return!0}indexedValueChanged(c,u){return!c.equals(u)}minPost(){return lr.MIN}maxPost(){return lr.MAX}makePost(c,u){const _=ie(c);return new lr(u,_)}toString(){return".value"}},Ri="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Va=function(){let h=0;const c=[];return function(u){const _=u===h;let D;h=u;const P=new Array(8);for(D=7;D>=0;D--)P[D]=Ri.charAt(u%64),u=Math.floor(u/64);(0,R.hu)(0===u,"Cannot push at time == 0");let z=P.join("");if(_){for(D=11;D>=0&&63===c[D];D--)c[D]=0;c[D]++}else for(D=0;D<12;D++)c[D]=Math.floor(64*Math.random());for(D=0;D<12;D++)z+=Ri.charAt(c[D]);return(0,R.hu)(20===z.length,"nextPushId: Length should be 20."),z}}(),Xo=function(h){if(h===""+te)return"-";const c=qe(h);if(null!=c)return""+(c+1);const u=new Array(h.length);for(let z=0;z<u.length;z++)u[z]=h.charAt(z);if(u.length<786)return u.push("-"),u.join("");let _=u.length-1;for(;_>=0&&"z"===u[_];)_--;if(-1===_)return Xn;const P=Ri.charAt(Ri.indexOf(u[_])+1);return u[_]=P,u.slice(0,_+1).join("")},fo=function(h){if(h===""+q)return Hn;const c=qe(h);if(null!=c)return""+(c-1);const u=new Array(h.length);for(let _=0;_<u.length;_++)u[_]=h.charAt(_);return"-"===u[u.length-1]?1===u.length?""+te:(delete u[u.length-1],u.join("")):(u[u.length-1]=Ri.charAt(Ri.indexOf(u[u.length-1])-1),u.join("")+"z".repeat(786-u.length))};function Vl(h){return{type:"value",snapshotNode:h}}function po(h,c){return{type:"child_added",snapshotNode:c,childName:h}}function al(h,c){return{type:"child_removed",snapshotNode:c,childName:h}}function Jo(h,c,u){return{type:"child_changed",snapshotNode:c,childName:h,oldSnap:u}}class ko{constructor(c){this.index_=c}updateChild(c,u,_,D,P,z){(0,R.hu)(c.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ce=c.getImmediateChild(u);return ce.getChild(D).equals(_.getChild(D))&&ce.isEmpty()===_.isEmpty()||(null!=z&&(_.isEmpty()?c.hasChild(u)?z.trackChildChange(al(u,ce)):(0,R.hu)(c.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ce.isEmpty()?z.trackChildChange(po(u,_)):z.trackChildChange(Jo(u,_,ce))),c.isLeafNode()&&_.isEmpty())?c:c.updateImmediateChild(u,_).withIndex(this.index_)}updateFullNode(c,u,_){return null!=_&&(c.isLeafNode()||c.forEachChild(Ir,(D,P)=>{u.hasChild(D)||_.trackChildChange(al(D,P))}),u.isLeafNode()||u.forEachChild(Ir,(D,P)=>{if(c.hasChild(D)){const z=c.getImmediateChild(D);z.equals(P)||_.trackChildChange(Jo(D,P,z))}else _.trackChildChange(po(D,P))})),u.withIndex(this.index_)}updatePriority(c,u){return c.isEmpty()?Fn.EMPTY_NODE:c.updatePriority(u)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ea{constructor(c){this.indexedFilter_=new ko(c.getIndex()),this.index_=c.getIndex(),this.startPost_=ea.getStartPost_(c),this.endPost_=ea.getEndPost_(c)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(c){return this.index_.compare(this.getStartPost(),c)<=0&&this.index_.compare(c,this.getEndPost())<=0}updateChild(c,u,_,D,P,z){return this.matches(new lr(u,_))||(_=Fn.EMPTY_NODE),this.indexedFilter_.updateChild(c,u,_,D,P,z)}updateFullNode(c,u,_){u.isLeafNode()&&(u=Fn.EMPTY_NODE);let D=u.withIndex(this.index_);D=D.updatePriority(Fn.EMPTY_NODE);const P=this;return u.forEachChild(Ir,(z,ce)=>{P.matches(new lr(z,ce))||(D=D.updateImmediateChild(z,Fn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(c,D,_)}updatePriority(c,u){return c}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(c){if(c.hasStart()){const u=c.getIndexStartName();return c.getIndex().makePost(c.getIndexStartValue(),u)}return c.getIndex().minPost()}static getEndPost_(c){if(c.hasEnd()){const u=c.getIndexEndName();return c.getIndex().makePost(c.getIndexEndValue(),u)}return c.getIndex().maxPost()}}class va{constructor(c){this.rangedFilter_=new ea(c),this.index_=c.getIndex(),this.limit_=c.getLimit(),this.reverse_=!c.isViewFromLeft()}updateChild(c,u,_,D,P,z){return this.rangedFilter_.matches(new lr(u,_))||(_=Fn.EMPTY_NODE),c.getImmediateChild(u).equals(_)?c:c.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(c,u,_,D,P,z):this.fullLimitUpdateChild_(c,u,_,P,z)}updateFullNode(c,u,_){let D;if(u.isLeafNode()||u.isEmpty())D=Fn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<u.numChildren()&&u.isIndexed(this.index_)){let P;D=Fn.EMPTY_NODE.withIndex(this.index_),P=this.reverse_?u.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let z=0;for(;P.hasNext()&&z<this.limit_;){const ce=P.getNext();let Re;if(Re=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),ce)<=0:this.index_.compare(ce,this.rangedFilter_.getEndPost())<=0,!Re)break;D=D.updateImmediateChild(ce.name,ce.node),z++}}else{let P,z,ce,Re;if(D=u.withIndex(this.index_),D=D.updatePriority(Fn.EMPTY_NODE),this.reverse_){Re=D.getReverseIterator(this.index_),P=this.rangedFilter_.getEndPost(),z=this.rangedFilter_.getStartPost();const Kt=this.index_.getCompare();ce=(on,Pn)=>Kt(Pn,on)}else Re=D.getIterator(this.index_),P=this.rangedFilter_.getStartPost(),z=this.rangedFilter_.getEndPost(),ce=this.index_.getCompare();let nt=0,jt=!1;for(;Re.hasNext();){const Kt=Re.getNext();!jt&&ce(P,Kt)<=0&&(jt=!0),jt&&nt<this.limit_&&ce(Kt,z)<=0?nt++:D=D.updateImmediateChild(Kt.name,Fn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(c,D,_)}updatePriority(c,u){return c}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(c,u,_,D,P){let z;if(this.reverse_){const Kt=this.index_.getCompare();z=(on,Pn)=>Kt(Pn,on)}else z=this.index_.getCompare();const ce=c;(0,R.hu)(ce.numChildren()===this.limit_,"");const Re=new lr(u,_),nt=this.reverse_?ce.getFirstChild(this.index_):ce.getLastChild(this.index_),jt=this.rangedFilter_.matches(Re);if(ce.hasChild(u)){const Kt=ce.getImmediateChild(u);let on=D.getChildAfterChild(this.index_,nt,this.reverse_);for(;null!=on&&(on.name===u||ce.hasChild(on.name));)on=D.getChildAfterChild(this.index_,on,this.reverse_);const Pn=null==on?1:z(on,Re);if(jt&&!_.isEmpty()&&Pn>=0)return P?.trackChildChange(Jo(u,_,Kt)),ce.updateImmediateChild(u,_);{P?.trackChildChange(al(u,Kt));const Zr=ce.updateImmediateChild(u,Fn.EMPTY_NODE);return null!=on&&this.rangedFilter_.matches(on)?(P?.trackChildChange(po(on.name,on.node)),Zr.updateImmediateChild(on.name,on.node)):Zr}}return _.isEmpty()?c:jt&&z(nt,Re)>=0?(null!=P&&(P.trackChildChange(al(nt.name,nt.node)),P.trackChildChange(po(u,_))),ce.updateImmediateChild(u,_).updateImmediateChild(nt.name,Fn.EMPTY_NODE)):c}}class mo{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ir}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,R.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ir}copy(){const c=new mo;return c.limitSet_=this.limitSet_,c.limit_=this.limit_,c.startSet_=this.startSet_,c.indexStartValue_=this.indexStartValue_,c.startNameSet_=this.startNameSet_,c.indexStartName_=this.indexStartName_,c.endSet_=this.endSet_,c.indexEndValue_=this.indexEndValue_,c.endNameSet_=this.endNameSet_,c.indexEndName_=this.indexEndName_,c.index_=this.index_,c.viewFrom_=this.viewFrom_,c}}function Ua(h,c,u){const _=h.copy();return _.startSet_=!0,void 0===c&&(c=null),_.indexStartValue_=c,null!=u?(_.startNameSet_=!0,_.indexStartName_=u):(_.startNameSet_=!1,_.indexStartName_=""),_}function N(h,c,u){const _=h.copy();return _.endSet_=!0,void 0===c&&(c=null),_.indexEndValue_=c,void 0!==u?(_.endNameSet_=!0,_.indexEndName_=u):(_.endNameSet_=!1,_.indexEndName_=""),_}function U(h,c){const u=h.copy();return u.index_=c,u}function le(h){const c={};if(h.isDefault())return c;let u;return h.index_===Ir?u="$priority":h.index_===si?u="$value":h.index_===Ls?u="$key":((0,R.hu)(h.index_ instanceof Pt,"Unrecognized index type!"),u=h.index_.toString()),c.orderBy=(0,R.Wl)(u),h.startSet_&&(c.startAt=(0,R.Wl)(h.indexStartValue_),h.startNameSet_&&(c.startAt+=","+(0,R.Wl)(h.indexStartName_))),h.endSet_&&(c.endAt=(0,R.Wl)(h.indexEndValue_),h.endNameSet_&&(c.endAt+=","+(0,R.Wl)(h.indexEndName_))),h.limitSet_&&(h.isViewFromLeft()?c.limitToFirst=h.limit_:c.limitToLast=h.limit_),c}function tt(h){const c={};if(h.startSet_&&(c.sp=h.indexStartValue_,h.startNameSet_&&(c.sn=h.indexStartName_)),h.endSet_&&(c.ep=h.indexEndValue_,h.endNameSet_&&(c.en=h.indexEndName_)),h.limitSet_){c.l=h.limit_;let u=h.viewFrom_;""===u&&(u=h.isViewFromLeft()?"l":"r"),c.vf=u}return h.index_!==Ir&&(c.i=h.index_.toString()),c}class xt extends qo{constructor(c,u,_,D){super(),this.repoInfo_=c,this.onDataUpdate_=u,this.authTokenProvider_=_,this.appCheckTokenProvider_=D,this.log_=br("p:rest:"),this.listens_={}}reportStats(c){throw new Error("Method not implemented.")}static getListenId_(c,u){return void 0!==u?"tag$"+u:((0,R.hu)(c._queryParams.isDefault(),"should have a tag if it's not a default query."),c._path.toString())}listen(c,u,_,D){const P=c._path.toString();this.log_("Listen called for "+P+" "+c._queryIdentifier);const z=xt.getListenId_(c,_),ce={};this.listens_[z]=ce;const Re=le(c._queryParams);this.restRequest_(P+".json",Re,(nt,jt)=>{let Kt=jt;if(404===nt&&(Kt=null,nt=null),null===nt&&this.onDataUpdate_(P,Kt,!1,_),(0,R.DV)(this.listens_,z)===ce){let on;on=nt?401===nt?"permission_denied":"rest_error:"+nt:"ok",D(on,null)}})}unlisten(c,u){const _=xt.getListenId_(c,u);delete this.listens_[_]}get(c){const u=le(c._queryParams),_=c._path.toString(),D=new R.BH;return this.restRequest_(_+".json",u,(P,z)=>{let ce=z;404===P&&(ce=null,P=null),null===P?(this.onDataUpdate_(_,ce,!1,null),D.resolve(ce)):D.reject(new Error(ce))}),D.promise}refreshAuthToken(c){}restRequest_(c,u={},_){return u.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([D,P])=>{D&&D.accessToken&&(u.auth=D.accessToken),P&&P.token&&(u.ac=P.token);const z=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+c+"?ns="+this.repoInfo_.namespace+(0,R.xO)(u);this.log_("Sending REST request for "+z);const ce=new XMLHttpRequest;ce.onreadystatechange=()=>{if(_&&4===ce.readyState){this.log_("REST Response for "+z+" received. status:",ce.status,"response:",ce.responseText);let Re=null;if(ce.status>=200&&ce.status<300){try{Re=(0,R.cI)(ce.responseText)}catch{Un("Failed to parse JSON response for "+z+": "+ce.responseText)}_(null,Re)}else 401!==ce.status&&404!==ce.status&&Un("Got unsuccessful REST response for "+z+" Status: "+ce.status),_(ce.status);_=null}},ce.open("GET",z,!0),ce.send()})}}class Wt{constructor(){this.rootNode_=Fn.EMPTY_NODE}getNode(c){return this.rootNode_.getChild(c)}updateSnapshot(c,u){this.rootNode_=this.rootNode_.updateChild(c,u)}}function xn(){return{value:null,children:new Map}}function Ar(h,c,u){if(Gn(c))h.value=u,h.children.clear();else if(null!==h.value)h.value=h.value.updateChild(c,u);else{const _=an(c);h.children.has(_)||h.children.set(_,xn()),Ar(h.children.get(_),c=ar(c),u)}}function Vr(h,c){if(Gn(c))return h.value=null,h.children.clear(),!0;if(null!==h.value){if(h.value.isLeafNode())return!1;{const u=h.value;return h.value=null,u.forEachChild(Ir,(_,D)=>{Ar(h,new Ut(_),D)}),Vr(h,c)}}if(h.children.size>0){const u=an(c);return c=ar(c),h.children.has(u)&&Vr(h.children.get(u),c)&&h.children.delete(u),0===h.children.size}return!0}function Ur(h,c,u){null!==h.value?u(c,h.value):function Pr(h,c){h.children.forEach((u,_)=>{c(_,u)})}(h,(_,D)=>{Ur(D,new Ut(c.toString()+"/"+_),u)})}class fi{constructor(c){this.collection_=c,this.last_=null}get(){const c=this.collection_.get(),u=Object.assign({},c);return this.last_&&J(this.last_,(_,D)=>{u[_]=u[_]-D}),this.last_=c,u}}class xs{constructor(c,u){this.server_=u,this.statsToReport_={},this.statsListener_=new fi(c);const _=1e4+2e4*Math.random();mn(this.reportStats_.bind(this),Math.floor(_))}reportStats_(){const c=this.statsListener_.get(),u={};let _=!1;J(c,(D,P)=>{P>0&&(0,R.r3)(this.statsToReport_,D)&&(u[D]=P,_=!0)}),_&&this.server_.reportStats(u),mn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var bi=(()=>{return(h=bi||(bi={}))[h.OVERWRITE=0]="OVERWRITE",h[h.MERGE=1]="MERGE",h[h.ACK_USER_WRITE=2]="ACK_USER_WRITE",h[h.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",bi;var h})();function Us(h){return{fromUser:!1,fromServer:!0,queryId:h,tagged:!0}}class no{constructor(c,u,_){this.path=c,this.affectedTree=u,this.revert=_,this.type=bi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(c){if(Gn(this.path)){if(null!=this.affectedTree.value)return(0,R.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const u=this.affectedTree.subtree(new Ut(c));return new no(Xt(),u,this.revert)}}return(0,R.hu)(an(this.path)===c,"operationForChild called for unrelated child."),new no(ar(this.path),this.affectedTree,this.revert)}}class Oo{constructor(c,u){this.source=c,this.path=u,this.type=bi.LISTEN_COMPLETE}operationForChild(c){return Gn(this.path)?new Oo(this.source,Xt()):new Oo(this.source,ar(this.path))}}class kr{constructor(c,u,_){this.source=c,this.path=u,this.snap=_,this.type=bi.OVERWRITE}operationForChild(c){return Gn(this.path)?new kr(this.source,Xt(),this.snap.getImmediateChild(c)):new kr(this.source,ar(this.path),this.snap)}}class go{constructor(c,u,_){this.source=c,this.path=u,this.children=_,this.type=bi.MERGE}operationForChild(c){if(Gn(this.path)){const u=this.children.subtree(new Ut(c));return u.isEmpty()?null:u.value?new kr(this.source,Xt(),u.value):new go(this.source,Xt(),u)}return(0,R.hu)(an(this.path)===c,"Can't get a merge for a child not on the path of the operation"),new go(this.source,ar(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ea{constructor(c,u,_){this.node_=c,this.fullyInitialized_=u,this.filtered_=_}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(c){if(Gn(c))return this.isFullyInitialized()&&!this.filtered_;const u=an(c);return this.isCompleteForChild(u)}isCompleteForChild(c){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(c)}getNode(){return this.node_}}class mc{constructor(c){this.query_=c,this.index_=this.query_._queryParams.getIndex()}}function ja(h,c,u,_,D,P){const z=_.filter(ce=>ce.type===u);z.sort((ce,Re)=>function na(h,c,u){if(null==c.childName||null==u.childName)throw(0,R.g5)("Should only compare child_ events.");const _=new lr(c.childName,c.snapshotNode),D=new lr(u.childName,u.snapshotNode);return h.index_.compare(_,D)}(h,ce,Re)),z.forEach(ce=>{const Re=function nn(h,c,u){return"value"===c.type||"child_removed"===c.type||(c.prevName=u.getPredecessorChildName(c.childName,c.snapshotNode,h.index_)),c}(h,ce,P);D.forEach(nt=>{nt.respondsTo(ce.type)&&c.push(nt.createEvent(Re,h.query_))})})}function cl(h,c){return{eventCache:h,serverCache:c}}function Hs(h,c,u,_){return cl(new Ea(c,u,_),h.serverCache)}function ei(h,c,u,_){return cl(h.eventCache,new Ea(c,u,_))}function ul(h){return h.eventCache.isFullyInitialized()?h.eventCache.getNode():null}function Kr(h){return h.serverCache.isFullyInitialized()?h.serverCache.getNode():null}let Bn;class Tn{constructor(c,u=(()=>(Bn||(Bn=new ui(Jn)),Bn))()){this.value=c,this.children=u}static fromObject(c){let u=new Tn(null);return J(c,(_,D)=>{u=u.set(new Ut(_),D)}),u}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(c,u){if(null!=this.value&&u(this.value))return{path:Xt(),value:this.value};if(Gn(c))return null;{const _=an(c),D=this.children.get(_);if(null!==D){const P=D.findRootMostMatchingPathAndValue(ar(c),u);return null!=P?{path:Cr(new Ut(_),P.path),value:P.value}:null}return null}}findRootMostValueAndPath(c){return this.findRootMostMatchingPathAndValue(c,()=>!0)}subtree(c){if(Gn(c))return this;{const u=an(c),_=this.children.get(u);return null!==_?_.subtree(ar(c)):new Tn(null)}}set(c,u){if(Gn(c))return new Tn(u,this.children);{const _=an(c),P=(this.children.get(_)||new Tn(null)).set(ar(c),u),z=this.children.insert(_,P);return new Tn(this.value,z)}}remove(c){if(Gn(c))return this.children.isEmpty()?new Tn(null):new Tn(null,this.children);{const u=an(c),_=this.children.get(u);if(_){const D=_.remove(ar(c));let P;return P=D.isEmpty()?this.children.remove(u):this.children.insert(u,D),null===this.value&&P.isEmpty()?new Tn(null):new Tn(this.value,P)}return this}}get(c){if(Gn(c))return this.value;{const u=an(c),_=this.children.get(u);return _?_.get(ar(c)):null}}setTree(c,u){if(Gn(c))return u;{const _=an(c),P=(this.children.get(_)||new Tn(null)).setTree(ar(c),u);let z;return z=P.isEmpty()?this.children.remove(_):this.children.insert(_,P),new Tn(this.value,z)}}fold(c){return this.fold_(Xt(),c)}fold_(c,u){const _={};return this.children.inorderTraversal((D,P)=>{_[D]=P.fold_(Cr(c,D),u)}),u(c,this.value,_)}findOnPath(c,u){return this.findOnPath_(c,Xt(),u)}findOnPath_(c,u,_){const D=!!this.value&&_(u,this.value);if(D)return D;if(Gn(c))return null;{const P=an(c),z=this.children.get(P);return z?z.findOnPath_(ar(c),Cr(u,P),_):null}}foreachOnPath(c,u){return this.foreachOnPath_(c,Xt(),u)}foreachOnPath_(c,u,_){if(Gn(c))return this;{this.value&&_(u,this.value);const D=an(c),P=this.children.get(D);return P?P.foreachOnPath_(ar(c),Cr(u,D),_):new Tn(null)}}foreach(c){this.foreach_(Xt(),c)}foreach_(c,u){this.children.inorderTraversal((_,D)=>{D.foreach_(Cr(c,_),u)}),this.value&&u(c,this.value)}foreachChild(c){this.children.inorderTraversal((u,_)=>{_.value&&c(u,_.value)})}}class ss{constructor(c){this.writeTree_=c}static empty(){return new ss(new Tn(null))}}function dl(h,c,u){if(Gn(c))return new ss(new Tn(u));{const _=h.writeTree_.findRootMostValueAndPath(c);if(null!=_){const D=_.path;let P=_.value;const z=Mi(D,c);return P=P.updateChild(z,u),new ss(h.writeTree_.set(D,P))}{const D=new Tn(u),P=h.writeTree_.setTree(c,D);return new ss(P)}}}function _o(h,c,u){let _=h;return J(u,(D,P)=>{_=dl(_,Cr(c,D),P)}),_}function $a(h,c){if(Gn(c))return ss.empty();{const u=h.writeTree_.setTree(c,new Tn(null));return new ss(u)}}function Ei(h,c){return null!=zi(h,c)}function zi(h,c){const u=h.writeTree_.findRootMostValueAndPath(c);return null!=u?h.writeTree_.get(u.path).getChild(Mi(u.path,c)):null}function hl(h){const c=[],u=h.writeTree_.value;return null!=u?u.isLeafNode()||u.forEachChild(Ir,(_,D)=>{c.push(new lr(_,D))}):h.writeTree_.children.inorderTraversal((_,D)=>{null!=D.value&&c.push(new lr(_,D.value))}),c}function js(h,c){if(Gn(c))return h;{const u=zi(h,c);return new ss(null!=u?new Tn(u):h.writeTree_.subtree(c))}}function ki(h){return h.writeTree_.isEmpty()}function $s(h,c){return Li(Xt(),h.writeTree_,c)}function Li(h,c,u){if(null!=c.value)return u.updateChild(h,c.value);{let _=null;return c.children.inorderTraversal((D,P)=>{".priority"===D?((0,R.hu)(null!==P.value,"Priority writes must always be leaf nodes"),_=P.value):u=Li(Cr(h,D),P,u)}),!u.getChild(h).isEmpty()&&null!==_&&(u=u.updateChild(Cr(h,".priority"),_)),u}}function us(h,c){return pl(c,h)}function Or(h,c){if(h.snap)return li(h.path,c);for(const u in h.children)if(h.children.hasOwnProperty(u)&&li(Cr(h.path,u),c))return!0;return!1}function ia(h){return h.visible}function ro(h,c,u){let _=ss.empty();for(let D=0;D<h.length;++D){const P=h[D];if(c(P)){const z=P.path;let ce;if(P.snap)li(u,z)?(ce=Mi(u,z),_=dl(_,ce,P.snap)):li(z,u)&&(ce=Mi(z,u),_=dl(_,Xt(),P.snap.getChild(ce)));else{if(!P.children)throw(0,R.g5)("WriteRecord should have .snap or .children");if(li(u,z))ce=Mi(u,z),_=_o(_,ce,P.children);else if(li(z,u))if(ce=Mi(z,u),Gn(ce))_=_o(_,Xt(),P.children);else{const Re=(0,R.DV)(P.children,an(ce));if(Re){const nt=Re.getChild(ar(ce));_=dl(_,Xt(),nt)}}}}}return _}function za(h,c,u,_,D){if(_||D){const P=js(h.visibleWrites,c);return!D&&ki(P)?u:D||null!=u||Ei(P,Xt())?$s(ro(h.allWrites,function(nt){return(nt.visible||D)&&(!_||!~_.indexOf(nt.writeId))&&(li(nt.path,c)||li(c,nt.path))},c),u||Fn.EMPTY_NODE):null}{const P=zi(h.visibleWrites,c);if(null!=P)return P;{const z=js(h.visibleWrites,c);return ki(z)?u:null!=u||Ei(z,Xt())?$s(z,u||Fn.EMPTY_NODE):null}}}function yo(h,c,u,_){return za(h.writeTree,h.treePath,c,u,_)}function wa(h,c){return function fl(h,c,u){let _=Fn.EMPTY_NODE;const D=zi(h.visibleWrites,c);if(D)return D.isLeafNode()||D.forEachChild(Ir,(P,z)=>{_=_.updateImmediateChild(P,z)}),_;if(u){const P=js(h.visibleWrites,c);return u.forEachChild(Ir,(z,ce)=>{const Re=$s(js(P,new Ut(z)),ce);_=_.updateImmediateChild(z,Re)}),hl(P).forEach(z=>{_=_.updateImmediateChild(z.name,z.node)}),_}return hl(js(h.visibleWrites,c)).forEach(z=>{_=_.updateImmediateChild(z.name,z.node)}),_}(h.writeTree,h.treePath,c)}function Wa(h,c,u,_){return function Rs(h,c,u,_,D){(0,R.hu)(_||D,"Either existingEventSnap or existingServerSnap must exist");const P=Cr(c,u);if(Ei(h.visibleWrites,P))return null;{const z=js(h.visibleWrites,P);return ki(z)?D.getChild(u):$s(z,D.getChild(u))}}(h.writeTree,h.treePath,c,u,_)}function vs(h,c){return function gu(h,c){return zi(h.visibleWrites,c)}(h.writeTree,Cr(h.treePath,c))}function ds(h,c,u){return function Po(h,c,u,_){const D=Cr(c,u),P=zi(h.visibleWrites,D);return null!=P?P:_.isCompleteForChild(u)?$s(js(h.visibleWrites,D),_.getNode().getImmediateChild(u)):null}(h.writeTree,h.treePath,c,u)}function Fo(h,c){return pl(Cr(h.treePath,c),h.writeTree)}function pl(h,c){return{treePath:h,writeTree:c}}class sa{constructor(){this.changeMap=new Map}trackChildChange(c){const u=c.type,_=c.childName;(0,R.hu)("child_added"===u||"child_changed"===u||"child_removed"===u,"Only child changes supported for tracking"),(0,R.hu)(".priority"!==_,"Only non-priority child changes can be tracked.");const D=this.changeMap.get(_);if(D){const P=D.type;if("child_added"===u&&"child_removed"===P)this.changeMap.set(_,Jo(_,c.snapshotNode,D.snapshotNode));else if("child_removed"===u&&"child_added"===P)this.changeMap.delete(_);else if("child_removed"===u&&"child_changed"===P)this.changeMap.set(_,al(_,D.oldSnap));else if("child_changed"===u&&"child_added"===P)this.changeMap.set(_,po(_,c.snapshotNode));else{if("child_changed"!==u||"child_changed"!==P)throw(0,R.g5)("Illegal combination of changes: "+c+" occurred after "+D);this.changeMap.set(_,Jo(_,c.snapshotNode,D.oldSnap))}}else this.changeMap.set(_,c)}getChanges(){return Array.from(this.changeMap.values())}}const Ia=new class Da{getCompleteChild(c){return null}getChildAfterChild(c,u,_){return null}};class ti{constructor(c,u,_=null){this.writes_=c,this.viewCache_=u,this.optCompleteServerCache_=_}getCompleteChild(c){const u=this.viewCache_.eventCache;if(u.isCompleteForChild(c))return u.getNode().getImmediateChild(c);{const _=null!=this.optCompleteServerCache_?new Ea(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ds(this.writes_,c,_)}}getChildAfterChild(c,u,_){const D=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Kr(this.viewCache_),P=function No(h,c,u,_,D,P){return function _u(h,c,u,_,D,P,z){let ce;const Re=js(h.visibleWrites,c),nt=zi(Re,Xt());if(null!=nt)ce=nt;else{if(null==u)return[];ce=$s(Re,u)}if(ce=ce.withIndex(z),ce.isEmpty()||ce.isLeafNode())return[];{const jt=[],Kt=z.getCompare(),on=P?ce.getReverseIteratorFrom(_,z):ce.getIteratorFrom(_,z);let Pn=on.getNext();for(;Pn&&jt.length<D;)0!==Kt(Pn,_)&&jt.push(Pn),Pn=on.getNext();return jt}}(h.writeTree,h.treePath,c,u,_,D,P)}(this.writes_,D,u,1,_,c);return 0===P.length?null:P[0]}}function sc(h,c,u,_,D,P){const z=c.eventCache;if(null!=vs(_,u))return c;{let ce,Re;if(Gn(u))if((0,R.hu)(c.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),c.serverCache.isFiltered()){const nt=Kr(c),Kt=wa(_,nt instanceof Fn?nt:Fn.EMPTY_NODE);ce=h.filter.updateFullNode(c.eventCache.getNode(),Kt,P)}else{const nt=yo(_,Kr(c));ce=h.filter.updateFullNode(c.eventCache.getNode(),nt,P)}else{const nt=an(u);if(".priority"===nt){(0,R.hu)(1===$n(u),"Can't have a priority with additional path components");const jt=z.getNode();Re=c.serverCache.getNode();const Kt=Wa(_,u,jt,Re);ce=null!=Kt?h.filter.updatePriority(jt,Kt):z.getNode()}else{const jt=ar(u);let Kt;if(z.isCompleteForChild(nt)){Re=c.serverCache.getNode();const on=Wa(_,u,z.getNode(),Re);Kt=null!=on?z.getNode().getImmediateChild(nt).updateChild(jt,on):z.getNode().getImmediateChild(nt)}else Kt=ds(_,nt,c.serverCache);ce=null!=Kt?h.filter.updateChild(z.getNode(),nt,Kt,jt,D,P):z.getNode()}}return Hs(c,ce,z.isFullyInitialized()||Gn(u),h.filter.filtersNodes())}}function Ka(h,c,u,_,D,P,z,ce){const Re=c.serverCache;let nt;const jt=z?h.filter:h.filter.getIndexedFilter();if(Gn(u))nt=jt.updateFullNode(Re.getNode(),_,null);else if(jt.filtersNodes()&&!Re.isFiltered()){const Pn=Re.getNode().updateChild(u,_);nt=jt.updateFullNode(Re.getNode(),Pn,null)}else{const Pn=an(u);if(!Re.isCompleteForPath(u)&&$n(u)>1)return c;const Zn=ar(u),as=Re.getNode().getImmediateChild(Pn).updateChild(Zn,_);nt=".priority"===Pn?jt.updatePriority(Re.getNode(),as):jt.updateChild(Re.getNode(),Pn,as,Zn,Ia,null)}const Kt=ei(c,nt,Re.isFullyInitialized()||Gn(u),jt.filtersNodes());return sc(h,Kt,u,D,new ti(D,Kt,P),ce)}function Xu(h,c,u,_,D,P,z){const ce=c.eventCache;let Re,nt;const jt=new ti(D,c,P);if(Gn(u))nt=h.filter.updateFullNode(c.eventCache.getNode(),_,z),Re=Hs(c,nt,!0,h.filter.filtersNodes());else{const Kt=an(u);if(".priority"===Kt)nt=h.filter.updatePriority(c.eventCache.getNode(),_),Re=Hs(c,nt,ce.isFullyInitialized(),ce.isFiltered());else{const on=ar(u),Pn=ce.getNode().getImmediateChild(Kt);let Zn;if(Gn(on))Zn=_;else{const Zr=jt.getCompleteChild(Kt);Zn=null!=Zr?".priority"===Rr(on)&&Zr.getChild(Ts(on)).isEmpty()?Zr:Zr.updateChild(on,_):Fn.EMPTY_NODE}Re=Pn.equals(Zn)?c:Hs(c,h.filter.updateChild(ce.getNode(),Kt,Zn,on,jt,z),ce.isFullyInitialized(),h.filter.filtersNodes())}}return Re}function Ta(h,c){return h.eventCache.isCompleteForChild(c)}function vu(h,c,u){return u.foreach((_,D)=>{c=c.updateChild(_,D)}),c}function Bi(h,c,u,_,D,P,z,ce){if(c.serverCache.getNode().isEmpty()&&!c.serverCache.isFullyInitialized())return c;let nt,Re=c;nt=Gn(u)?_:new Tn(null).setTree(u,_);const jt=c.serverCache.getNode();return nt.children.inorderTraversal((Kt,on)=>{if(jt.hasChild(Kt)){const Zn=vu(0,c.serverCache.getNode().getImmediateChild(Kt),on);Re=Ka(h,Re,new Ut(Kt),Zn,D,P,z,ce)}}),nt.children.inorderTraversal((Kt,on)=>{const Pn=!c.serverCache.isCompleteForChild(Kt)&&null===on.value;if(!jt.hasChild(Kt)&&!Pn){const Zr=vu(0,c.serverCache.getNode().getImmediateChild(Kt),on);Re=Ka(h,Re,new Ut(Kt),Zr,D,P,z,ce)}}),Re}class Tl{constructor(c,u){this.query_=c,this.eventRegistrations_=[];const _=this.query_._queryParams,D=new ko(_.getIndex()),P=function ba(h){return h.loadsAllData()?new ko(h.getIndex()):h.hasLimit()?new va(h):new ea(h)}(_);this.processor_=function yu(h){return{filter:h}}(P);const z=u.serverCache,ce=u.eventCache,Re=D.updateFullNode(Fn.EMPTY_NODE,z.getNode(),null),nt=P.updateFullNode(Fn.EMPTY_NODE,ce.getNode(),null),jt=new Ea(Re,z.isFullyInitialized(),D.filtersNodes()),Kt=new Ea(nt,ce.isFullyInitialized(),P.filtersNodes());this.viewCache_=cl(Kt,jt),this.eventGenerator_=new mc(this.query_)}get query(){return this.query_}}function yc(h,c){const u=Kr(h.viewCache_);return u&&(h.query._queryParams.loadsAllData()||!Gn(c)&&!u.getImmediateChild(an(c)).isEmpty())?u.getChild(c):null}function ml(h){return 0===h.eventRegistrations_.length}function M(h,c,u){const _=[];if(u){(0,R.hu)(null==c,"A cancel should cancel all event registrations.");const D=h.query._path;h.eventRegistrations_.forEach(P=>{const z=P.createCancelEvent(u,D);z&&_.push(z)})}if(c){let D=[];for(let P=0;P<h.eventRegistrations_.length;++P){const z=h.eventRegistrations_[P];if(z.matches(c)){if(c.hasAnyCallback()){D=D.concat(h.eventRegistrations_.slice(P+1));break}}else D.push(z)}h.eventRegistrations_=D}else h.eventRegistrations_=[];return _}function I(h,c,u,_){c.type===bi.MERGE&&null!==c.source.queryId&&((0,R.hu)(Kr(h.viewCache_),"We should always have a full cache before handling merges"),(0,R.hu)(ul(h.viewCache_),"Missing event cache, even though we have a server cache"));const D=h.viewCache_,P=function Il(h,c,u,_,D){const P=new sa;let z,ce;if(u.type===bi.OVERWRITE){const nt=u;nt.source.fromUser?z=Xu(h,c,nt.path,nt.snap,_,D,P):((0,R.hu)(nt.source.fromServer,"Unknown source."),ce=nt.source.tagged||c.serverCache.isFiltered()&&!Gn(nt.path),z=Ka(h,c,nt.path,nt.snap,_,D,ce,P))}else if(u.type===bi.MERGE){const nt=u;nt.source.fromUser?z=function Bc(h,c,u,_,D,P,z){let ce=c;return _.foreach((Re,nt)=>{const jt=Cr(u,Re);Ta(c,an(jt))&&(ce=Xu(h,ce,jt,nt,D,P,z))}),_.foreach((Re,nt)=>{const jt=Cr(u,Re);Ta(c,an(jt))||(ce=Xu(h,ce,jt,nt,D,P,z))}),ce}(h,c,nt.path,nt.children,_,D,P):((0,R.hu)(nt.source.fromServer,"Unknown source."),ce=nt.source.tagged||c.serverCache.isFiltered(),z=Bi(h,c,nt.path,nt.children,_,D,ce,P))}else if(u.type===bi.ACK_USER_WRITE){const nt=u;z=nt.revert?function _c(h,c,u,_,D,P){let z;if(null!=vs(_,u))return c;{const ce=new ti(_,c,D),Re=c.eventCache.getNode();let nt;if(Gn(u)||".priority"===an(u)){let jt;if(c.serverCache.isFullyInitialized())jt=yo(_,Kr(c));else{const Kt=c.serverCache.getNode();(0,R.hu)(Kt instanceof Fn,"serverChildren would be complete if leaf node"),jt=wa(_,Kt)}nt=h.filter.updateFullNode(Re,jt,P)}else{const jt=an(u);let Kt=ds(_,jt,c.serverCache);null==Kt&&c.serverCache.isCompleteForChild(jt)&&(Kt=Re.getImmediateChild(jt)),nt=null!=Kt?h.filter.updateChild(Re,jt,Kt,ar(u),ce,P):c.eventCache.getNode().hasChild(jt)?h.filter.updateChild(Re,jt,Fn.EMPTY_NODE,ar(u),ce,P):Re,nt.isEmpty()&&c.serverCache.isFullyInitialized()&&(z=yo(_,Kr(c)),z.isLeafNode()&&(nt=h.filter.updateFullNode(nt,z,P)))}return z=c.serverCache.isFullyInitialized()||null!=vs(_,Xt()),Hs(c,nt,z,h.filter.filtersNodes())}}(h,c,nt.path,_,D,P):function oc(h,c,u,_,D,P,z){if(null!=vs(D,u))return c;const ce=c.serverCache.isFiltered(),Re=c.serverCache;if(null!=_.value){if(Gn(u)&&Re.isFullyInitialized()||Re.isCompleteForPath(u))return Ka(h,c,u,Re.getNode().getChild(u),D,P,ce,z);if(Gn(u)){let nt=new Tn(null);return Re.getNode().forEachChild(Ls,(jt,Kt)=>{nt=nt.set(new Ut(jt),Kt)}),Bi(h,c,u,nt,D,P,ce,z)}return c}{let nt=new Tn(null);return _.foreach((jt,Kt)=>{const on=Cr(u,jt);Re.isCompleteForPath(on)&&(nt=nt.set(jt,Re.getNode().getChild(on)))}),Bi(h,c,u,nt,D,P,ce,z)}}(h,c,nt.path,nt.affectedTree,_,D,P)}else{if(u.type!==bi.LISTEN_COMPLETE)throw(0,R.g5)("Unknown operation type: "+u.type);z=function Sa(h,c,u,_,D){const P=c.serverCache;return sc(h,ei(c,P.getNode(),P.isFullyInitialized()||Gn(u),P.isFiltered()),u,_,Ia,D)}(h,c,u.path,_,P)}const Re=P.getChanges();return function Qu(h,c,u){const _=c.eventCache;if(_.isFullyInitialized()){const D=_.getNode().isLeafNode()||_.getNode().isEmpty(),P=ul(h);(u.length>0||!h.eventCache.isFullyInitialized()||D&&!_.getNode().equals(P)||!_.getNode().getPriority().equals(P.getPriority()))&&u.push(Vl(ul(c)))}}(c,z,Re),{viewCache:z,changes:Re}}(h.processor_,D,c,u,_);return function Zu(h,c){(0,R.hu)(c.eventCache.getNode().isIndexed(h.filter.getIndex()),"Event snap not indexed"),(0,R.hu)(c.serverCache.getNode().isIndexed(h.filter.getIndex()),"Server snap not indexed")}(h.processor_,P.viewCache),(0,R.hu)(P.viewCache.serverCache.isFullyInitialized()||!D.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),h.viewCache_=P.viewCache,G(h,P.changes,P.viewCache.eventCache.getNode(),null)}function G(h,c,u,_){return function pu(h,c,u,_){const D=[],P=[];return c.forEach(z=>{"child_changed"===z.type&&h.index_.indexedValueChanged(z.oldSnap,z.snapshotNode)&&P.push(function ya(h,c){return{type:"child_moved",snapshotNode:c,childName:h}}(z.childName,z.snapshotNode))}),ja(h,D,"child_removed",c,_,u),ja(h,D,"child_added",c,_,u),ja(h,D,"child_moved",P,_,u),ja(h,D,"child_changed",c,_,u),ja(h,D,"value",c,_,u),D}(h.eventGenerator_,c,u,_?[_]:h.eventRegistrations_)}let oe,Sl;class $e{constructor(){this.views=new Map}}function jn(h,c,u,_){const D=c.source.queryId;if(null!==D){const P=h.views.get(D);return(0,R.hu)(null!=P,"SyncTree gave us an op for an invalid query."),I(P,c,u,_)}{let P=[];for(const z of h.views.values())P=P.concat(I(z,c,u,_));return P}}function Rn(h,c,u,_,D){const z=h.views.get(c._queryIdentifier);if(!z){let ce=yo(u,D?_:null),Re=!1;ce?Re=!0:_ instanceof Fn?(ce=wa(u,_),Re=!1):(ce=Fn.EMPTY_NODE,Re=!1);const nt=cl(new Ea(ce,Re,!1),new Ea(_,D,!1));return new Tl(c,nt)}return z}function zs(h){const c=[];for(const u of h.views.values())u.query._queryParams.loadsAllData()||c.push(u);return c}function Ws(h,c){let u=null;for(const _ of h.views.values())u=u||yc(_,c);return u}function io(h,c){return c._queryParams.loadsAllData()?Lo(h):h.views.get(c._queryIdentifier)}function Vc(h,c){return null!=io(h,c)}function hs(h){return null!=Lo(h)}function Lo(h){for(const c of h.views.values())if(c.query._queryParams.loadsAllData())return c;return null}let Hc=1;class Bo{constructor(c){this.listenProvider_=c,this.syncPointTree_=new Tn(null),this.pendingWriteTree_=function Ca(){return{visibleWrites:ss.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jl(h,c,u,_,D){return function mu(h,c,u,_,D){(0,R.hu)(_>h.lastWriteId,"Stacking an older write on top of newer ones"),void 0===D&&(D=!0),h.allWrites.push({path:c,snap:u,writeId:_,visible:D}),D&&(h.visibleWrites=dl(h.visibleWrites,c,u)),h.lastWriteId=_}(h.pendingWriteTree_,c,u,_,D),D?Vt(h,new kr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,u)):[]}function gl(h,c,u=!1){const _=function Hl(h,c){for(let u=0;u<h.allWrites.length;u++){const _=h.allWrites[u];if(_.writeId===c)return _}return null}(h.pendingWriteTree_,c);if(function ra(h,c){const u=h.allWrites.findIndex(ce=>ce.writeId===c);(0,R.hu)(u>=0,"removeWrite called with nonexistent writeId.");const _=h.allWrites[u];h.allWrites.splice(u,1);let D=_.visible,P=!1,z=h.allWrites.length-1;for(;D&&z>=0;){const ce=h.allWrites[z];ce.visible&&(z>=u&&Or(ce,_.path)?D=!1:li(_.path,ce.path)&&(P=!0)),z--}return!!D&&(P?(function gc(h){h.visibleWrites=ro(h.allWrites,ia,Xt()),h.lastWriteId=h.allWrites.length>0?h.allWrites[h.allWrites.length-1].writeId:-1}(h),!0):(_.snap?h.visibleWrites=$a(h.visibleWrites,_.path):J(_.children,Re=>{h.visibleWrites=$a(h.visibleWrites,Cr(_.path,Re))}),!0))}(h.pendingWriteTree_,c)){let P=new Tn(null);return null!=_.snap?P=P.set(Xt(),!0):J(_.children,z=>{P=P.set(new Ut(z),!0)}),Vt(h,new no(_.path,P,u))}return[]}function qa(h,c,u){return Vt(h,new kr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,u))}function vc(h,c,u,_,D=!1){const P=c._path,z=h.syncPointTree_.get(P);let ce=[];if(z&&("default"===c._queryIdentifier||Vc(z,c))){const Re=function bs(h,c,u,_){const D=c._queryIdentifier,P=[];let z=[];const ce=hs(h);if("default"===D)for(const[Re,nt]of h.views.entries())z=z.concat(M(nt,u,_)),ml(nt)&&(h.views.delete(Re),nt.query._queryParams.loadsAllData()||P.push(nt.query));else{const Re=h.views.get(D);Re&&(z=z.concat(M(Re,u,_)),ml(Re)&&(h.views.delete(D),Re.query._queryParams.loadsAllData()||P.push(Re.query)))}return ce&&!hs(h)&&P.push(new(function zt(){return(0,R.hu)(oe,"Reference.ts has not been loaded"),oe}())(c._repo,c._path)),{removed:P,events:z}}(z,c,u,_);(function fn(h){return 0===h.views.size})(z)&&(h.syncPointTree_=h.syncPointTree_.remove(P));const nt=Re.removed;if(ce=Re.events,!D){const jt=-1!==nt.findIndex(on=>on._queryParams.loadsAllData()),Kt=h.syncPointTree_.findOnPath(P,(on,Pn)=>hs(Pn));if(jt&&!Kt){const on=h.syncPointTree_.subtree(P);if(!on.isEmpty()){const Pn=function Ya(h){return h.fold((c,u,_)=>{if(u&&hs(u))return[Lo(u)];{let D=[];return u&&(D=zs(u)),J(_,(P,z)=>{D=D.concat(z)}),D}})}(on);for(let Zn=0;Zn<Pn.length;++Zn){const Zr=Pn[Zn],as=Zr.query,Jl=Wn(h,Zr);h.listenProvider_.startListening(Vo(as),tr(h,as),Jl.hashFn,Jl.onComplete)}}}!Kt&&nt.length>0&&!_&&(jt?h.listenProvider_.stopListening(Vo(c),null):nt.forEach(on=>{const Pn=h.queryToTagMap.get(mr(on));h.listenProvider_.stopListening(Vo(on),Pn)}))}!function Al(h,c){for(let u=0;u<c.length;++u){const _=c[u];if(!_._queryParams.loadsAllData()){const D=mr(_),P=h.queryToTagMap.get(D);h.queryToTagMap.delete(D),h.tagToQueryMap.delete(P)}}}(h,nt)}return ce}function V(h,c,u,_){const D=Yn(h,_);if(null!=D){const P=Nr(D),z=P.path,ce=P.queryId,Re=Mi(z,c);return fs(h,z,new kr(Us(ce),Re,u))}return[]}function re(h,c,u,_=!1){const D=c._path;let P=null,z=!1;h.syncPointTree_.foreachOnPath(D,(on,Pn)=>{const Zn=Mi(on,D);P=P||Ws(Pn,Zn),z=z||hs(Pn)});let Re,ce=h.syncPointTree_.get(D);ce?(z=z||hs(ce),P=P||Ws(ce,Xt())):(ce=new $e,h.syncPointTree_=h.syncPointTree_.set(D,ce)),null!=P?Re=!0:(Re=!1,P=Fn.EMPTY_NODE,h.syncPointTree_.subtree(D).foreachChild((Pn,Zn)=>{const Zr=Ws(Zn,Xt());Zr&&(P=P.updateImmediateChild(Pn,Zr))}));const nt=Vc(ce,c);if(!nt&&!c._queryParams.loadsAllData()){const on=mr(c);(0,R.hu)(!h.queryToTagMap.has(on),"View does not exist, but we have a tag");const Pn=function Ml(){return Hc++}();h.queryToTagMap.set(on,Pn),h.tagToQueryMap.set(Pn,on)}let Kt=function $r(h,c,u,_,D,P){const z=Rn(h,c,_,D,P);return h.views.has(c._queryIdentifier)||h.views.set(c._queryIdentifier,z),function S(h,c){h.eventRegistrations_.push(c)}(z,u),function B(h,c){const u=h.viewCache_.eventCache,_=[];return u.getNode().isLeafNode()||u.getNode().forEachChild(Ir,(P,z)=>{_.push(po(P,z))}),u.isFullyInitialized()&&_.push(Vl(u.getNode())),G(h,_,u.getNode(),c)}(z,u)}(ce,c,u,us(h.pendingWriteTree_,D),P,Re);if(!nt&&!z&&!_){const on=io(ce,c);Kt=Kt.concat(function _l(h,c,u){const _=c._path,D=tr(h,c),P=Wn(h,u),z=h.listenProvider_.startListening(Vo(c),D,P.hashFn,P.onComplete),ce=h.syncPointTree_.subtree(_);if(D)(0,R.hu)(!hs(ce.value),"If we're adding a query, it shouldn't be shadowed");else{const Re=ce.fold((nt,jt,Kt)=>{if(!Gn(nt)&&jt&&hs(jt))return[Lo(jt).query];{let on=[];return jt&&(on=on.concat(zs(jt).map(Pn=>Pn.query))),J(Kt,(Pn,Zn)=>{on=on.concat(Zn)}),on}});for(let nt=0;nt<Re.length;++nt){const jt=Re[nt];h.listenProvider_.stopListening(Vo(jt),tr(h,jt))}}return z}(h,c,on))}return Kt}function Ge(h,c,u){const D=h.pendingWriteTree_,P=h.syncPointTree_.findOnPath(c,(z,ce)=>{const nt=Ws(ce,Mi(z,c));if(nt)return nt});return za(D,c,P,u,!0)}function Vt(h,c){return ln(c,h.syncPointTree_,null,us(h.pendingWriteTree_,Xt()))}function ln(h,c,u,_){if(Gn(h.path))return In(h,c,u,_);{const D=c.get(Xt());null==u&&null!=D&&(u=Ws(D,Xt()));let P=[];const z=an(h.path),ce=h.operationForChild(z),Re=c.children.get(z);if(Re&&ce){const nt=u?u.getImmediateChild(z):null,jt=Fo(_,z);P=P.concat(ln(ce,Re,nt,jt))}return D&&(P=P.concat(jn(D,h,_,u))),P}}function In(h,c,u,_){const D=c.get(Xt());null==u&&null!=D&&(u=Ws(D,Xt()));let P=[];return c.children.inorderTraversal((z,ce)=>{const Re=u?u.getImmediateChild(z):null,nt=Fo(_,z),jt=h.operationForChild(z);jt&&(P=P.concat(In(jt,ce,Re,nt)))}),D&&(P=P.concat(jn(D,h,_,u))),P}function Wn(h,c){const u=c.query,_=tr(h,u);return{hashFn:()=>(function ks(h){return h.viewCache_.serverCache.getNode()}(c)||Fn.EMPTY_NODE).hash(),onComplete:D=>{if("ok"===D)return _?function Ji(h,c,u){const _=Yn(h,u);if(_){const D=Nr(_),P=D.path,z=D.queryId,ce=Mi(P,c);return fs(h,P,new Oo(Us(z),ce))}return[]}(h,u._path,_):function bu(h,c){return Vt(h,new Oo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c))}(h,u._path);{const P=function Ne(h,c){let u="Unknown Error";"too_big"===h?u="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===h?u="Client doesn't have permission to access the desired data.":"unavailable"===h&&(u="The service is unavailable");const _=new Error(h+" at "+c._path.toString()+": "+u);return _.code=h.toUpperCase(),_}(D,u);return vc(h,u,null,P)}}}}function tr(h,c){const u=mr(c);return h.queryToTagMap.get(u)}function mr(h){return h._path.toString()+"$"+h._queryIdentifier}function Yn(h,c){return h.tagToQueryMap.get(c)}function Nr(h){const c=h.indexOf("$");return(0,R.hu)(-1!==c&&c<h.length-1,"Bad queryKey."),{queryId:h.substr(c+1),path:new Ut(h.substr(0,c))}}function fs(h,c,u){const _=h.syncPointTree_.get(c);return(0,R.hu)(_,"Missing sync point for query tag that we're tracking"),jn(_,u,us(h.pendingWriteTree_,c),null)}function Vo(h){return h._queryParams.loadsAllData()&&!h._queryParams.isDefault()?new(function Uc(){return(0,R.hu)(Sl,"Reference.ts has not been loaded"),Sl}())(h._repo,h._path):h}class Za{constructor(c){this.node_=c}getImmediateChild(c){const u=this.node_.getImmediateChild(c);return new Za(u)}node(){return this.node_}}class la{constructor(c,u){this.syncTree_=c,this.path_=u}getImmediateChild(c){const u=Cr(this.path_,c);return new la(this.syncTree_,u)}node(){return Ge(this.syncTree_,this.path_)}}const bc=function(h,c,u){return h&&"object"==typeof h?((0,R.hu)(".sv"in h,"Unexpected leaf node or priority contents"),"string"==typeof h[".sv"]?Ju(h[".sv"],c,u):"object"==typeof h[".sv"]?ed(h[".sv"],c):void(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2))):h},Ju=function(h,c,u){if("timestamp"===h)return u.timestamp;(0,R.hu)(!1,"Unexpected server value: "+h)},ed=function(h,c,u){h.hasOwnProperty("increment")||(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2));const _=h.increment;"number"!=typeof _&&(0,R.hu)(!1,"Unexpected increment value: "+_);const D=c.node();if((0,R.hu)(null!==D&&typeof D<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!D.isLeafNode())return _;const z=D.getValue();return"number"!=typeof z?_:z+_},jc=function(h,c,u,_){return $c(c,new la(u,h),_)},Eu=function(h,c,u){return $c(h,new Za(c),u)};function $c(h,c,u){const _=h.getPriority().val(),D=bc(_,c.getImmediateChild(".priority"),u);let P;if(h.isLeafNode()){const z=h,ce=bc(z.getValue(),c,u);return ce!==z.getValue()||D!==z.getPriority().val()?new zr(ce,ie(D)):h}{const z=h;return P=z,D!==z.getPriority().val()&&(P=P.updatePriority(new zr(D))),z.forEachChild(Ir,(ce,Re)=>{const nt=$c(Re,c.getImmediateChild(ce),u);nt!==Re&&(P=P.updateImmediateChild(ce,nt))}),P}}class $l{constructor(c="",u=null,_={children:{},childCount:0}){this.name=c,this.parent=u,this.node=_}}function Ec(h,c){let u=c instanceof Ut?c:new Ut(c),_=h,D=an(u);for(;null!==D;){const P=(0,R.DV)(_.node.children,D)||{children:{},childCount:0};_=new $l(D,_,P),u=ar(u),D=an(u)}return _}function xl(h){return h.node.value}function Jd(h,c){h.node.value=c,Gl(h)}function td(h){return h.node.childCount>0}function Gc(h,c){J(h.node.children,(u,_)=>{c(new $l(u,h,_))})}function zc(h,c,u,_){u&&!_&&c(h),Gc(h,D=>{zc(D,c,!0,_)}),u&&_&&c(h)}function Ma(h){return new Ut(null===h.parent?h.name:Ma(h.parent)+"/"+h.name)}function Gl(h){null!==h.parent&&function Qa(h,c,u){const _=function Qf(h){return void 0===xl(h)&&!td(h)}(u),D=(0,R.r3)(h.node.children,c);_&&D?(delete h.node.children[c],h.node.childCount--,Gl(h)):!_&&!D&&(h.node.children[c]=u.node,h.node.childCount++,Gl(h))}(h.parent,h.name,h)}const th=/[\[\].#$\/\u0000-\u001F\u007F]/,Xf=/[\[\].#$\u0000-\u001F\u007F]/,Kh=10485760,zl=function(h){return"string"==typeof h&&0!==h.length&&!th.test(h)},Cu=function(h){return"string"==typeof h&&0!==h.length&&!Xf.test(h)},Xa=function(h){return null===h||"string"==typeof h||"number"==typeof h&&!zn(h)||h&&"object"==typeof h&&(0,R.r3)(h,".sv")},Os=function(h,c,u,_){_&&void 0===c||vo((0,R.gK)(h,"value"),c,u)},vo=function(h,c,u){const _=u instanceof Ut?new Yi(u,h):u;if(void 0===c)throw new Error(h+"contains undefined "+Qi(_));if("function"==typeof c)throw new Error(h+"contains a function "+Qi(_)+" with contents = "+c.toString());if(zn(c))throw new Error(h+"contains "+c.toString()+" "+Qi(_));if("string"==typeof c&&c.length>Kh/3&&(0,R.ug)(c)>Kh)throw new Error(h+"contains a string greater than "+Kh+" utf8 bytes "+Qi(_)+" ('"+c.substring(0,50)+"...')");if(c&&"object"==typeof c){let D=!1,P=!1;if(J(c,(z,ce)=>{if(".value"===z)D=!0;else if(".priority"!==z&&".sv"!==z&&(P=!0,!zl(z)))throw new Error(h+" contains an invalid key ("+z+") "+Qi(_)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function eo(h,c){h.parts_.length>0&&(h.byteLength_+=1),h.parts_.push(c),h.byteLength_+=(0,R.ug)(c),uo(h)})(_,z),vo(h,ce,_),function Zi(h){const c=h.parts_.pop();h.byteLength_-=(0,R.ug)(c),h.parts_.length>0&&(h.byteLength_-=1)}(_)}),D&&P)throw new Error(h+' contains ".value" child '+Qi(_)+" in addition to actual children.")}},wu=function(h,c,u,_){if(_&&void 0===c)return;const D=(0,R.gK)(h,"values");if(!c||"object"!=typeof c||Array.isArray(c))throw new Error(D+" must be an object containing the children to replace.");const P=[];J(c,(z,ce)=>{const Re=new Ut(z);if(vo(D,ce,Cr(u,Re)),".priority"===Rr(Re)&&!Xa(ce))throw new Error(D+"contains an invalid value for '"+Re.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");P.push(Re)}),function(h,c){let u,_;for(u=0;u<c.length;u++){_=c[u];const P=Ai(_);for(let z=0;z<P.length;z++)if((".priority"!==P[z]||z!==P.length-1)&&!zl(P[z]))throw new Error(h+"contains an invalid key ("+P[z]+") in path "+_.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}c.sort(Js);let D=null;for(u=0;u<c.length;u++){if(_=c[u],null!==D&&li(D,_))throw new Error(h+"contains a path "+D.toString()+" that is ancestor of another path "+_.toString());D=_}}(D,P)},Oi=function(h,c,u){if(!u||void 0!==c){if(zn(c))throw new Error((0,R.gK)(h,"priority")+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Xa(c))throw new Error((0,R.gK)(h,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Wl=function(h,c,u,_){if(!(_&&void 0===u||zl(u)))throw new Error((0,R.gK)(h,c)+'was an invalid key = "'+u+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Kl=function(h,c,u,_){if(!(_&&void 0===u||Cu(u)))throw new Error((0,R.gK)(h,c)+'was an invalid path = "'+u+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},so=function(h,c){if(".info"===an(c))throw new Error(h+" failed = Can't modify data under /.info/")},rd=function(h,c){const u=c.path.toString();if("string"!=typeof c.repoInfo.host||0===c.repoInfo.host.length||!zl(c.repoInfo.namespace)&&"localhost"!==c.repoInfo.host.split(":")[0]||0!==u.length&&!function(h){return h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),Cu(h)}(u))throw new Error((0,R.gK)(h,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Yh{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function id(h,c){let u=null;for(let _=0;_<c.length;_++){const D=c[_],P=D.getPath();null!==u&&!pa(P,u.path)&&(h.eventLists_.push(u),u=null),null===u&&(u={events:[],path:P}),u.events.push(D)}u&&h.eventLists_.push(u)}function Zh(h,c,u){id(h,u),Wc(h,_=>pa(_,c))}function xa(h,c,u){id(h,u),Wc(h,_=>li(_,c)||li(c,_))}function Wc(h,c){h.recursionDepth_++;let u=!0;for(let _=0;_<h.eventLists_.length;_++){const D=h.eventLists_[_];D&&(c(D.path)?(ql(h.eventLists_[_]),h.eventLists_[_]=null):u=!1)}u&&(h.eventLists_=[]),h.recursionDepth_--}function ql(h){for(let c=0;c<h.events.length;c++){const u=h.events[c];if(null!==u){h.events[c]=null;const _=u.getEventRunner();Jt&&Cn("event: "+u.toString()),It(_)}}}const sd="repo_interrupt";class Jf{constructor(c,u,_,D){this.repoInfo_=c,this.forceRestClient_=u,this.authTokenProvider_=_,this.appCheckProvider_=D,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yh,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xn(),this.transactionQueueTree_=new $l,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Du(h){const u=h.infoData_.getNode(new Ut(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+u}function Ra(h){return function(h){return(h=h||{}).timestamp=h.timestamp||(new Date).getTime(),h}({timestamp:Du(h)})}function Yl(h,c,u,_,D){h.dataUpdateCount++;const P=new Ut(c);u=h.interceptServerDataCallback_?h.interceptServerDataCallback_(c,u):u;let z=[];if(D)if(_){const Re=(0,R.UI)(u,nt=>ie(nt));z=function W(h,c,u,_){const D=Yn(h,_);if(D){const P=Nr(D),z=P.path,ce=P.queryId,Re=Mi(z,c),nt=Tn.fromObject(u);return fs(h,z,new go(Us(ce),Re,nt))}return[]}(h.serverSyncTree_,P,Re,D)}else{const Re=ie(u);z=V(h.serverSyncTree_,P,Re,D)}else if(_){const Re=(0,R.UI)(u,nt=>ie(nt));z=function aa(h,c,u){const _=Tn.fromObject(u);return Vt(h,new go({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,_))}(h.serverSyncTree_,P,Re)}else{const Re=ie(u);z=qa(h.serverSyncTree_,P,Re)}let ce=P;z.length>0&&(ce=qc(h,P)),xa(h.eventQueue_,ce,z)}function nh(h,c){Tu(h,"connected",c),!1===c&&function Cc(h){ka(h,"onDisconnectEvents");const c=Ra(h),u=xn();Ur(h.onDisconnect_,Xt(),(D,P)=>{const z=jc(D,P,h.serverSyncTree_,c);Ar(u,D,z)});let _=[];Ur(u,Xt(),(D,P)=>{_=_.concat(qa(h.serverSyncTree_,D,P));const z=hd(h,D);qc(h,z)}),h.onDisconnect_=xn(),xa(h.eventQueue_,Xt(),_)}(h)}function Tu(h,c,u){const _=new Ut("/.info/"+c),D=ie(u);h.infoData_.updateSnapshot(_,D);const P=qa(h.infoSyncTree_,_,D);xa(h.eventQueue_,_,P)}function Su(h){return h.nextWriteId_++}function rh(h,c,u,_,D){ka(h,"set",{path:c.toString(),value:u,priority:_});const P=Ra(h),z=ie(u,_),ce=Ge(h.serverSyncTree_,c),Re=Eu(z,ce,P),nt=Su(h),jt=jl(h.serverSyncTree_,c,Re,nt,!0);id(h.eventQueue_,jt),h.server_.put(c.toString(),z.val(!0),(on,Pn)=>{const Zn="ok"===on;Zn||Un("set at "+c+" failed: "+on);const Zr=gl(h.serverSyncTree_,nt,!Zn);xa(h.eventQueue_,c,Zr),Ho(0,D,on,Pn)});const Kt=hd(h,c);qc(h,Kt),xa(h.eventQueue_,Kt,[])}function Xp(h,c,u){h.server_.onDisconnectCancel(c.toString(),(_,D)=>{"ok"===_&&Vr(h.onDisconnect_,c),Ho(0,u,_,D)})}function ep(h,c,u,_){const D=ie(u);h.server_.onDisconnectPut(c.toString(),D.val(!0),(P,z)=>{"ok"===P&&Ar(h.onDisconnect_,c,D),Ho(0,_,P,z)})}function wc(h,c,u){let _;_=".info"===an(c._path)?vc(h.infoSyncTree_,c,u):vc(h.serverSyncTree_,c,u),Zh(h.eventQueue_,c._path,_)}function Kc(h){h.persistentConnection_&&h.persistentConnection_.interrupt(sd)}function ka(h,...c){let u="";h.persistentConnection_&&(u=h.persistentConnection_.id+":"),Cn(u,...c)}function Ho(h,c,u,_){c&&It(()=>{if("ok"===u)c(null);else{const D=(u||"error").toUpperCase();let P=D;_&&(P+=": "+_);const z=new Error(P);z.code=D,c(z)}})}function Wi(h,c,u){return Ge(h.serverSyncTree_,c,u)||Fn.EMPTY_NODE}function Vi(h,c=h.transactionQueueTree_){if(c||Dc(h,c),xl(c)){const u=dd(h,c);(0,R.hu)(u.length>0,"Sending zero length transaction queue"),u.every(D=>0===D.status)&&function cd(h,c,u){const _=u.map(nt=>nt.currentWriteId),D=Wi(h,c,_);let P=D;const z=D.hash();for(let nt=0;nt<u.length;nt++){const jt=u[nt];(0,R.hu)(0===jt.status,"tryToSendTransactionQueue_: items in queue should all be run."),jt.status=1,jt.retryCount++;const Kt=Mi(c,jt.path);P=P.updateChild(Kt,jt.currentOutputSnapshotRaw)}const ce=P.val(!0),Re=c;h.server_.put(Re.toString(),ce,nt=>{ka(h,"transaction put response",{path:Re.toString(),status:nt});let jt=[];if("ok"===nt){const Kt=[];for(let on=0;on<u.length;on++)u[on].status=2,jt=jt.concat(gl(h.serverSyncTree_,u[on].currentWriteId)),u[on].onComplete&&Kt.push(()=>u[on].onComplete(null,!0,u[on].currentOutputSnapshotResolved)),u[on].unwatcher();Dc(h,Ec(h.transactionQueueTree_,c)),Vi(h,h.transactionQueueTree_),xa(h.eventQueue_,c,jt);for(let on=0;on<Kt.length;on++)It(Kt[on])}else{if("datastale"===nt)for(let Kt=0;Kt<u.length;Kt++)u[Kt].status=3===u[Kt].status?4:0;else{Un("transaction at "+Re.toString()+" failed: "+nt);for(let Kt=0;Kt<u.length;Kt++)u[Kt].status=4,u[Kt].abortReason=nt}qc(h,c)}},z)}(h,Ma(c),u)}else td(c)&&Gc(c,u=>{Vi(h,u)})}function qc(h,c){const u=ud(h,c),_=Ma(u);return function sh(h,c,u){if(0===c.length)return;const _=[];let D=[];const z=c.filter(ce=>0===ce.status).map(ce=>ce.currentWriteId);for(let ce=0;ce<c.length;ce++){const Re=c[ce],nt=Mi(u,Re.path);let Kt,jt=!1;if((0,R.hu)(null!==nt,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Re.status)jt=!0,Kt=Re.abortReason,D=D.concat(gl(h.serverSyncTree_,Re.currentWriteId,!0));else if(0===Re.status)if(Re.retryCount>=25)jt=!0,Kt="maxretry",D=D.concat(gl(h.serverSyncTree_,Re.currentWriteId,!0));else{const on=Wi(h,Re.path,z);Re.currentInputSnapshot=on;const Pn=c[ce].update(on.val());if(void 0!==Pn){vo("transaction failed: Data returned ",Pn,Re.path);let Zn=ie(Pn);"object"==typeof Pn&&null!=Pn&&(0,R.r3)(Pn,".priority")||(Zn=Zn.updatePriority(on.getPriority()));const as=Re.currentWriteId,Jl=Ra(h),Oc=Eu(Zn,on,Jl);Re.currentOutputSnapshotRaw=Zn,Re.currentOutputSnapshotResolved=Oc,Re.currentWriteId=Su(h),z.splice(z.indexOf(as),1),D=D.concat(jl(h.serverSyncTree_,Re.path,Oc,Re.currentWriteId,Re.applyLocally)),D=D.concat(gl(h.serverSyncTree_,as,!0))}else jt=!0,Kt="nodata",D=D.concat(gl(h.serverSyncTree_,Re.currentWriteId,!0))}xa(h.eventQueue_,u,D),D=[],jt&&(c[ce].status=2,setTimeout(c[ce].unwatcher,Math.floor(0)),c[ce].onComplete&&_.push("nodata"===Kt?()=>c[ce].onComplete(null,!1,c[ce].currentInputSnapshot):()=>c[ce].onComplete(new Error(Kt),!1,null)))}Dc(h,h.transactionQueueTree_);for(let ce=0;ce<_.length;ce++)It(_[ce]);Vi(h,h.transactionQueueTree_)}(h,dd(h,u),_),_}function ud(h,c){let u,_=h.transactionQueueTree_;for(u=an(c);null!==u&&void 0===xl(_);)_=Ec(_,u),u=an(c=ar(c));return _}function dd(h,c){const u=[];return oh(h,c,u),u.sort((_,D)=>_.order-D.order),u}function oh(h,c,u){const _=xl(c);if(_)for(let D=0;D<_.length;D++)u.push(_[D]);Gc(c,D=>{oh(h,D,u)})}function Dc(h,c){const u=xl(c);if(u){let _=0;for(let D=0;D<u.length;D++)2!==u[D].status&&(u[_]=u[D],_++);u.length=_,Jd(c,u.length>0?u:void 0)}Gc(c,_=>{Dc(h,_)})}function hd(h,c){const u=Ma(ud(h,c)),_=Ec(h.transactionQueueTree_,c);return function eh(h,c,u){let _=u?h:h.parent;for(;null!==_;){if(c(_))return!0;_=_.parent}}(_,D=>{vl(h,D)}),vl(h,_),zc(_,D=>{vl(h,D)}),u}function vl(h,c){const u=xl(c);if(u){const _=[];let D=[],P=-1;for(let z=0;z<u.length;z++)3===u[z].status||(1===u[z].status?((0,R.hu)(P===z-1,"All SENT items should be at beginning of queue."),P=z,u[z].status=3,u[z].abortReason="set"):((0,R.hu)(0===u[z].status,"Unexpected transaction status in abort"),u[z].unwatcher(),D=D.concat(gl(h.serverSyncTree_,u[z].currentWriteId,!0)),u[z].onComplete&&_.push(u[z].onComplete.bind(null,new Error("set"),!1,null))));-1===P?Jd(c,void 0):u.length=P+1,xa(h.eventQueue_,Ma(c),D);for(let z=0;z<_.length;z++)It(_[z])}}const Rl=function(h,c){const u=Ic(h),_=u.namespace;return"firebase.com"===u.domain&&Ln(u.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!_||"undefined"===_)&&"localhost"!==u.domain&&Ln("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),u.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Un("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ht(u.host,u.secure,_,"ws"===u.scheme||"wss"===u.scheme,c,"",_!==u.subdomain),path:new Ut(u.pathString)}},Ic=function(h){let c="",u="",_="",D="",P="",z=!0,ce="https",Re=443;if("string"==typeof h){let nt=h.indexOf("//");nt>=0&&(ce=h.substring(0,nt-1),h=h.substring(nt+2));let jt=h.indexOf("/");-1===jt&&(jt=h.length);let Kt=h.indexOf("?");-1===Kt&&(Kt=h.length),c=h.substring(0,Math.min(jt,Kt)),jt<Kt&&(D=function xu(h){let c="";const u=h.split("/");for(let _=0;_<u.length;_++)if(u[_].length>0){let D=u[_];try{D=decodeURIComponent(D.replace(/\+/g," "))}catch{}c+="/"+D}return c}(h.substring(jt,Kt)));const on=function tp(h){const c={};"?"===h.charAt(0)&&(h=h.substring(1));for(const u of h.split("&")){if(0===u.length)continue;const _=u.split("=");2===_.length?c[decodeURIComponent(_[0])]=decodeURIComponent(_[1]):Un(`Invalid query segment '${u}' in query '${h}'`)}return c}(h.substring(Math.min(h.length,Kt)));nt=c.indexOf(":"),nt>=0?(z="https"===ce||"wss"===ce,Re=parseInt(c.substring(nt+1),10)):nt=c.length;const Pn=c.slice(0,nt);if("localhost"===Pn.toLowerCase())u="localhost";else if(Pn.split(".").length<=2)u=Pn;else{const Zn=c.indexOf(".");_=c.substring(0,Zn).toLowerCase(),u=c.substring(Zn+1),P=_}"ns"in on&&(P=on.ns)}return{host:c,port:Re,domain:u,subdomain:_,secure:z,scheme:ce,pathString:D,namespace:P}};class fd{constructor(c,u,_,D){this.eventType=c,this.eventRegistration=u,this.snapshot=_,this.prevName=D}getPath(){const c=this.snapshot.ref;return"value"===this.eventType?c._path:c.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,R.Wl)(this.snapshot.exportVal())}}class Ru{constructor(c,u,_){this.eventRegistration=c,this.error=u,this.path=_}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Tc{constructor(c,u){this.snapshotCallback=c,this.cancelCallback=u}onValue(c,u){this.snapshotCallback.call(null,c,u)}onCancel(c){return(0,R.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,c)}get hasCancelCallback(){return!!this.cancelCallback}matches(c){return this.snapshotCallback===c.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===c.snapshotCallback.userCallback&&this.snapshotCallback.context===c.snapshotCallback.context}}class pd{constructor(c,u){this._repo=c,this._path=u}cancel(){const c=new R.BH;return Xp(this._repo,this._path,c.wrapCallback(()=>{})),c.promise}remove(){so("OnDisconnect.remove",this._path);const c=new R.BH;return ep(this._repo,this._path,null,c.wrapCallback(()=>{})),c.promise}set(c){so("OnDisconnect.set",this._path),Os("OnDisconnect.set",c,this._path,!1);const u=new R.BH;return ep(this._repo,this._path,c,u.wrapCallback(()=>{})),u.promise}setWithPriority(c,u){so("OnDisconnect.setWithPriority",this._path),Os("OnDisconnect.setWithPriority",c,this._path,!1),Oi("OnDisconnect.setWithPriority",u,!1);const _=new R.BH;return function Xh(h,c,u,_,D){const P=ie(u,_);h.server_.onDisconnectPut(c.toString(),P.val(!0),(z,ce)=>{"ok"===z&&Ar(h.onDisconnect_,c,P),Ho(0,D,z,ce)})}(this._repo,this._path,c,u,_.wrapCallback(()=>{})),_.promise}update(c){so("OnDisconnect.update",this._path),wu("OnDisconnect.update",c,this._path,!1);const u=new R.BH;return function ld(h,c,u,_){if((0,R.xb)(u))return Cn("onDisconnect().update() called with empty data.  Don't do anything."),void Ho(0,_,"ok",void 0);h.server_.onDisconnectMerge(c.toString(),u,(D,P)=>{"ok"===D&&J(u,(z,ce)=>{const Re=ie(ce);Ar(h.onDisconnect_,Cr(c,z),Re)}),Ho(0,_,D,P)})}(this._repo,this._path,c,u.wrapCallback(()=>{})),u.promise}}class Es{constructor(c,u,_,D){this._repo=c,this._path=u,this._queryParams=_,this._orderByCalled=D}get key(){return Gn(this._path)?null:Rr(this._path)}get ref(){return new jo(this._repo,this._path)}get _queryIdentifier(){const c=tt(this._queryParams),u=Z(c);return"{}"===u?"default":u}get _queryObject(){return tt(this._queryParams)}isEqual(c){if(!((c=(0,R.m9)(c))instanceof Es))return!1;const u=this._repo===c._repo,_=pa(this._path,c._path);return u&&_&&this._queryIdentifier===c._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ji(h){let c="";for(let u=h.pieceNum_;u<h.pieces_.length;u++)""!==h.pieces_[u]&&(c+="/"+encodeURIComponent(String(h.pieces_[u])));return c||"/"}(this._path)}}function Sc(h,c){if(!0===h._orderByCalled)throw new Error(c+": You can't combine multiple orderBy calls.")}function el(h){let c=null,u=null;if(h.hasStart()&&(c=h.getIndexStartValue()),h.hasEnd()&&(u=h.getIndexEndValue()),h.getIndex()===Ls){const _="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",D="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(h.hasStart()){if(h.getIndexStartName()!==Hn)throw new Error(_);if("string"!=typeof c)throw new Error(D)}if(h.hasEnd()){if(h.getIndexEndName()!==Xn)throw new Error(_);if("string"!=typeof u)throw new Error(D)}}else if(h.getIndex()===Ir){if(null!=c&&!Xa(c)||null!=u&&!Xa(u))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,R.hu)(h.getIndex()instanceof Pt||h.getIndex()===si,"unknown index type."),null!=c&&"object"==typeof c||null!=u&&"object"==typeof u)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ac(h){if(h.hasStart()&&h.hasEnd()&&h.hasLimit()&&!h.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class jo extends Es{constructor(c,u){super(c,u,new mo,!1)}get parent(){const c=Ts(this._path);return null===c?null:new jo(this._repo,c)}get root(){let c=this;for(;null!==c.parent;)c=c.parent;return c}}class kl{constructor(c,u,_){this._node=c,this.ref=u,this._index=_}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(c){const u=new Ut(c),_=$o(this.ref,c);return new kl(this._node.getChild(u),_,Ir)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(c){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(_,D)=>c(new kl(D,$o(this.ref,_),Ir)))}hasChild(c){const u=new Ut(c);return!this._node.getChild(u).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function oo(h,c){return(h=(0,R.m9)(h))._checkNotDeleted("ref"),void 0!==c?$o(h._root,c):h._root}function Zl(h,c){(h=(0,R.m9)(h))._checkNotDeleted("refFromURL");const u=Rl(c,h._repo.repoInfo_.nodeAdmin);rd("refFromURL",u);const _=u.repoInfo;return!h._repo.repoInfo_.isCustomHost()&&_.host!==h._repo.repoInfo_.host&&Ln("refFromURL: Host name does not match the current database: (found "+_.host+" but expected "+h._repo.repoInfo_.host+")"),oo(h,u.path.toString())}function $o(h,c){return null===an((h=(0,R.m9)(h))._path)?(u=c,u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),Kl("child","path",u,!1)):Kl("child","path",c,!1),new jo(h._repo,Cr(h._path,c));var u}function Ql(h,c){h=(0,R.m9)(h),so("set",h._path),Os("set",c,h._path,!1);const u=new R.BH;return rh(h._repo,h._path,c,null,u.wrapCallback(()=>{})),u.promise}function Go(h,c){wu("update",c,h._path,!1);const u=new R.BH;return function ad(h,c,u,_){ka(h,"update",{path:c.toString(),value:u});let D=!0;const P=Ra(h),z={};if(J(u,(ce,Re)=>{D=!1,z[ce]=jc(Cr(c,ce),ie(Re),h.serverSyncTree_,P)}),D)Cn("update() called with empty data.  Don't do anything."),Ho(0,_,"ok",void 0);else{const ce=Su(h),Re=function Aa(h,c,u,_){!function Ga(h,c,u,_){(0,R.hu)(_>h.lastWriteId,"Stacking an older merge on top of newer ones"),h.allWrites.push({path:c,children:u,writeId:_,visible:!0}),h.visibleWrites=_o(h.visibleWrites,c,u),h.lastWriteId=_}(h.pendingWriteTree_,c,u,_);const D=Tn.fromObject(u);return Vt(h,new go({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,D))}(h.serverSyncTree_,c,z,ce);id(h.eventQueue_,Re),h.server_.merge(c.toString(),u,(nt,jt)=>{const Kt="ok"===nt;Kt||Un("update at "+c+" failed: "+nt);const on=gl(h.serverSyncTree_,ce,!Kt),Pn=on.length>0?qc(h,c):c;xa(h.eventQueue_,Pn,on),Ho(0,_,nt,jt)}),J(u,nt=>{const jt=hd(h,Cr(c,nt));qc(h,jt)}),xa(h.eventQueue_,c,[])}}(h._repo,h._path,c,u.wrapCallback(()=>{})),u.promise}function md(h){h=(0,R.m9)(h);const c=new Tc(()=>{}),u=new Ol(c);return function od(h,c,u){const _=function Ct(h,c){const u=c._path;let _=null;h.syncPointTree_.foreachOnPath(u,(nt,jt)=>{const Kt=Mi(nt,u);_=_||Ws(jt,Kt)});let D=h.syncPointTree_.get(u);D?_=_||Ws(D,Xt()):(D=new $e,h.syncPointTree_=h.syncPointTree_.set(u,D));const P=null!=_,z=P?new Ea(_,!0,!1):null;return function Gs(h){return ul(h.viewCache_)}(Rn(D,c,us(h.pendingWriteTree_,c._path),P?z.getNode():Fn.EMPTY_NODE,P))}(h.serverSyncTree_,c);return null!=_?Promise.resolve(_):h.server_.get(c).then(D=>{const P=ie(D).withIndex(c._queryParams.getIndex());let z;if(re(h.serverSyncTree_,c,u,!0),c._queryParams.loadsAllData())z=qa(h.serverSyncTree_,c._path,P);else{const ce=tr(h.serverSyncTree_,c);z=V(h.serverSyncTree_,c._path,P,ce)}return xa(h.eventQueue_,c._path,z),vc(h.serverSyncTree_,c,u,null,!0),P},D=>(ka(h,"get for query "+(0,R.Wl)(c)+" failed: "+D),Promise.reject(new Error(D))))}(h._repo,h,u).then(_=>new kl(_,new jo(h._repo,h._path),h._queryParams.getIndex()))}class Ol{constructor(c){this.callbackContext=c}respondsTo(c){return"value"===c}createEvent(c,u){const _=u._queryParams.getIndex();return new fd("value",this,new kl(c.snapshotNode,new jo(u._repo,u._path),_))}getEventRunner(c){return"cancel"===c.getEventType()?()=>this.callbackContext.onCancel(c.error):()=>this.callbackContext.onValue(c.snapshot,null)}createCancelEvent(c,u){return this.callbackContext.hasCancelCallback?new Ru(this,c,u):null}matches(c){return c instanceof Ol&&(!c.callbackContext||!this.callbackContext||c.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class bo{constructor(c,u){this.eventType=c,this.callbackContext=u}respondsTo(c){let u="children_added"===c?"child_added":c;return u="children_removed"===u?"child_removed":u,this.eventType===u}createCancelEvent(c,u){return this.callbackContext.hasCancelCallback?new Ru(this,c,u):null}createEvent(c,u){(0,R.hu)(null!=c.childName,"Child events should have a childName.");const _=$o(new jo(u._repo,u._path),c.childName),D=u._queryParams.getIndex();return new fd(c.type,this,new kl(c.snapshotNode,_,D),c.prevName)}getEventRunner(c){return"cancel"===c.getEventType()?()=>this.callbackContext.onCancel(c.error):()=>this.callbackContext.onValue(c.snapshot,c.prevName)}matches(c){return c instanceof bo&&this.eventType===c.eventType&&(!this.callbackContext||!c.callbackContext||this.callbackContext.matches(c.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Zc(h,c,u,_,D){let P;if("object"==typeof _&&(P=void 0,D=_),"function"==typeof _&&(P=_),D&&D.onlyOnce){const Re=u,nt=(jt,Kt)=>{wc(h._repo,h,ce),Re(jt,Kt)};nt.userCallback=u.userCallback,nt.context=u.context,u=nt}const z=new Tc(u,P||void 0),ce="value"===c?new Ol(z):new bo(c,z);return function Au(h,c,u){let _;_=".info"===an(c._path)?re(h.infoSyncTree_,c,u):re(h.serverSyncTree_,c,u),Zh(h.eventQueue_,c._path,_)}(h._repo,h,ce),()=>wc(h._repo,h,ce)}function Qc(h,c,u,_){return Zc(h,"value",c,u,_)}function Ui(h,c,u,_){return Zc(h,"child_added",c,u,_)}function gd(h,c,u,_){return Zc(h,"child_changed",c,u,_)}function _d(h,c,u,_){return Zc(h,"child_moved",c,u,_)}function yd(h,c,u,_){return Zc(h,"child_removed",c,u,_)}function Pl(h,c,u){let _=null;const D=u?new Tc(u):null;"value"===c?_=new Ol(D):c&&(_=new bo(c,D)),wc(h._repo,h,_)}class ao{}class vd extends ao{constructor(c,u){super(),this._value=c,this._key=u}_apply(c){Os("endAt",this._value,c._path,!0);const u=N(c._queryParams,this._value,this._key);if(Ac(u),el(u),c._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Es(c._repo,c._path,u,c._orderByCalled)}}class bd extends ao{constructor(c,u){super(),this._value=c,this._key=u}_apply(c){Os("endBefore",this._value,c._path,!1);const u=function X(h,c,u){let _,D;return h.index_===Ls?("string"==typeof c&&(c=fo(c)),D=N(h,c,u)):(_=null==u?Hn:fo(u),D=N(h,c,_)),D.endBeforeSet_=!0,D}(c._queryParams,this._value,this._key);if(Ac(u),el(u),c._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Es(c._repo,c._path,u,c._orderByCalled)}}class Jh extends ao{constructor(c,u){super(),this._value=c,this._key=u}_apply(c){Os("startAt",this._value,c._path,!0);const u=Ua(c._queryParams,this._value,this._key);if(Ac(u),el(u),c._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Es(c._repo,c._path,u,c._orderByCalled)}}class Nl extends ao{constructor(c,u){super(),this._value=c,this._key=u}_apply(c){Os("startAfter",this._value,c._path,!1);const u=function Ha(h,c,u){let _;if(h.index_===Ls)"string"==typeof c&&(c=Xo(c)),_=Ua(h,c,u);else{let D;D=null==u?Xn:Xo(u),_=Ua(h,c,D)}return _.startAfterSet_=!0,_}(c._queryParams,this._value,this._key);if(Ac(u),el(u),c._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Es(c._repo,c._path,u,c._orderByCalled)}}class E extends ao{constructor(c){super(),this._limit=c}_apply(c){if(c._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Es(c._repo,c._path,function ll(h,c){const u=h.copy();return u.limitSet_=!0,u.limit_=c,u.viewFrom_="l",u}(c._queryParams,this._limit),c._orderByCalled)}}class g extends ao{constructor(c){super(),this._limit=c}_apply(c){if(c._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Es(c._repo,c._path,function Ul(h,c){const u=h.copy();return u.limitSet_=!0,u.limit_=c,u.viewFrom_="r",u}(c._queryParams,this._limit),c._orderByCalled)}}class Q extends ao{constructor(c){super(),this._path=c}_apply(c){Sc(c,"orderByChild");const u=new Ut(this._path);if(Gn(u))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const _=new Pt(u),D=U(c._queryParams,_);return el(D),new Es(c._repo,c._path,D,!0)}}class We extends ao{_apply(c){Sc(c,"orderByKey");const u=U(c._queryParams,Ls);return el(u),new Es(c._repo,c._path,u,!0)}}class bn extends ao{_apply(c){Sc(c,"orderByPriority");const u=U(c._queryParams,Ir);return el(u),new Es(c._repo,c._path,u,!0)}}class _t extends ao{_apply(c){Sc(c,"orderByValue");const u=U(c._queryParams,si);return el(u),new Es(c._repo,c._path,u,!0)}}class Gr extends ao{constructor(c,u){super(),this._value=c,this._key=u}_apply(c){if(Os("equalTo",this._value,c._path,!1),c._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(c._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new vd(this._value,this._key)._apply(new Jh(this._value,this._key)._apply(c))}}function Oa(h,...c){let u=(0,R.m9)(h);for(const _ of c)u=_._apply(u);return u}(function Qe(h){(0,R.hu)(!oe,"__referenceConstructor has already been defined"),oe=h})(jo),function oa(h){(0,R.hu)(!Sl,"__referenceConstructor has already been defined"),Sl=h}(jo);const xc={};function Cd(h,c,u,_,D){let P=_||h.options.databaseURL;void 0===P&&(h.options.projectId||Ln("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Cn("Using default host for project ",h.options.projectId),P=`${h.options.projectId}-default-rtdb.firebaseio.com`);let Re,nt,z=Rl(P,D),ce=z.repoInfo;typeof process<"u"&&process.env&&(nt=process.env.FIREBASE_DATABASE_EMULATOR_HOST),nt?(Re=!0,P=`http://${nt}?ns=${ce.namespace}`,z=Rl(P,D),ce=z.repoInfo):Re=!z.repoInfo.secure;const jt=D&&Re?new et(et.OWNER):new vt(h.name,h.options,c);rd("Invalid Firebase Database URL",z),Gn(z.path)||Ln("Database URL must point to the root of a Firebase Database (not including a child path).");const Kt=function Jp(h,c,u,_){let D=xc[c.name];D||(D={},xc[c.name]=D);let P=D[h.toURLString()];return P&&Ln("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),P=new Jf(h,false,u,_),D[h.toURLString()]=P,P}(ce,h,jt,new sn(h.name,u));return new wd(Kt,h)}class wd{constructor(c,u){this._repoInternal=c,this.app=u,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ja(h,c,u){if(h.stats_=rr(h.repoInfo_),h.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)h.server_=new xt(h.repoInfo_,(_,D,P,z)=>{Yl(h,_,D,P,z)},h.authTokenProvider_,h.appCheckProvider_),setTimeout(()=>nh(h,!0),0);else{if(typeof u<"u"&&null!==u){if("object"!=typeof u)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,R.Wl)(u)}catch(_){throw new Error("Invalid authOverride provided: "+_)}}h.persistentConnection_=new ri(h.repoInfo_,c,(_,D,P,z)=>{Yl(h,_,D,P,z)},_=>{nh(h,_)},_=>{!function Iu(h,c){J(c,(u,_)=>{Tu(h,u,_)})}(h,_)},h.authTokenProvider_,h.appCheckProvider_,u),h.server_=h.persistentConnection_}h.authTokenProvider_.addTokenChangeListener(_=>{h.server_.refreshAuthToken(_)}),h.appCheckProvider_.addTokenChangeListener(_=>{h.server_.refreshAppCheckToken(_.token)}),h.statsReporter_=function Ke(h,c){const u=h.toString();return fr[u]||(fr[u]=c()),fr[u]}(h.repoInfo_,()=>new xs(h.stats_,h.server_)),h.infoData_=new Wt,h.infoSyncTree_=new Bo({startListening:(_,D,P,z)=>{let ce=[];const Re=h.infoData_.getNode(_._path);return Re.isEmpty()||(ce=qa(h.infoSyncTree_,_._path,Re),setTimeout(()=>{z("ok")},0)),ce},stopListening:()=>{}}),Tu(h,"connected",!1),h.serverSyncTree_=new Bo({startListening:(_,D,P,z)=>(h.server_.listen(_,P,D,(ce,Re)=>{const nt=z(ce,Re);xa(h.eventQueue_,_._path,nt)}),[]),stopListening:(_,D)=>{h.server_.unlisten(_,D)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jo(this._repo,Xt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ip(h,c){const u=xc[c];(!u||u[h.key]!==h)&&Ln(`Database ${c}(${h.repoInfo_}) has already been deleted.`),Kc(h),delete u[h.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(c){null===this._rootInternal&&Ln("Cannot call "+c+" on a deleted database.")}}function gr(){_s.IS_TRANSPORT_INITIALIZED&&Un("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Xl(){gr(),Sr.forceDisallow()}function uh(){gr(),Ii.forceDisallow(),Sr.forceAllow()}function hh(h,c){Mn(h,c)}const kn={".sv":"timestamp"};class Pu{constructor(c,u){this.committed=c,this.snapshot=u}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ri.prototype.simpleListen=function(h,c){this.sendRequest("q",{p:h},c)},ri.prototype.echo=function(h,c){this.sendRequest("echo",{d:h},c)},function Cs(h){ve(Le.SDK_VERSION),(0,Le._registerComponent)(new ge.wA("database",(c,{instanceIdentifier:u})=>Cd(c.getProvider("app").getImmediate(),c.getProvider("auth-internal"),c.getProvider("app-check-internal"),u),"PUBLIC").setMultipleInstances(!0)),(0,Le.registerVersion)(ke,we,h),(0,Le.registerVersion)(ke,we,"esm2017")}();const tm=new Pe.Yd("@firebase/database-compat"),tl=function(h){tm.warn("FIREBASE WARNING: "+h)};class rm{constructor(c){this._delegate=c}cancel(c){(0,R.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,R.Wj)("OnDisconnect.cancel","onComplete",c,!0);const u=this._delegate.cancel();return c&&u.then(()=>c(null),_=>c(_)),u}remove(c){(0,R.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,R.Wj)("OnDisconnect.remove","onComplete",c,!0);const u=this._delegate.remove();return c&&u.then(()=>c(null),_=>c(_)),u}set(c,u){(0,R.Dv)("OnDisconnect.set",1,2,arguments.length),(0,R.Wj)("OnDisconnect.set","onComplete",u,!0);const _=this._delegate.set(c);return u&&_.then(()=>u(null),D=>u(D)),_}setWithPriority(c,u,_){(0,R.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,R.Wj)("OnDisconnect.setWithPriority","onComplete",_,!0);const D=this._delegate.setWithPriority(c,u);return _&&D.then(()=>_(null),P=>_(P)),D}update(c,u){if((0,R.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(c)){const D={};for(let P=0;P<c.length;++P)D[""+P]=c[P];c=D,tl("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,R.Wj)("OnDisconnect.update","onComplete",u,!0);const _=this._delegate.update(c);return u&&_.then(()=>u(null),D=>u(D)),_}}class ws{constructor(c,u){this.committed=c,this.snapshot=u}toJSON(){return(0,R.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Fl{constructor(c,u){this._database=c,this._delegate=u}val(){return(0,R.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,R.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,R.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,R.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(c){return(0,R.Dv)("DataSnapshot.child",0,1,arguments.length),c=String(c),Kl("DataSnapshot.child","path",c,!1),new Fl(this._database,this._delegate.child(c))}hasChild(c){return(0,R.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Kl("DataSnapshot.hasChild","path",c,!1),this._delegate.hasChild(c)}getPriority(){return(0,R.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(c){return(0,R.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,R.Wj)("DataSnapshot.forEach","action",c,!1),this._delegate.forEach(u=>c(new Fl(this._database,u)))}hasChildren(){return(0,R.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,R.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,R.Dv)("DataSnapshot.ref",0,0,arguments.length),new Eo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class At{constructor(c,u){this.database=c,this._delegate=u}on(c,u,_,D){var P;(0,R.Dv)("Query.on",2,4,arguments.length),(0,R.Wj)("Query.on","callback",u,!1);const z=At.getCancelAndContextArgs_("Query.on",_,D),ce=(nt,jt)=>{u.call(z.context,new Fl(this.database,nt),jt)};ce.userCallback=u,ce.context=z.context;const Re=null===(P=z.cancel)||void 0===P?void 0:P.bind(z.context);switch(c){case"value":return Qc(this._delegate,ce,Re),u;case"child_added":return Ui(this._delegate,ce,Re),u;case"child_removed":return yd(this._delegate,ce,Re),u;case"child_changed":return gd(this._delegate,ce,Re),u;case"child_moved":return _d(this._delegate,ce,Re),u;default:throw new Error((0,R.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(c,u,_){if((0,R.Dv)("Query.off",0,3,arguments.length),function(h,c,u){if(void 0!==c)switch(c){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,R.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,c),(0,R.Wj)("Query.off","callback",u,!0),(0,R.lb)("Query.off","context",_,!0),u){const D=()=>{};D.userCallback=u,D.context=_,Pl(this._delegate,c,D)}else Pl(this._delegate,c)}get(){return md(this._delegate).then(c=>new Fl(this.database,c))}once(c,u,_,D){(0,R.Dv)("Query.once",1,4,arguments.length),(0,R.Wj)("Query.once","callback",u,!0);const P=At.getCancelAndContextArgs_("Query.once",_,D),z=new R.BH,ce=(nt,jt)=>{const Kt=new Fl(this.database,nt);u&&u.call(P.context,Kt,jt),z.resolve(Kt)};ce.userCallback=u,ce.context=P.context;const Re=nt=>{P.cancel&&P.cancel.call(P.context,nt),z.reject(nt)};switch(c){case"value":Qc(this._delegate,ce,Re,{onlyOnce:!0});break;case"child_added":Ui(this._delegate,ce,Re,{onlyOnce:!0});break;case"child_removed":yd(this._delegate,ce,Re,{onlyOnce:!0});break;case"child_changed":gd(this._delegate,ce,Re,{onlyOnce:!0});break;case"child_moved":_d(this._delegate,ce,Re,{onlyOnce:!0});break;default:throw new Error((0,R.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return z.promise}limitToFirst(c){return(0,R.Dv)("Query.limitToFirst",1,1,arguments.length),new At(this.database,Oa(this._delegate,function p(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new E(h)}(c)))}limitToLast(c){return(0,R.Dv)("Query.limitToLast",1,1,arguments.length),new At(this.database,Oa(this._delegate,function T(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new g(h)}(c)))}orderByChild(c){return(0,R.Dv)("Query.orderByChild",1,1,arguments.length),new At(this.database,Oa(this._delegate,function fe(h){if("$key"===h)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===h)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===h)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Kl("orderByChild","path",h,!1),new Q(h)}(c)))}orderByKey(){return(0,R.Dv)("Query.orderByKey",0,0,arguments.length),new At(this.database,Oa(this._delegate,function yt(){return new We}()))}orderByPriority(){return(0,R.Dv)("Query.orderByPriority",0,0,arguments.length),new At(this.database,Oa(this._delegate,function Gt(){return new bn}()))}orderByValue(){return(0,R.Dv)("Query.orderByValue",0,0,arguments.length),new At(this.database,Oa(this._delegate,function Bt(){return new _t}()))}startAt(c=null,u){return(0,R.Dv)("Query.startAt",0,2,arguments.length),new At(this.database,Oa(this._delegate,function Ks(h=null,c){return Wl("startAt","key",c,!0),new Jh(h,c)}(c,u)))}startAfter(c=null,u){return(0,R.Dv)("Query.startAfter",0,2,arguments.length),new At(this.database,Oa(this._delegate,function ac(h,c){return Wl("startAfter","key",c,!0),new Nl(h,c)}(c,u)))}endAt(c=null,u){return(0,R.Dv)("Query.endAt",0,2,arguments.length),new At(this.database,Oa(this._delegate,function lh(h,c){return Wl("endAt","key",c,!0),new vd(h,c)}(c,u)))}endBefore(c=null,u){return(0,R.Dv)("Query.endBefore",0,2,arguments.length),new At(this.database,Oa(this._delegate,function Ed(h,c){return Wl("endBefore","key",c,!0),new bd(h,c)}(c,u)))}equalTo(c,u){return(0,R.Dv)("Query.equalTo",1,2,arguments.length),new At(this.database,Oa(this._delegate,function ca(h,c){return Wl("equalTo","key",c,!0),new Gr(h,c)}(c,u)))}toString(){return(0,R.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,R.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(c){if((0,R.Dv)("Query.isEqual",1,1,arguments.length),!(c instanceof At))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(c._delegate)}static getCancelAndContextArgs_(c,u,_){const D={cancel:void 0,context:void 0};if(u&&_)D.cancel=u,(0,R.Wj)(c,"cancel",D.cancel,!0),D.context=_,(0,R.lb)(c,"context",D.context,!0);else if(u)if("object"==typeof u&&null!==u)D.context=u;else{if("function"!=typeof u)throw new Error((0,R.gK)(c,"cancelOrContext")+" must either be a cancel callback or a context object.");D.cancel=u}return D}get ref(){return new Eo(this.database,new jo(this._delegate._repo,this._delegate._path))}}class Eo extends At{constructor(c,u){super(c,new Es(u._repo,u._path,new mo,!1)),this.database=c,this._delegate=u}getKey(){return(0,R.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(c){return(0,R.Dv)("Reference.child",1,1,arguments.length),"number"==typeof c&&(c=String(c)),new Eo(this.database,$o(this._delegate,c))}getParent(){(0,R.Dv)("Reference.parent",0,0,arguments.length);const c=this._delegate.parent;return c?new Eo(this.database,c):null}getRoot(){return(0,R.Dv)("Reference.root",0,0,arguments.length),new Eo(this.database,this._delegate.root)}set(c,u){(0,R.Dv)("Reference.set",1,2,arguments.length),(0,R.Wj)("Reference.set","onComplete",u,!0);const _=Ql(this._delegate,c);return u&&_.then(()=>u(null),D=>u(D)),_}update(c,u){if((0,R.Dv)("Reference.update",1,2,arguments.length),Array.isArray(c)){const D={};for(let P=0;P<c.length;++P)D[""+P]=c[P];c=D,tl("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}so("Reference.update",this._delegate._path),(0,R.Wj)("Reference.update","onComplete",u,!0);const _=Go(this._delegate,c);return u&&_.then(()=>u(null),D=>u(D)),_}setWithPriority(c,u,_){(0,R.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,R.Wj)("Reference.setWithPriority","onComplete",_,!0);const D=function Ou(h,c,u){if(so("setWithPriority",h._path),Os("setWithPriority",c,h._path,!1),Oi("setWithPriority",u,!1),".length"===h.key||".keys"===h.key)throw"setWithPriority failed: "+h.key+" is a read-only object.";const _=new R.BH;return rh(h._repo,h._path,c,u,_.wrapCallback(()=>{})),_.promise}(this._delegate,c,u);return _&&D.then(()=>_(null),P=>_(P)),D}remove(c){(0,R.Dv)("Reference.remove",0,1,arguments.length),(0,R.Wj)("Reference.remove","onComplete",c,!0);const u=function Mc(h){return so("remove",h._path),Ql(h,null)}(this._delegate);return c&&u.then(()=>c(null),_=>c(_)),u}transaction(c,u,_){(0,R.Dv)("Reference.transaction",1,3,arguments.length),(0,R.Wj)("Reference.transaction","transactionUpdate",c,!1),(0,R.Wj)("Reference.transaction","onComplete",u,!0),function(h,c,u,_){if(void 0!==u&&"boolean"!=typeof u)throw new Error((0,R.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,_);const D=function Tg(h,c,u){var _;if(h=(0,R.m9)(h),so("Reference.transaction",h._path),".length"===h.key||".keys"===h.key)throw"Reference.transaction failed: "+h.key+" is a read-only object.";const D=null===(_=u?.applyLocally)||void 0===_||_,P=new R.BH,ce=Qc(h,()=>{});return function Mu(h,c,u,_,D,P){ka(h,"transaction on "+c);const z={path:c,update:u,onComplete:_,status:null,order:En(),applyLocally:P,retryCount:0,unwatcher:D,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ce=Wi(h,c,void 0);z.currentInputSnapshot=ce;const Re=z.update(ce.val());if(void 0===Re)z.unwatcher(),z.currentOutputSnapshotRaw=null,z.currentOutputSnapshotResolved=null,z.onComplete&&z.onComplete(null,!1,z.currentInputSnapshot);else{vo("transaction failed: Data returned ",Re,z.path),z.status=0;const nt=Ec(h.transactionQueueTree_,c),jt=xl(nt)||[];let Kt;jt.push(z),Jd(nt,jt),"object"==typeof Re&&null!==Re&&(0,R.r3)(Re,".priority")?(Kt=(0,R.DV)(Re,".priority"),(0,R.hu)(Xa(Kt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Kt=(Ge(h.serverSyncTree_,c)||Fn.EMPTY_NODE).getPriority().val();const on=Ra(h),Pn=ie(Re,Kt),Zn=Eu(Pn,ce,on);z.currentOutputSnapshotRaw=Pn,z.currentOutputSnapshotResolved=Zn,z.currentWriteId=Su(h);const Zr=jl(h.serverSyncTree_,c,Zn,z.currentWriteId,z.applyLocally);xa(h.eventQueue_,c,Zr),Vi(h,h.transactionQueueTree_)}}(h._repo,h._path,c,(Re,nt,jt)=>{let Kt=null;Re?P.reject(Re):(Kt=new kl(jt,new jo(h._repo,h._path),Ir),P.resolve(new Pu(nt,Kt)))},ce,D),P.promise}(this._delegate,c,{applyLocally:_}).then(P=>new ws(P.committed,new Fl(this.database,P.snapshot)));return u&&D.then(P=>u(null,P.committed,P.snapshot),P=>u(P,!1,null)),D}setPriority(c,u){(0,R.Dv)("Reference.setPriority",1,2,arguments.length),(0,R.Wj)("Reference.setPriority","onComplete",u,!0);const _=function ku(h,c){h=(0,R.m9)(h),so("setPriority",h._path),Oi("setPriority",c,!1);const u=new R.BH;return rh(h._repo,Cr(h._path,".priority"),c,null,u.wrapCallback(()=>{})),u.promise}(this._delegate,c);return u&&_.then(()=>u(null),D=>u(D)),_}push(c,u){(0,R.Dv)("Reference.push",0,2,arguments.length),(0,R.Wj)("Reference.push","onComplete",u,!0);const _=function Yc(h,c){h=(0,R.m9)(h),so("push",h._path),Os("push",c,h._path,!0);const u=Du(h._repo),_=Va(u),D=$o(h,_),P=$o(h,_);let z;return z=null!=c?Ql(P,c).then(()=>P):Promise.resolve(P),D.then=z.then.bind(z),D.catch=z.then.bind(z,void 0),D}(this._delegate,c),D=_.then(z=>new Eo(this.database,z));u&&D.then(()=>u(null),z=>u(z));const P=new Eo(this.database,_);return P.then=D.then.bind(D),P.catch=D.catch.bind(D,void 0),P}onDisconnect(){return so("Reference.onDisconnect",this._delegate._path),new rm(new pd(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ci{constructor(c,u){this._delegate=c,this.app=u,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Xl,forceLongPolling:uh}}useEmulator(c,u,_={}){!function ur(h,c,u,_={}){(h=(0,R.m9)(h))._checkNotDeleted("useEmulator"),h._instanceStarted&&Ln("Cannot call useEmulator() after instance has already been initialized.");const D=h._repoInternal;let P;if(D.repoInfo_.nodeAdmin)_.mockUserToken&&Ln('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),P=new et(et.OWNER);else if(_.mockUserToken){const z="string"==typeof _.mockUserToken?_.mockUserToken:(0,R.Sg)(_.mockUserToken,h.app.options.projectId);P=new et(z)}!function rp(h,c,u,_){h.repoInfo_=new Ht(`${c}:${u}`,!1,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams),_&&(h.authTokenProvider_=_)}(D,c,u,P)}(this._delegate,c,u,_)}ref(c){if((0,R.Dv)("database.ref",0,1,arguments.length),c instanceof Eo){const u=Zl(this._delegate,c.toString());return new Eo(this,u)}{const u=oo(this._delegate,c);return new Eo(this,u)}}refFromURL(c){(0,R.Dv)("database.refFromURL",1,1,arguments.length);const _=Zl(this._delegate,c);return new Eo(this,_)}goOffline(){return(0,R.Dv)("database.goOffline",0,0,arguments.length),function dh(h){(h=(0,R.m9)(h))._checkNotDeleted("goOffline"),Kc(h._repo)}(this._delegate)}goOnline(){return(0,R.Dv)("database.goOnline",0,0,arguments.length),function ni(h){(h=(0,R.m9)(h))._checkNotDeleted("goOnline"),function ih(h){h.persistentConnection_&&h.persistentConnection_.resume(sd)}(h._repo)}(this._delegate)}}Ci.ServerValue={TIMESTAMP:function tf(){return kn}(),increment:h=>function nf(h){return{".sv":{increment:h}}}(h)};var Dd=Object.freeze({__proto__:null,initStandalone:function fh({app:h,url:c,version:u,customAuthImpl:_,namespace:D,nodeAdmin:P=!1}){ve(u);const z=new ge.zt("auth-internal",new ge.H0("database-standalone"));return z.setComponent(new ge.wA("auth-internal",()=>_,"PRIVATE")),{instance:new Ci(Cd(h,z,void 0,c,P),h),namespace:D}}});const Xc=Ci.ServerValue;!function Sg(h){h.INTERNAL.registerComponent(new ge.wA("database-compat",(c,{instanceIdentifier:u})=>{const _=c.getProvider("app-compat").getImmediate(),D=c.getProvider("database").getImmediate({identifier:u});return new Ci(D,_)},"PUBLIC").setServiceProps({Reference:Eo,Query:At,Database:Ci,DataSnapshot:Fl,enableLogging:hh,INTERNAL:Dd,ServerValue:Xc}).setMultipleInstances(!0)),h.registerVersion("@firebase/database-compat","0.2.10")}(Se.Z);var Pa=A(1205),im=A(440),sf=A(127);function Na(h){return null==h}function op(h){return"function"==typeof h.set}function Jc(h,c){return op(c)?c:h.ref(c)}function ap(h,c){if(function Ag(h){return"string"==typeof h}(h))return c.stringCase();if(op(h))return c.firebaseCase();if(function sm(h){return"function"==typeof h.exportVal}(h))return c.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof h)}function Ki(h,c,u="on",_=k.z){return new b.y(D=>{let P=null;return P=h[u](c,(z,ce)=>{_.schedule(()=>{D.next({snapshot:z,prevKey:ce})}),"once"===u&&_.schedule(()=>D.complete())},z=>{_.schedule(()=>D.error(z))}),"on"===u?{unsubscribe(){null!=P&&h.off(c,P)}}:{unsubscribe(){}}}).pipe((0,se.U)(D=>{const{snapshot:P,prevKey:z}=D;let ce=null;return P.exists()&&(ce=P.key),{type:c,payload:P,prevKey:z,key:ce}}),(0,je.B)())}function qi(h,c){const u=h.length;for(let _=0;_<u;_++)if(h[_].payload.key===c)return _;return-1}function om(h,c){const{payload:u,prevKey:_,key:D}=c,P=qi(h,D),z=function Pi(h,c){if(Na(c))return 0;{const u=qi(h,c);return-1===u?h.length:u+1}}(h,_);switch(c.type){case"value":if(c.payload&&c.payload.exists()){let ce=null;c.payload.forEach(Re=>{const nt={payload:Re,type:"value",prevKey:ce,key:Re.key};return ce=Re.key,h=[...h,nt],!1})}return h;case"child_added":if(P>-1){const ce=h[P-1];(ce&&ce.key||null)!==_&&(h=h.filter(Re=>Re.payload.key!==u.key)).splice(z,0,c)}else{if(null==_)return[c,...h];(h=h.slice()).splice(z,0,c)}return h;case"child_removed":return h.filter(ce=>ce.payload.key!==u.key);case"child_changed":return h.map(ce=>ce.payload.key===D?c:ce);case"child_moved":if(P>-1){const ce=h.splice(P,1)[0];return(h=h.slice()).splice(z,0,ce),h}return h;default:return h}}function Id(h){return(Na(h)||0===h.length)&&(h=["child_added","child_removed","child_changed","child_moved"]),h}function bl(h,c,u){return function Rc(h,c,u){return Ki(h,"value","once",u).pipe((0,xe.w)(_=>{const D=[(0,ee.of)(_)];return c.forEach(P=>D.push(Ki(h,P,"on",u))),(0,Ee.T)(...D).pipe((0,Oe.R)(om,[]))}),(0,ae.x)())}(h,c=Id(c),u)}function lp(h,c,u){const _=(c=Id(c)).map(D=>Ki(h,D,"on",u));return(0,Ee.T)(..._)}function es(h,c){return function(_,D){return ap(_,{stringCase:()=>h.child(_)[c](D),firebaseCase:()=>_[c](D),snapshotCase:()=>_.ref[c](D)})}}function Fu(h){return function(u){return u?ap(u,{stringCase:()=>h.child(u).remove(),firebaseCase:()=>u.remove(),snapshotCase:()=>u.ref.remove()}):h.remove()}}function cp(h,c){return function(){return Ki(h,"value","on",c)}}const Mg=new m.OlP("angularfire2.realtimeDatabaseURL"),eu=new m.OlP("angularfire2.database.use-emulator");let tu=(()=>{class h{constructor(u,_,D,P,z,ce,Re,nt,jt,Kt,on,Pn,Zn,Zr,as){this.schedulers=ce;const Jl=Re,Oc=(0,Tt.on)(u,z,_);nt&&(0,Pa.nw)(Oc,z,jt,on,Pn,Zn,Kt,Zr),this.database=(0,Tt.cc)(`${Oc.name}.database.${D}`,"AngularFireDatabase",Oc.name,()=>{const Bu=z.runOutsideAngular(()=>Oc.database(D||void 0));return Jl&&Bu.useEmulator(...Jl),Bu},[Jl])}list(u,_){const D=this.schedulers.ngZone.runOutsideAngular(()=>Jc(this.database,u));let P=D;return _&&(P=_(D)),function af(h,c){const u=c.schedulers.outsideAngular,_=c.schedulers.ngZone.run(()=>h.ref);return{query:h,update:es(_,"update"),set:es(_,"set"),push:D=>_.push(D),remove:Fu(_),snapshotChanges:D=>bl(h,D,u).pipe(Lt.iC),stateChanges:D=>lp(h,D,u).pipe(Lt.iC),auditTrail:D=>function Co(h,c,u){return function cc(h,c,u){return function lc(h,c){return Ki(h,"value","on",c).pipe((0,se.U)(u=>{let _;return u.payload.forEach(D=>(_=D.key,!1)),{data:u,lastKeyToLoad:_}}))}(h,u).pipe(function ut(...h){const c=(0,bt.jO)(h);return(0,ye.e)((u,_)=>{const D=h.length,P=new Array(D);let z=h.map(()=>!1),ce=!1;for(let Re=0;Re<D;Re++)(0,at.Xf)(h[Re]).subscribe((0,me.x)(_,nt=>{P[Re]=nt,!ce&&!z[Re]&&(z[Re]=!0,(ce=z.every(lt.y))&&(z=null))},Je.Z));u.subscribe((0,me.x)(_,Re=>{if(ce){const nt=[Re,...P];_.next(c?c(...nt):nt)}}))})}(c),(0,se.U)(([D,P])=>{const z=D.lastKeyToLoad,ce=P.map(Re=>Re.key);return{actions:P,lastKeyToLoad:z,loadedKeys:ce}}),function ct(h){return(0,ye.e)((c,u)=>{let _=!1,D=0;c.subscribe((0,me.x)(u,P=>(_||(_=!h(P,D++)))&&u.next(P)))})}(D=>-1===D.loadedKeys.indexOf(D.lastKeyToLoad)),(0,se.U)(D=>D.actions))}(h,lp(h,c).pipe((0,Oe.R)((D,P)=>[...D,P],[])),u)}(h,D,u).pipe(Lt.iC),valueChanges:(D,P)=>bl(h,D,u).pipe((0,se.U)(ce=>ce.map(Re=>P&&P.idField?Object.assign(Object.assign({},Re.payload.val()),{[P.idField]:Re.key}):Re.payload.val())),Lt.iC)}}(P,this)}object(u){return function kc(h,c){return{query:h,snapshotChanges:()=>cp(h,c.schedulers.outsideAngular)().pipe(Lt.iC),update:u=>h.ref.update(u),set:u=>h.ref.set(u),remove:()=>h.ref.remove(),valueChanges:()=>cp(h,c.schedulers.outsideAngular)().pipe(Lt.iC,(0,se.U)(_=>_.payload.exists()?_.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Jc(this.database,u)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return h.\u0275fac=function(u){return new(u||h)(m.LFG(Tt.Dh),m.LFG(Tt.xv,8),m.LFG(Mg,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Lt.HU),m.LFG(eu,8),m.LFG(Pa.zQ,8),m.LFG(Pa.Qv,8),m.LFG(Pa.L6,8),m.LFG(Pa._Q,8),m.LFG(Pa.rT,8),m.LFG(Pa.lh,8),m.LFG(Pa.f7,8),m.LFG(im.nm,8))},h.\u0275prov=m.Yz7({token:h,factory:h.\u0275fac,providedIn:"any"}),h})(),Lu=(()=>{class h{constructor(){sf.Z.registerVersion("angularfire",Lt.q4.full,"rtdb-compat")}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=m.oAB({type:h}),h.\u0275inj=m.cJS({providers:[tu]}),h})()},2011:(dn,ot,A)=>{A.d(ot,{Dh:()=>xe,GT:()=>se,cc:()=>lt,hO:()=>at,on:()=>ae,pX:()=>Ee,xv:()=>Oe});var m=A(4650),k=A(127),b=A(5813);dn=A.hmd(dn);const ee=["ngOnDestroy"],Ee=(ct,Lt,Tt,ze={})=>new Proxy(ct,{get:(Se,ge)=>Tt.runOutsideAngular(()=>{var ue;if(ct[ge])return!(null===(ue=ze?.spy)||void 0===ue)&&ue.get&&ze.spy.get(ge,ct[ge]),ct[ge];if(ee.indexOf(ge)>-1)return()=>{};const Le=Lt.toPromise().then(R=>{const Pe=R&&R[ge];return"function"==typeof Pe?Pe.bind(R):Pe&&Pe.then?Pe.then(ke=>Tt.run(()=>ke)):Tt.run(()=>Pe)});return new Proxy(()=>{},{get:(R,Pe)=>Le[Pe],apply:(R,Pe,ke)=>Le.then(we=>{var Ze;const ve=we&&we(...ke);return!(null===(Ze=ze?.spy)||void 0===Ze)&&Ze.apply&&ze.spy.apply(ge,ke,ve),ve})})})}),se=(ct,Lt)=>{Lt.forEach(Tt=>{Object.getOwnPropertyNames(Tt.prototype||Tt).forEach(ze=>{Object.defineProperty(ct.prototype,ze,Object.getOwnPropertyDescriptor(Tt.prototype||Tt,ze))})})};class je{constructor(Lt){return Lt}}const xe=new m.OlP("angularfire2.app.options"),Oe=new m.OlP("angularfire2.app.name");function ae(ct,Lt,Tt){const Se="object"==typeof Tt&&Tt||{};Se.name=Se.name||"string"==typeof Tt&&Tt||"[DEFAULT]";const ue=k.Z.apps.filter(Le=>Le&&Le.name===Se.name)[0]||Lt.runOutsideAngular(()=>k.Z.initializeApp(ct,Se));try{JSON.stringify(ct)!==JSON.stringify(ue.options)&&ye("error",`${ue.name} Firebase App already initialized with different options${dn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new je(ue)}const ye=(ct,...Lt)=>{(0,m.X6Q)()&&typeof console<"u"&&console[ct](...Lt)},me={provide:je,useFactory:ae,deps:[xe,m.R0b,[new m.FiY,Oe]]};let at=(()=>{class ct{constructor(Tt){k.Z.registerVersion("angularfire",b.q4.full,"core"),k.Z.registerVersion("angularfire",b.q4.full,"app-compat"),k.Z.registerVersion("angular",m.q4F.full,Tt.toString())}static initializeApp(Tt,ze){return{ngModule:ct,providers:[{provide:xe,useValue:Tt},{provide:Oe,useValue:ze}]}}}return ct.\u0275fac=function(Tt){return new(Tt||ct)(m.LFG(m.Lbi))},ct.\u0275mod=m.oAB({type:ct}),ct.\u0275inj=m.cJS({providers:[me]}),ct})();function lt(ct,Lt,Tt,ze,Se){const[,ge,ue]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===ct)||[];if(ge)return function Je(ct,Lt){try{return ct.toString()===Lt.toString()}catch{return ct===Lt}}(Se,ue)||(ut("error",`${Lt} was already initialized on the ${Tt} Firebase App with different settings.${bt?" You may need to reload as Firebase is not HMR aware.":""}`),ut("warn",{is:Se,was:ue})),ge;{const Le=ze();return globalThis.\u0275AngularfireInstanceCache.push([ct,Le,Se]),Le}}const bt=!!dn.hot,ut=(ct,...Lt)=>{(0,m.X6Q)()&&typeof console<"u"&&console[ct](...Lt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(dn,ot,A)=>{A.d(ot,{q4:()=>Qe,iC:()=>aa,HU:()=>Hc,vb:()=>Lo,JM:()=>hs});var m=A(4650),k=A(5867),b=A(5861),ee=A(9681),Ee=A(2090),se=A(3475),je=A(1877),xe=A(8766);const Oe="@firebase/installations",ae="0.5.16",me=`w:${ae}`,at="FIS_v2",Lt=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(V){return V instanceof Ee.ZR&&V.code.includes("request-failed")}function ze({projectId:V}){return`https://firebaseinstallations.googleapis.com/v1/projects/${V}/installations`}function Se(V){return{token:V.token,requestStatus:2,expiresIn:we(V.expiresIn),creationTime:Date.now()}}function ge(V,W){return ue.apply(this,arguments)}function ue(){return(ue=(0,b.Z)(function*(V,W){const Ge=(yield W.json()).error;return Lt.create("request-failed",{requestName:V,serverCode:Ge.code,serverMessage:Ge.message,serverStatus:Ge.status})})).apply(this,arguments)}function Le({apiKey:V}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V})}function R(V,{refreshToken:W}){const re=Le(V);return re.append("Authorization",function Ze(V){return`${at} ${V}`}(W)),re}function Pe(V){return ke.apply(this,arguments)}function ke(){return(ke=(0,b.Z)(function*(V){const W=yield V();return W.status>=500&&W.status<600?V():W})).apply(this,arguments)}function we(V){return Number(V.replace("s","000"))}function ve(V,W){return pt.apply(this,arguments)}function pt(){return(pt=(0,b.Z)(function*({appConfig:V,heartbeatServiceProvider:W},{fid:re}){const Ge=ze(V),Ct=Le(V),Vt=W.getImmediate({optional:!0});if(Vt){const tr=yield Vt.getHeartbeatsHeader();tr&&Ct.append("x-firebase-client",tr)}const In={method:"POST",headers:Ct,body:JSON.stringify({fid:re,authVersion:at,appId:V.appId,sdkVersion:me})},Wn=yield Pe(()=>fetch(Ge,In));if(Wn.ok){const tr=yield Wn.json();return{fid:tr.fid||re,registrationStatus:2,refreshToken:tr.refreshToken,authToken:Se(tr.authToken)}}throw yield ge("Create Installation",Wn)})).apply(this,arguments)}function Dt(V){return new Promise(W=>{setTimeout(W,V)})}const en=/^[cdef][\w-]{21}$/;function qt(){try{const V=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(V),V[0]=112+V[0]%16;const re=function En(V){return function $t(V){return btoa(String.fromCharCode(...V)).replace(/\+/g,"-").replace(/\//g,"_")}(V).substr(0,22)}(V);return en.test(re)?re:""}catch{return""}}function Dn(V){return`${V.appName}!${V.appId}`}const vn=new Map;function Jt(V,W){const re=Dn(V);Cn(re,W),function br(V,W){const re=function Ln(){return!dr&&"BroadcastChannel"in self&&(dr=new BroadcastChannel("[Firebase] FID Change"),dr.onmessage=V=>{Cn(V.data.key,V.data.fid)}),dr}();re&&re.postMessage({key:V,fid:W}),function Un(){0===vn.size&&dr&&(dr.close(),dr=null)}()}(re,W)}function Cn(V,W){const re=vn.get(V);if(re)for(const Ge of re)Ge(W)}let dr=null;const hr="firebase-installations-store";let Hn=null;function Xn(){return Hn||(Hn=(0,xe.X3)("firebase-installations-database",1,{upgrade:(V,W)=>{0===W&&V.createObjectStore(hr)}})),Hn}function tn(V,W){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,b.Z)(function*(V,W){const re=Dn(V),Ct=(yield Xn()).transaction(hr,"readwrite"),Vt=Ct.objectStore(hr),ln=yield Vt.get(re);return yield Vt.put(W,re),yield Ct.done,(!ln||ln.fid!==W.fid)&&Jt(V,W.fid),W})).apply(this,arguments)}function be(V){return Z.apply(this,arguments)}function Z(){return(Z=(0,b.Z)(function*(V){const W=Dn(V),Ge=(yield Xn()).transaction(hr,"readwrite");yield Ge.objectStore(hr).delete(W),yield Ge.done})).apply(this,arguments)}function H(V,W){return J.apply(this,arguments)}function J(){return(J=(0,b.Z)(function*(V,W){const re=Dn(V),Ct=(yield Xn()).transaction(hr,"readwrite"),Vt=Ct.objectStore(hr),ln=yield Vt.get(re),In=W(ln);return void 0===In?yield Vt.delete(re):yield Vt.put(In,re),yield Ct.done,In&&(!ln||ln.fid!==In.fid)&&Jt(V,In.fid),In})).apply(this,arguments)}function Ve(V){return rt.apply(this,arguments)}function rt(){return(rt=(0,b.Z)(function*(V){let W;const re=yield H(V.appConfig,Ge=>{const Ct=Ot(Ge),Vt=Ne(V,Ct);return W=Vt.registrationPromise,Vt.installationEntry});return""===re.fid?{installationEntry:yield W}:{installationEntry:re,registrationPromise:W}})).apply(this,arguments)}function Ot(V){return Nt(V||{fid:qt(),registrationStatus:0})}function Ne(V,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(Lt.create("app-offline"))};const re={fid:W.fid,registrationStatus:1,registrationTime:Date.now()},Ge=function _e(V,W){return q.apply(this,arguments)}(V,re);return{installationEntry:re,registrationPromise:Ge}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:te(V)}:{installationEntry:W}}function q(){return(q=(0,b.Z)(function*(V,W){try{const re=yield ve(V,W);return tn(V.appConfig,re)}catch(re){throw Tt(re)&&409===re.customData.serverCode?yield be(V.appConfig):yield tn(V.appConfig,{fid:W.fid,registrationStatus:0}),re}})).apply(this,arguments)}function te(V){return qe.apply(this,arguments)}function qe(){return(qe=(0,b.Z)(function*(V){let W=yield It(V.appConfig);for(;1===W.registrationStatus;)yield Dt(100),W=yield It(V.appConfig);if(0===W.registrationStatus){const{installationEntry:re,registrationPromise:Ge}=yield Ve(V);return Ge||re}return W})).apply(this,arguments)}function It(V){return H(V,W=>{if(!W)throw Lt.create("installation-not-found");return Nt(W)})}function Nt(V){return function mn(V){return 1===V.registrationStatus&&V.registrationTime+1e4<Date.now()}(V)?{fid:V.fid,registrationStatus:0}:V}function sn(V,W){return vt.apply(this,arguments)}function vt(){return(vt=(0,b.Z)(function*({appConfig:V,heartbeatServiceProvider:W},re){const Ge=et(V,re),Ct=R(V,re),Vt=W.getImmediate({optional:!0});if(Vt){const tr=yield Vt.getHeartbeatsHeader();tr&&Ct.append("x-firebase-client",tr)}const In={method:"POST",headers:Ct,body:JSON.stringify({installation:{sdkVersion:me,appId:V.appId}})},Wn=yield Pe(()=>fetch(Ge,In));if(Wn.ok)return Se(yield Wn.json());throw yield ge("Generate Auth Token",Wn)})).apply(this,arguments)}function et(V,{fid:W}){return`${ze(V)}/${W}/authTokens:generate`}function Ye(V){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,b.Z)(function*(V,W=!1){let re;const Ge=yield H(V.appConfig,Vt=>{if(!Et(Vt))throw Lt.create("not-registered");const ln=Vt.authToken;if(!W&&De(ln))return Vt;if(1===ln.requestStatus)return re=Yt(V,W),Vt;{if(!navigator.onLine)throw Lt.create("app-offline");const In=it(Vt);return re=Te(V,In),In}});return re?yield re:Ge.authToken})).apply(this,arguments)}function Yt(V,W){return He.apply(this,arguments)}function He(){return(He=(0,b.Z)(function*(V,W){let re=yield Ue(V.appConfig);for(;1===re.authToken.requestStatus;)yield Dt(100),re=yield Ue(V.appConfig);const Ge=re.authToken;return 0===Ge.requestStatus?Ye(V,W):Ge})).apply(this,arguments)}function Ue(V){return H(V,W=>{if(!Et(W))throw Lt.create("not-registered");return function Ht(V){return 1===V.requestStatus&&V.requestTime+1e4<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function Te(V,W){return st.apply(this,arguments)}function st(){return(st=(0,b.Z)(function*(V,W){try{const re=yield sn(V,W),Ge=Object.assign(Object.assign({},W),{authToken:re});return yield tn(V.appConfig,Ge),re}catch(re){if(!Tt(re)||401!==re.customData.serverCode&&404!==re.customData.serverCode){const Ge=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield tn(V.appConfig,Ge)}else yield be(V.appConfig);throw re}})).apply(this,arguments)}function Et(V){return void 0!==V&&2===V.registrationStatus}function De(V){return 2===V.requestStatus&&!function Me(V){const W=Date.now();return W<V.creationTime||V.creationTime+V.expiresIn<W+36e5}(V)}function it(V){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},V),{authToken:W})}function gn(){return(gn=(0,b.Z)(function*(V){const W=V,{installationEntry:re,registrationPromise:Ge}=yield Ve(W);return Ge?Ge.catch(console.error):Ye(W).catch(console.error),re.fid})).apply(this,arguments)}function er(){return(er=(0,b.Z)(function*(V,W=!1){const re=V;return yield fr(re),(yield Ye(re,W)).token})).apply(this,arguments)}function fr(V){return rr.apply(this,arguments)}function rr(){return(rr=(0,b.Z)(function*(V){const{registrationPromise:W}=yield Ve(V);W&&(yield W)})).apply(this,arguments)}function Qt(V){return Lt.create("missing-app-config-values",{valueName:V})}const yn="installations",Sn=V=>{const W=V.getProvider("app").getImmediate(),re=function wt(V){if(!V||!V.options)throw Qt("App Configuration");if(!V.name)throw Qt("App Name");const W=["projectId","apiKey","appId"];for(const re of W)if(!V.options[re])throw Qt(re);return{appName:V.name,projectId:V.options.projectId,apiKey:V.options.apiKey,appId:V.options.appId}}(W);return{app:W,appConfig:re,heartbeatServiceProvider:(0,ee._getProvider)(W,"heartbeat"),_delete:()=>Promise.resolve()}},Hr=V=>{const W=V.getProvider("app").getImmediate(),re=(0,ee._getProvider)(W,yn).getImmediate();return{getId:()=>function dt(V){return gn.apply(this,arguments)}(re),getToken:Ct=>function On(V){return er.apply(this,arguments)}(re,Ct)}};(function Yr(){(0,ee._registerComponent)(new se.wA(yn,Sn,"PUBLIC")),(0,ee._registerComponent)(new se.wA("installations-internal",Hr,"PRIVATE"))})(),(0,ee.registerVersion)(Oe,ae),(0,ee.registerVersion)(Oe,ae,"esm2017");const jr="@firebase/remote-config",Sr=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class To{constructor(W,re,Ge,Ct){this.client=W,this.storage=re,this.storageCache=Ge,this.logger=Ct}isCachedDataFresh(W,re){if(!re)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ge=Date.now()-re,Ct=Ge<=W;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${W}. Is cache hit: ${Ct}.`),Ct}fetch(W){var re=this;return(0,b.Z)(function*(){const[Ge,Ct]=yield Promise.all([re.storage.getLastSuccessfulFetchTimestampMillis(),re.storage.getLastSuccessfulFetchResponse()]);if(Ct&&re.isCachedDataFresh(W.cacheMaxAgeMillis,Ge))return Ct;W.eTag=Ct&&Ct.eTag;const Vt=yield re.client.fetch(W),ln=[re.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Vt.status&&ln.push(re.storage.setLastSuccessfulFetchResponse(Vt)),yield Promise.all(ln),Vt})()}}function Xs(V=navigator){return V.languages&&V.languages[0]||V.language}class qo{constructor(W,re,Ge,Ct,Vt,ln){this.firebaseInstallations=W,this.sdkVersion=re,this.namespace=Ge,this.projectId=Ct,this.apiKey=Vt,this.appId=ln}fetch(W){var re=this;return(0,b.Z)(function*(){var Ge,Ct,Vt;const[ln,In]=yield Promise.all([re.firebaseInstallations.getId(),re.firebaseInstallations.getToken()]),tr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${re.projectId}/namespaces/${re.namespace}:fetch?key=${re.apiKey}`,mr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":W.eTag||"*"},Yn={sdk_version:re.sdkVersion,app_instance_id:ln,app_instance_id_token:In,app_id:re.appId,language_code:Xs()},Nr={method:"POST",headers:mr,body:JSON.stringify(Yn)},fs=fetch(tr,Nr),Ya=new Promise((la,yl)=>{W.signal.addEventListener(()=>{const bc=new Error("The operation was aborted.");bc.name="AbortError",yl(bc)})});let Vo;try{yield Promise.race([fs,Ya]),Vo=yield fs}catch(la){let yl="fetch-client-network";throw"AbortError"===(null===(Ge=la)||void 0===Ge?void 0:Ge.name)&&(yl="fetch-timeout"),Sr.create(yl,{originalErrorMessage:null===(Ct=la)||void 0===Ct?void 0:Ct.message})}let Al=Vo.status;const Ml=Vo.headers.get("ETag")||void 0;let _l,Za;if(200===Vo.status){let la;try{la=yield Vo.json()}catch(yl){throw Sr.create("fetch-client-parse",{originalErrorMessage:null===(Vt=yl)||void 0===Vt?void 0:Vt.message})}_l=la.entries,Za=la.state}if("INSTANCE_STATE_UNSPECIFIED"===Za?Al=500:"NO_CHANGE"===Za?Al=304:("NO_TEMPLATE"===Za||"EMPTY_CONFIG"===Za)&&(_l={}),304!==Al&&200!==Al)throw Sr.create("fetch-status",{httpStatus:Al});return{status:Al,eTag:Ml,config:_l}})()}}class ft{constructor(W,re){this.client=W,this.storage=re}fetch(W){var re=this;return(0,b.Z)(function*(){const Ge=(yield re.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return re.attemptFetch(W,Ge)})()}attemptFetch(W,{throttleEndTimeMillis:re,backoffCount:Ge}){var Ct=this;return(0,b.Z)(function*(){yield function hi(V,W){return new Promise((re,Ge)=>{const Ct=Math.max(W-Date.now(),0),Vt=setTimeout(re,Ct);V.addEventListener(()=>{clearTimeout(Vt),Ge(Sr.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(W.signal,re);try{const Vt=yield Ct.client.fetch(W);return yield Ct.storage.deleteThrottleMetadata(),Vt}catch(Vt){if(!function mt(V){if(!(V instanceof Ee.ZR&&V.customData))return!1;const W=Number(V.customData.httpStatus);return 429===W||500===W||503===W||504===W}(Vt))throw Vt;const ln={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(Ge),backoffCount:Ge+1};return yield Ct.storage.setThrottleMetadata(ln),Ct.attemptFetch(W,ln)}})()}}class Xt{constructor(W,re,Ge,Ct,Vt){this.app=W,this._client=re,this._storageCache=Ge,this._storage=Ct,this._logger=Vt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function an(V,W){var re;const Ge=V.target.error||void 0;return Sr.create(W,{originalErrorMessage:Ge&&(null===(re=Ge)||void 0===re?void 0:re.message)})}const $n="app_namespace_store";class Ai{constructor(W,re,Ge,Ct=function ji(){return new Promise((V,W)=>{var re;try{const Ge=indexedDB.open("firebase_remote_config",1);Ge.onerror=Ct=>{W(an(Ct,"storage-open"))},Ge.onsuccess=Ct=>{V(Ct.target.result)},Ge.onupgradeneeded=Ct=>{0===Ct.oldVersion&&Ct.target.result.createObjectStore($n,{keyPath:"compositeKey"})}}catch(Ge){W(Sr.create("storage-open",{originalErrorMessage:null===(re=Ge)||void 0===re?void 0:re.message}))}})}()){this.appId=W,this.appName=re,this.namespace=Ge,this.openDbPromise=Ct}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(W){return this.set("last_fetch_status",W)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(W){return this.set("last_successful_fetch_timestamp_millis",W)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(W){return this.set("last_successful_fetch_response",W)}getActiveConfig(){return this.get("active_config")}setActiveConfig(W){return this.set("active_config",W)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(W){return this.set("active_config_etag",W)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(W){return this.set("throttle_metadata",W)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(W){var re=this;return(0,b.Z)(function*(){const Ge=yield re.openDbPromise;return new Promise((Ct,Vt)=>{var ln;const Wn=Ge.transaction([$n],"readonly").objectStore($n),tr=re.createCompositeKey(W);try{const mr=Wn.get(tr);mr.onerror=Yn=>{Vt(an(Yn,"storage-get"))},mr.onsuccess=Yn=>{const Nr=Yn.target.result;Ct(Nr?Nr.value:void 0)}}catch(mr){Vt(Sr.create("storage-get",{originalErrorMessage:null===(ln=mr)||void 0===ln?void 0:ln.message}))}})})()}set(W,re){var Ge=this;return(0,b.Z)(function*(){const Ct=yield Ge.openDbPromise;return new Promise((Vt,ln)=>{var In;const tr=Ct.transaction([$n],"readwrite").objectStore($n),mr=Ge.createCompositeKey(W);try{const Yn=tr.put({compositeKey:mr,value:re});Yn.onerror=Nr=>{ln(an(Nr,"storage-set"))},Yn.onsuccess=()=>{Vt()}}catch(Yn){ln(Sr.create("storage-set",{originalErrorMessage:null===(In=Yn)||void 0===In?void 0:In.message}))}})})()}delete(W){var re=this;return(0,b.Z)(function*(){const Ge=yield re.openDbPromise;return new Promise((Ct,Vt)=>{var ln;const Wn=Ge.transaction([$n],"readwrite").objectStore($n),tr=re.createCompositeKey(W);try{const mr=Wn.delete(tr);mr.onerror=Yn=>{Vt(an(Yn,"storage-delete"))},mr.onsuccess=()=>{Ct()}}catch(mr){Vt(Sr.create("storage-delete",{originalErrorMessage:null===(ln=mr)||void 0===ln?void 0:ln.message}))}})})()}createCompositeKey(W){return[this.appId,this.appName,this.namespace,W].join()}}class Ts{constructor(W){this.storage=W}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var W=this;return(0,b.Z)(function*(){const re=W.storage.getLastFetchStatus(),Ge=W.storage.getLastSuccessfulFetchTimestampMillis(),Ct=W.storage.getActiveConfig(),Vt=yield re;Vt&&(W.lastFetchStatus=Vt);const ln=yield Ge;ln&&(W.lastSuccessfulFetchTimestampMillis=ln);const In=yield Ct;In&&(W.activeConfig=In)})()}setLastFetchStatus(W){return this.lastFetchStatus=W,this.storage.setLastFetchStatus(W)}setLastSuccessfulFetchTimestampMillis(W){return this.lastSuccessfulFetchTimestampMillis=W,this.storage.setLastSuccessfulFetchTimestampMillis(W)}setActiveConfig(W){return this.activeConfig=W,this.storage.setActiveConfig(W)}}function Js(){return pa.apply(this,arguments)}function pa(){return(pa=(0,b.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}!function Cr(){(0,ee._registerComponent)(new se.wA("remote-config",function V(W,{instanceIdentifier:re}){const Ge=W.getProvider("app").getImmediate(),Ct=W.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sr.create("registration-window");if(!(0,Ee.hl)())throw Sr.create("indexed-db-unavailable");const{projectId:Vt,apiKey:ln,appId:In}=Ge.options;if(!Vt)throw Sr.create("registration-project-id");if(!ln)throw Sr.create("registration-api-key");if(!In)throw Sr.create("registration-app-id");const Wn=new Ai(In,Ge.name,re=re||"firebase"),tr=new Ts(Wn),mr=new je.Yd(jr);mr.logLevel=je.in.ERROR;const Yn=new qo(Ct,ee.SDK_VERSION,re,Vt,ln,In),Nr=new ft(Yn,Wn),fs=new To(Nr,Wn,tr,mr),Ya=new Xt(Ge,fs,tr,Wn,mr);return function wr(V){const W=(0,Ee.m9)(V);W._initializePromise||(W._initializePromise=W._storageCache.loadFromStorage().then(()=>{W._isInitializationComplete=!0}))}(Ya),Ya},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(jr,"0.3.15"),(0,ee.registerVersion)(jr,"0.3.15","esm2017")}();const li="/firebase-messaging-sw.js",Yi="/firebase-cloud-messaging-push-scope",eo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",uo="google.c.a.c_id",Qi="google.c.a.c_l",So="google.c.a.ts",Ao="google.c.a.e";var Ns=(()=>{return(V=Ns||(Ns={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",Ns;var V})();function ns(V){const W=new Uint8Array(V);return btoa(String.fromCharCode(...W)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rs(V){const re=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ge=atob(re),Ct=new Uint8Array(Ge.length);for(let Vt=0;Vt<Ge.length;++Vt)Ct[Vt]=Ge.charCodeAt(Vt);return Ct}const Fs="fcm_token_details_db",ri="fcm_token_object_Store";function lr(V){return ma.apply(this,arguments)}function ma(){return ma=(0,b.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Vt=>Vt.name).includes(Fs))return null;let W=null;return(yield(0,xe.X3)(Fs,5,{upgrade:(Ge=(0,b.Z)(function*(Ct,Vt,ln,In){var Wn;if(Vt<2||!Ct.objectStoreNames.contains(ri))return;const tr=In.objectStore(ri),mr=yield tr.index("fcmSenderId").get(V);if(yield tr.clear(),mr)if(2===Vt){const Yn=mr;if(!Yn.auth||!Yn.p256dh||!Yn.endpoint)return;W={token:Yn.fcmToken,createTime:null!==(Wn=Yn.createTime)&&void 0!==Wn?Wn:Date.now(),subscriptionOptions:{auth:Yn.auth,p256dh:Yn.p256dh,endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:"string"==typeof Yn.vapidKey?Yn.vapidKey:ns(Yn.vapidKey)}}}else if(3===Vt){const Yn=mr;W={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:ns(Yn.auth),p256dh:ns(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:ns(Yn.vapidKey)}}}else if(4===Vt){const Yn=mr;W={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:ns(Yn.auth),p256dh:ns(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:ns(Yn.vapidKey)}}}}),function(Vt,ln,In,Wn){return Ge.apply(this,arguments)})})).close(),yield(0,xe.Lj)(Fs),yield(0,xe.Lj)("fcm_vapid_details_db"),yield(0,xe.Lj)("undefined"),Jr(W)?W:null;var Ge}),ma.apply(this,arguments)}function Jr(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:W}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof W.auth&&W.auth.length>0&&"string"==typeof W.p256dh&&W.p256dh.length>0&&"string"==typeof W.endpoint&&W.endpoint.length>0&&"string"==typeof W.swScope&&W.swScope.length>0&&"string"==typeof W.vapidKey&&W.vapidKey.length>0}const is="firebase-messaging-store";let ci=null;function Zo(){return ci||(ci=(0,xe.X3)("firebase-messaging-database",1,{upgrade:(V,W)=>{0===W&&V.createObjectStore(is)}})),ci}function ui(V){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,b.Z)(function*(V){const W=Gi(V),Ge=yield(yield Zo()).transaction(is).objectStore(is).get(W);if(Ge)return Ge;{const Ct=yield lr(V.appConfig.senderId);if(Ct)return yield Dr(V,Ct),Ct}})).apply(this,arguments)}function Dr(V,W){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,b.Z)(function*(V,W){const re=Gi(V),Ct=(yield Zo()).transaction(is,"readwrite");return yield Ct.objectStore(is).put(W,re),yield Ct.done,W})).apply(this,arguments)}function Ss(V){return $i.apply(this,arguments)}function $i(){return($i=(0,b.Z)(function*(V){const W=Gi(V),Ge=(yield Zo()).transaction(is,"readwrite");yield Ge.objectStore(is).delete(W),yield Ge.done})).apply(this,arguments)}function Gi({appConfig:V}){return V.appId}const zr=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cr(V,W){return ga.apply(this,arguments)}function ga(){return(ga=(0,b.Z)(function*(V,W){var re;const Ge=yield Ba(V),Ct=rn(W),Vt={method:"POST",headers:Ge,body:JSON.stringify(Ct)};let ln;try{ln=yield(yield fetch(xi(V.appConfig),Vt)).json()}catch(In){throw zr.create("token-subscribe-failed",{errorInfo:null===(re=In)||void 0===re?void 0:re.toString()})}if(ln.error)throw zr.create("token-subscribe-failed",{errorInfo:ln.error.message});if(!ln.token)throw zr.create("token-subscribe-no-token");return ln.token})).apply(this,arguments)}function La(V,W){return _a.apply(this,arguments)}function _a(){return(_a=(0,b.Z)(function*(V,W){var re;const Ge=yield Ba(V),Ct=rn(W.subscriptionOptions),Vt={method:"PATCH",headers:Ge,body:JSON.stringify(Ct)};let ln;try{ln=yield(yield fetch(`${xi(V.appConfig)}/${W.token}`,Vt)).json()}catch(In){throw zr.create("token-update-failed",{errorInfo:null===(re=In)||void 0===re?void 0:re.toString()})}if(ln.error)throw zr.create("token-update-failed",{errorInfo:ln.error.message});if(!ln.token)throw zr.create("token-update-no-token");return ln.token})).apply(this,arguments)}function Xi(V,W){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,b.Z)(function*(V,W){var re;const Ct={method:"DELETE",headers:yield Ba(V)};try{const ln=yield(yield fetch(`${xi(V.appConfig)}/${W}`,Ct)).json();if(ln.error)throw zr.create("token-unsubscribe-failed",{errorInfo:ln.error.message})}catch(Vt){throw zr.create("token-unsubscribe-failed",{errorInfo:null===(re=Vt)||void 0===re?void 0:re.toString()})}})).apply(this,arguments)}function xi({projectId:V}){return`https://fcmregistrations.googleapis.com/v1/projects/${V}/registrations`}function Ba(V){return xo.apply(this,arguments)}function xo(){return(xo=(0,b.Z)(function*({appConfig:V,installations:W}){const re=yield W.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${re}`})})).apply(this,arguments)}function rn({p256dh:V,auth:W,endpoint:re,vapidKey:Ge}){const Ct={web:{endpoint:re,auth:W,p256dh:V}};return Ge!==eo&&(Ct.web.applicationPubKey=Ge),Ct}const ir=6048e5;function As(V){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,b.Z)(function*(V){const W=yield An(V.swRegistration,V.vapidKey),re={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:W.endpoint,auth:ns(W.getKey("auth")),p256dh:ns(W.getKey("p256dh"))},Ge=yield ui(V.firebaseDependencies);if(Ge){if(Ri(Ge.subscriptionOptions,re))return Date.now()>=Ge.createTime+ir?j(V,{token:Ge.token,createTime:Date.now(),subscriptionOptions:re}):Ge.token;try{yield Xi(V.firebaseDependencies,Ge.token)}catch(Ct){console.warn(Ct)}return ie(V.firebaseDependencies,re)}return ie(V.firebaseDependencies,re)})).apply(this,arguments)}function Fn(V){return K.apply(this,arguments)}function K(){return(K=(0,b.Z)(function*(V){const W=yield ui(V.firebaseDependencies);W&&(yield Xi(V.firebaseDependencies,W.token),yield Ss(V.firebaseDependencies));const re=yield V.swRegistration.pushManager.getSubscription();return!re||re.unsubscribe()})).apply(this,arguments)}function j(V,W){return L.apply(this,arguments)}function L(){return(L=(0,b.Z)(function*(V,W){try{const re=yield La(V.firebaseDependencies,W),Ge=Object.assign(Object.assign({},W),{token:re,createTime:Date.now()});return yield Dr(V.firebaseDependencies,Ge),re}catch(re){throw yield Fn(V),re}})).apply(this,arguments)}function ie(V,W){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,b.Z)(function*(V,W){const Ge={token:yield cr(V,W),createTime:Date.now(),subscriptionOptions:W};return yield Dr(V,Ge),Ge.token})).apply(this,arguments)}function An(V,W){return si.apply(this,arguments)}function si(){return(si=(0,b.Z)(function*(V,W){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rs(W)})})).apply(this,arguments)}function Ri(V,W){return W.vapidKey===V.vapidKey&&W.endpoint===V.endpoint&&W.auth===V.auth&&W.p256dh===V.p256dh}function Ms(V){const W={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function oi(V,W){if(!W.notification)return;V.notification={};const re=W.notification.title;re&&(V.notification.title=re);const Ge=W.notification.body;Ge&&(V.notification.body=Ge);const Ct=W.notification.image;Ct&&(V.notification.image=Ct);const Vt=W.notification.icon;Vt&&(V.notification.icon=Vt)}(W,V),function Vs(V,W){!W.data||(V.data=W.data)}(W,V),function Va(V,W){var re,Ge,Ct,Vt,ln;if(!(W.fcmOptions||null!==(re=W.notification)&&void 0!==re&&re.click_action))return;V.fcmOptions={};const In=null!==(Ct=null===(Ge=W.fcmOptions)||void 0===Ge?void 0:Ge.link)&&void 0!==Ct?Ct:null===(Vt=W.notification)||void 0===Vt?void 0:Vt.click_action;In&&(V.fcmOptions.link=In);const Wn=null===(ln=W.fcmOptions)||void 0===ln?void 0:ln.analytics_label;Wn&&(V.fcmOptions.analyticsLabel=Wn)}(W,V),W}function Xo(V){return"object"==typeof V&&!!V&&uo in V}function fo(V,W){const re=[];for(let Ge=0;Ge<V.length;Ge++)re.push(V.charAt(Ge)),Ge<W.length&&re.push(W.charAt(Ge));return re.join("")}function po(V){return zr.create("missing-app-config-values",{valueName:V})}fo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class al{constructor(W,re,Ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ct=function Vl(V){if(!V||!V.options)throw po("App Configuration Object");if(!V.name)throw po("App Name");const W=["projectId","apiKey","appId","messagingSenderId"],{options:re}=V;for(const Ge of W)if(!re[Ge])throw po(Ge);return{appName:V.name,projectId:re.projectId,apiKey:re.apiKey,appId:re.appId,senderId:re.messagingSenderId}}(W);this.firebaseDependencies={app:W,appConfig:Ct,installations:re,analyticsProvider:Ge}}_delete(){return Promise.resolve()}}function Jo(V){return ya.apply(this,arguments)}function ya(){return(ya=(0,b.Z)(function*(V){var W;try{V.swRegistration=yield navigator.serviceWorker.register(li,{scope:Yi}),V.swRegistration.update().catch(()=>{})}catch(re){throw zr.create("failed-service-worker-registration",{browserErrorMessage:null===(W=re)||void 0===W?void 0:W.message})}})).apply(this,arguments)}function ko(V,W){return ea.apply(this,arguments)}function ea(){return(ea=(0,b.Z)(function*(V,W){if(!W&&!V.swRegistration&&(yield Jo(V)),W||!V.swRegistration){if(!(W instanceof ServiceWorkerRegistration))throw zr.create("invalid-sw-registration");V.swRegistration=W}})).apply(this,arguments)}function va(V,W){return mo.apply(this,arguments)}function mo(){return(mo=(0,b.Z)(function*(V,W){W?V.vapidKey=W:V.vapidKey||(V.vapidKey=eo)})).apply(this,arguments)}function ll(){return(ll=(0,b.Z)(function*(V,W){if(!navigator)throw zr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zr.create("permission-blocked");return yield va(V,W?.vapidKey),yield ko(V,W?.serviceWorkerRegistration),As(V)})).apply(this,arguments)}function Ul(V,W,re){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,b.Z)(function*(V,W,re){const Ge=Ha(W);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(Ge,{message_id:re[uo],message_name:re[Qi],message_time:re[So],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ha(V){switch(V){case Ns.NOTIFICATION_CLICKED:return"notification_open";case Ns.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function X(){return(X=(0,b.Z)(function*(V,W){const re=W.data;if(!re.isFirebaseMessaging)return;V.onMessageHandler&&re.messageType===Ns.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(Ms(re)):V.onMessageHandler.next(Ms(re)));const Ge=re.data;Xo(Ge)&&"1"===Ge[Ao]&&(yield Ul(V,re.messageType,Ge))})).apply(this,arguments)}const U="@firebase/messaging",tt=V=>{const W=new al(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",re=>function N(V,W){return X.apply(this,arguments)}(W,re)),W},xt=V=>{const W=V.getProvider("messaging").getImmediate();return{getToken:Ge=>function ba(V,W){return ll.apply(this,arguments)}(W,Ge)}};function xn(){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,b.Z)(function*(){try{yield(0,Ee.eu)()}catch{return!1}return typeof window<"u"&&(0,Ee.hl)()&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Wt(){(0,ee._registerComponent)(new se.wA("messaging",tt,"PUBLIC")),(0,ee._registerComponent)(new se.wA("messaging-internal",xt,"PRIVATE")),(0,ee.registerVersion)(U,"0.10.0"),(0,ee.registerVersion)(U,"0.10.0","esm2017")}();const bi="analytics",Di="firebase_id",no="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Oo="https://www.googletagmanager.com/gtag/js",kr=new je.Yd("@firebase/analytics");function go(V){return Promise.all(V.map(W=>W.catch(re=>re)))}function Ea(V,W){const re=document.createElement("script");re.src=`${Oo}?l=${V}&id=${W}`,re.async=!0,document.head.appendChild(re)}function pu(V,W,re,Ge,Ct,Vt){return ja.apply(this,arguments)}function ja(){return(ja=(0,b.Z)(function*(V,W,re,Ge,Ct,Vt){const ln=Ge[Ct];try{if(ln)yield W[ln];else{const Wn=(yield go(re)).find(tr=>tr.measurementId===Ct);Wn&&(yield W[Wn.appId])}}catch(In){kr.error(In)}V("config",Ct,Vt)})).apply(this,arguments)}function nn(V,W,re,Ge,Ct){return na.apply(this,arguments)}function na(){return(na=(0,b.Z)(function*(V,W,re,Ge,Ct){try{let Vt=[];if(Ct&&Ct.send_to){let ln=Ct.send_to;Array.isArray(ln)||(ln=[ln]);const In=yield go(re);for(const Wn of ln){const tr=In.find(Yn=>Yn.measurementId===Wn),mr=tr&&W[tr.appId];if(!mr){Vt=[];break}Vt.push(mr)}}0===Vt.length&&(Vt=Object.values(W)),yield Promise.all(Vt),V("event",Ge,Ct||{})}catch(Vt){kr.error(Vt)}})).apply(this,arguments)}function ei(V){const W=window.document.getElementsByTagName("script");for(const re of Object.values(W))if(re.src&&re.src.includes(Oo)&&re.src.includes(V))return re;return null}const Kr=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ss=new class Tn{constructor(W={},re=1e3){this.throttleMetadata=W,this.intervalMillis=re}getThrottleMetadata(W){return this.throttleMetadata[W]}setThrottleMetadata(W,re){this.throttleMetadata[W]=re}deleteThrottleMetadata(W){delete this.throttleMetadata[W]}};function dl(V){return new Headers({Accept:"application/json","x-goog-api-key":V})}function _o(V){return $a.apply(this,arguments)}function $a(){return($a=(0,b.Z)(function*(V){var W;const{appId:re,apiKey:Ge}=V,Ct={method:"GET",headers:dl(Ge)},Vt=no.replace("{app-id}",re),ln=yield fetch(Vt,Ct);if(200!==ln.status&&304!==ln.status){let In="";try{const Wn=yield ln.json();null!==(W=Wn.error)&&void 0!==W&&W.message&&(In=Wn.error.message)}catch{}throw Kr.create("config-fetch-failed",{httpStatus:ln.status,responseMessage:In})}return ln.json()})).apply(this,arguments)}function Ei(V){return zi.apply(this,arguments)}function zi(){return(zi=(0,b.Z)(function*(V,W=ss,re){const{appId:Ge,apiKey:Ct,measurementId:Vt}=V.options;if(!Ge)throw Kr.create("no-app-id");if(!Ct){if(Vt)return{measurementId:Vt,appId:Ge};throw Kr.create("no-api-key")}const ln=W.getThrottleMetadata(Ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},In=new Li;return setTimeout((0,b.Z)(function*(){In.abort()}),void 0!==re?re:6e4),hl({appId:Ge,apiKey:Ct,measurementId:Vt},ln,In,W)})).apply(this,arguments)}function hl(V,W,re){return js.apply(this,arguments)}function js(){return(js=(0,b.Z)(function*(V,{throttleEndTimeMillis:W,backoffCount:re},Ge,Ct=ss){var Vt,ln;const{appId:In,measurementId:Wn}=V;try{yield ki(Ge,W)}catch(tr){if(Wn)return kr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wn} provided in the "measurementId" field in the local Firebase config. [${null===(Vt=tr)||void 0===Vt?void 0:Vt.message}]`),{appId:In,measurementId:Wn};throw tr}try{const tr=yield _o(V);return Ct.deleteThrottleMetadata(In),tr}catch(tr){const mr=tr;if(!$s(mr)){if(Ct.deleteThrottleMetadata(In),Wn)return kr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wn} provided in the "measurementId" field in the local Firebase config. [${mr?.message}]`),{appId:In,measurementId:Wn};throw tr}const Yn=503===Number(null===(ln=mr?.customData)||void 0===ln?void 0:ln.httpStatus)?(0,Ee.$s)(re,Ct.intervalMillis,30):(0,Ee.$s)(re,Ct.intervalMillis),Nr={throttleEndTimeMillis:Date.now()+Yn,backoffCount:re+1};return Ct.setThrottleMetadata(In,Nr),kr.debug(`Calling attemptFetch again in ${Yn} millis`),hl(V,Nr,Ge,Ct)}})).apply(this,arguments)}function ki(V,W){return new Promise((re,Ge)=>{const Ct=Math.max(W-Date.now(),0),Vt=setTimeout(re,Ct);V.addEventListener(()=>{clearTimeout(Vt),Ge(Kr.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}function $s(V){if(!(V instanceof Ee.ZR&&V.customData))return!1;const W=Number(V.customData.httpStatus);return 429===W||500===W||503===W||504===W}class Li{constructor(){this.listeners=[]}addEventListener(W){this.listeners.push(W)}abort(){this.listeners.forEach(W=>W())}}let us,Rs;function Ga(){return(Ga=(0,b.Z)(function*(V,W,re,Ge,Ct){if(Ct&&Ct.global)V("event",re,Ge);else{const Vt=yield W;V("event",re,Object.assign(Object.assign({},Ge),{send_to:Vt}))}})).apply(this,arguments)}function Po(V){Rs=V}function gu(V){us=V}function _u(){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,b.Z)(function*(){var V;if(!(0,Ee.hl)())return kr.warn(Kr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(W){return kr.warn(Kr.create("indexeddb-unavailable",{errorInfo:null===(V=W)||void 0===V?void 0:V.toString()}).message),!1}return!0})).apply(this,arguments)}function wa(){return(wa=(0,b.Z)(function*(V,W,re,Ge,Ct,Vt,ln){var In;const Wn=Ei(V);Wn.then(fs=>{re[fs.measurementId]=fs.appId,V.options.measurementId&&fs.measurementId!==V.options.measurementId&&kr.warn(`The measurement ID in the local Firebase config (${V.options.measurementId}) does not match the measurement ID fetched from the server (${fs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fs=>kr.error(fs)),W.push(Wn);const tr=_u().then(fs=>{if(fs)return Ge.getId()}),[mr,Yn]=yield Promise.all([Wn,tr]);ei(Vt)||Ea(Vt,mr.measurementId),Rs&&(Ct("consent","default",Rs),Po(void 0)),Ct("js",new Date);const Nr=null!==(In=ln?.config)&&void 0!==In?In:{};return Nr.origin="firebase",Nr.update=!0,null!=Yn&&(Nr[Di]=Yn),Ct("config",mr.measurementId,Nr),us&&(Ct("set",us),gu(void 0)),mr.measurementId})).apply(this,arguments)}class Wa{constructor(W){this.app=W}_delete(){return delete vs[this.app.options.appId],Promise.resolve()}}let vs={},No=[];const ds={};let sa,Da,Fo="dataLayer",Ia=!1;function Zu(V,W,re){!function yu(){const V=[];if((0,Ee.ru)()&&V.push("This is a browser extension environment."),(0,Ee.zI)()||V.push("Cookies are not available."),V.length>0){const W=V.map((Ge,Ct)=>`(${Ct+1}) ${Ge}`).join(" "),re=Kr.create("invalid-analytics-context",{errorInfo:W});kr.warn(re.message)}}();const Ge=V.options.appId;if(!Ge)throw Kr.create("no-app-id");if(!V.options.apiKey){if(!V.options.measurementId)throw Kr.create("no-api-key");kr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${V.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vs[Ge])throw Kr.create("already-exists",{id:Ge});if(!Ia){!function mc(V){let W=[];Array.isArray(window[V])?W=window[V]:window[V]=W}(Fo);const{wrappedGtag:Vt,gtagCore:ln}=function Hs(V,W,re,Ge,Ct){let Vt=function(...ln){window[Ge].push(arguments)};return window[Ct]&&"function"==typeof window[Ct]&&(Vt=window[Ct]),window[Ct]=function cl(V,W,re,Ge){function Vt(){return(Vt=(0,b.Z)(function*(ln,In,Wn){try{"event"===ln?yield nn(V,W,re,In,Wn):"config"===ln?yield pu(V,W,re,Ge,In,Wn):"consent"===ln?V("consent","update",Wn):V("set",In)}catch(tr){kr.error(tr)}})).apply(this,arguments)}return function Ct(ln,In,Wn){return Vt.apply(this,arguments)}}(Vt,V,W,re),{gtagCore:Vt,wrappedGtag:window[Ct]}}(vs,No,ds,Fo,"gtag");Da=Vt,sa=ln,Ia=!0}return vs[Ge]=function yo(V,W,re,Ge,Ct,Vt,ln){return wa.apply(this,arguments)}(V,No,ds,W,sa,Fo,re),new Wa(V)}function sc(){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,b.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}const _c="@firebase/analytics";!function ks(){(0,ee._registerComponent)(new se.wA(bi,(W,{options:re})=>Zu(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),re),"PUBLIC")),(0,ee._registerComponent)(new se.wA("analytics-internal",function V(W){try{const re=W.getProvider(bi).getImmediate();return{logEvent:(Ge,Ct,Vt)=>function oc(V,W,re,Ge){V=(0,Ee.m9)(V),function mu(V,W,re,Ge,Ct){return Ga.apply(this,arguments)}(Da,vs[V.app.options.appId],W,re,Ge).catch(Ct=>kr.error(Ct))}(re,Ge,Ct,Vt)}}catch(re){throw Kr.create("interop-component-reg-failed",{reason:re})}},"PRIVATE")),(0,ee.registerVersion)(_c,"0.8.4"),(0,ee.registerVersion)(_c,"0.8.4","esm2017")}();var Gs=A(4408),ml=A(7565);const M=new class S extends ml.v{}(class yc extends Gs.o{constructor(W,re){super(W,re),this.scheduler=W,this.work=re}schedule(W,re=0){return re>0?super.schedule(W,re):(this.delay=re,this.state=W,this.scheduler.flush(this),this)}execute(W,re){return re>0||this.closed?super.execute(W,re):this._execute(W,re)}requestAsyncId(W,re,Ge=0){return null!=Ge&&Ge>0||null==Ge&&this.delay>0?super.requestAsyncId(W,re,Ge):(W.flush(this),0)}});var B=A(4986),G=A(8505),oe=A(9468),$e=A(5363);const Qe=new m.GfV("7.4.1"),zt="__angularfire_symbol__analyticsIsSupportedValue",fn="__angularfire_symbol__analyticsIsSupported",jn="__angularfire_symbol__remoteConfigIsSupportedValue",Rn="__angularfire_symbol__remoteConfigIsSupported",$r="__angularfire_symbol__messagingIsSupportedValue",bs="__angularfire_symbol__messagingIsSupported";function hs(V,W,re){if(W){if(1===W.length)return W[0];const Vt=W.filter(ln=>ln.app===re);if(1===Vt.length)return Vt[0]}return re.container.getProvider(V).getImmediate({optional:!0})}globalThis[fn]||(globalThis[fn]=sc().then(V=>globalThis[zt]=V).catch(()=>globalThis[zt]=!1)),globalThis[bs]||(globalThis[bs]=xn().then(V=>globalThis[$r]=V).catch(()=>globalThis[$r]=!1)),globalThis[Rn]||(globalThis[Rn]=Js().then(V=>globalThis[jn]=V).catch(()=>globalThis[jn]=!1));const Lo=(V,W)=>{const re=W?[W]:(0,k.C6)(),Ge=[];return re.forEach(Ct=>{Ct.container.getProvider(V).instances.forEach(ln=>{Ge.includes(ln)||Ge.push(ln)})}),Ge};function Sl(){}class oa{constructor(W,re=M){this.zone=W,this.delegate=re}now(){return this.delegate.now()}schedule(W,re,Ge){const Ct=this.zone;return this.delegate.schedule(function(ln){Ct.runGuarded(()=>{W.apply(this,[ln])})},re,Ge)}}class Uc{constructor(W){this.zone=W,this.task=null}call(W,re){const Ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sl,{},Sl,Sl)),re.pipe((0,G.b)({next:Ge,complete:Ge,error:Ge})).subscribe(W).add(Ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hc=(()=>{class V{constructor(re){this.ngZone=re,this.outsideAngular=re.runOutsideAngular(()=>new oa(Zone.current)),this.insideAngular=re.run(()=>new oa(Zone.current,B.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(re){return new(re||V)(m.LFG(m.R0b))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function Bo(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function aa(V){return Bo(),function bu(V){return function(re){return(re=re.lift(new Uc(V.ngZone))).pipe((0,oe.R)(V.outsideAngular),(0,$e.Q)(V.insideAngular))}}(Bo())(V)}},2090:(dn,ot,A)=>{A.d(ot,{$s:()=>Ue,BH:()=>Zt,DV:()=>hr,Dv:()=>te,G6:()=>ge,GJ:()=>Kn,L:()=>xe,LL:()=>vn,Pz:()=>en,Sg:()=>qt,UG:()=>Je,UI:()=>Xn,US:()=>se,Wj:()=>Nt,Wl:()=>Cn,Yr:()=>Se,ZB:()=>ye,ZR:()=>Dn,aH:()=>$t,b$:()=>ct,cI:()=>Mn,dS:()=>sn,eu:()=>Le,g5:()=>b,gK:()=>qe,gQ:()=>Ve,h$:()=>je,hl:()=>ue,hu:()=>k,jU:()=>bt,lb:()=>mn,m9:()=>Et,ne:()=>rt,p$:()=>ae,pd:()=>J,r3:()=>zn,ru:()=>ut,tV:()=>Oe,uI:()=>lt,ug:()=>vt,vZ:()=>tn,w1:()=>Tt,w9:()=>Un,xO:()=>Z,xb:()=>Hn,z$:()=>at,zI:()=>R,zd:()=>H});const k=function(De,Me){if(!De)throw b(Me)},b=function(De){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+De)},ee=function(De){const Me=[];let it=0;for(let Ht=0;Ht<De.length;Ht++){let dt=De.charCodeAt(Ht);dt<128?Me[it++]=dt:dt<2048?(Me[it++]=dt>>6|192,Me[it++]=63&dt|128):55296==(64512&dt)&&Ht+1<De.length&&56320==(64512&De.charCodeAt(Ht+1))?(dt=65536+((1023&dt)<<10)+(1023&De.charCodeAt(++Ht)),Me[it++]=dt>>18|240,Me[it++]=dt>>12&63|128,Me[it++]=dt>>6&63|128,Me[it++]=63&dt|128):(Me[it++]=dt>>12|224,Me[it++]=dt>>6&63|128,Me[it++]=63&dt|128)}return Me},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(De,Me){if(!Array.isArray(De))throw Error("encodeByteArray takes an array as a parameter");this.init_();const it=Me?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ht=[];for(let dt=0;dt<De.length;dt+=3){const gn=De[dt],On=dt+1<De.length,er=On?De[dt+1]:0,fr=dt+2<De.length,rr=fr?De[dt+2]:0;let Ce=(15&er)<<2|rr>>6,Ie=63&rr;fr||(Ie=64,On||(Ce=64)),Ht.push(it[gn>>2],it[(3&gn)<<4|er>>4],it[Ce],it[Ie])}return Ht.join("")},encodeString(De,Me){return this.HAS_NATIVE_SUPPORT&&!Me?btoa(De):this.encodeByteArray(ee(De),Me)},decodeString(De,Me){return this.HAS_NATIVE_SUPPORT&&!Me?atob(De):function(De){const Me=[];let it=0,Ht=0;for(;it<De.length;){const dt=De[it++];if(dt<128)Me[Ht++]=String.fromCharCode(dt);else if(dt>191&&dt<224){const gn=De[it++];Me[Ht++]=String.fromCharCode((31&dt)<<6|63&gn)}else if(dt>239&&dt<365){const fr=((7&dt)<<18|(63&De[it++])<<12|(63&De[it++])<<6|63&De[it++])-65536;Me[Ht++]=String.fromCharCode(55296+(fr>>10)),Me[Ht++]=String.fromCharCode(56320+(1023&fr))}else{const gn=De[it++],On=De[it++];Me[Ht++]=String.fromCharCode((15&dt)<<12|(63&gn)<<6|63&On)}}return Me.join("")}(this.decodeStringToByteArray(De,Me))},decodeStringToByteArray(De,Me){this.init_();const it=Me?this.charToByteMapWebSafe_:this.charToByteMap_,Ht=[];for(let dt=0;dt<De.length;){const gn=it[De.charAt(dt++)],er=dt<De.length?it[De.charAt(dt)]:0;++dt;const rr=dt<De.length?it[De.charAt(dt)]:64;++dt;const Fe=dt<De.length?it[De.charAt(dt)]:64;if(++dt,null==gn||null==er||null==rr||null==Fe)throw Error();Ht.push(gn<<2|er>>4),64!==rr&&(Ht.push(er<<4&240|rr>>2),64!==Fe&&Ht.push(rr<<6&192|Fe))}return Ht},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let De=0;De<this.ENCODED_VALS.length;De++)this.byteToCharMap_[De]=this.ENCODED_VALS.charAt(De),this.charToByteMap_[this.byteToCharMap_[De]]=De,this.byteToCharMapWebSafe_[De]=this.ENCODED_VALS_WEBSAFE.charAt(De),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[De]]=De,De>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(De)]=De,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(De)]=De)}}},je=function(De){const Me=ee(De);return se.encodeByteArray(Me,!0)},xe=function(De){return je(De).replace(/\./g,"")},Oe=function(De){try{return se.decodeString(De,!0)}catch(Me){console.error("base64Decode failed: ",Me)}return null};function ae(De){return ye(void 0,De)}function ye(De,Me){if(!(Me instanceof Object))return Me;switch(Me.constructor){case Date:return new Date(Me.getTime());case Object:void 0===De&&(De={});break;case Array:De=[];break;default:return Me}for(const it in Me)!Me.hasOwnProperty(it)||!me(it)||(De[it]=ye(De[it],Me[it]));return De}function me(De){return"__proto__"!==De}function at(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function Je(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function bt(){return"object"==typeof self&&self.self===self}function ut(){const De="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof De&&void 0!==De.id}function ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Tt(){const De=at();return De.indexOf("MSIE ")>=0||De.indexOf("Trident/")>=0}function Se(){return!1}function ge(){return!Je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){return"object"==typeof indexedDB}function Le(){return new Promise((De,Me)=>{try{let it=!0;const Ht="validate-browser-context-for-indexeddb-analytics-module",dt=self.indexedDB.open(Ht);dt.onsuccess=()=>{dt.result.close(),it||self.indexedDB.deleteDatabase(Ht),De(!0)},dt.onupgradeneeded=()=>{it=!1},dt.onerror=()=>{var gn;Me((null===(gn=dt.error)||void 0===gn?void 0:gn.message)||"")}}catch(it){Me(it)}})}function R(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ve=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const De=process.env.__FIREBASE_DEFAULTS__;return De?JSON.parse(De):void 0})()||(()=>{if(typeof document>"u")return;let De;try{De=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Me=De&&Oe(De[1]);return Me&&JSON.parse(Me)})()}catch(De){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${De}`)}},$t=()=>{var De;return null===(De=ve())||void 0===De?void 0:De.config},en=De=>{var Me;return null===(Me=ve())||void 0===Me?void 0:Me[`_${De}`]};class Zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Me,it)=>{this.resolve=Me,this.reject=it})}wrapCallback(Me){return(it,Ht)=>{it?this.reject(it):this.resolve(Ht),"function"==typeof Me&&(this.promise.catch(()=>{}),1===Me.length?Me(it):Me(it,Ht))}}}function qt(De,Me){if(De.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ht=Me||"demo-project",dt=De.iat||0,gn=De.sub||De.user_id;if(!gn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const On=Object.assign({iss:`https://securetoken.google.com/${Ht}`,aud:Ht,iat:dt,exp:dt+3600,auth_time:dt,sub:gn,user_id:gn,firebase:{sign_in_provider:"custom",identities:{}}},De);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(On)),""].join(".")}class Dn extends Error{constructor(Me,it,Ht){super(it),this.code=Me,this.customData=Ht,this.name="FirebaseError",Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vn.prototype.create)}}class vn{constructor(Me,it,Ht){this.service=Me,this.serviceName=it,this.errors=Ht}create(Me,...it){const Ht=it[0]||{},dt=`${this.service}/${Me}`,gn=this.errors[Me],On=gn?function Jt(De,Me){return De.replace(Vn,(it,Ht)=>{const dt=Me[Ht];return null!=dt?String(dt):`<${Ht}?>`})}(gn,Ht):"Error";return new Dn(dt,`${this.serviceName}: ${On} (${dt}).`,Ht)}}const Vn=/\{\$([^}]+)}/g;function Mn(De){return JSON.parse(De)}function Cn(De){return JSON.stringify(De)}const br=function(De){let Me={},it={},Ht={},dt="";try{const gn=De.split(".");Me=Mn(Oe(gn[0])||""),it=Mn(Oe(gn[1])||""),dt=gn[2],Ht=it.d||{},delete it.d}catch{}return{header:Me,claims:it,data:Ht,signature:dt}},Un=function(De){const it=br(De).claims;return!!it&&"object"==typeof it&&it.hasOwnProperty("iat")},Kn=function(De){const Me=br(De).claims;return"object"==typeof Me&&!0===Me.admin};function zn(De,Me){return Object.prototype.hasOwnProperty.call(De,Me)}function hr(De,Me){if(Object.prototype.hasOwnProperty.call(De,Me))return De[Me]}function Hn(De){for(const Me in De)if(Object.prototype.hasOwnProperty.call(De,Me))return!1;return!0}function Xn(De,Me,it){const Ht={};for(const dt in De)Object.prototype.hasOwnProperty.call(De,dt)&&(Ht[dt]=Me.call(it,De[dt],dt,De));return Ht}function tn(De,Me){if(De===Me)return!0;const it=Object.keys(De),Ht=Object.keys(Me);for(const dt of it){if(!Ht.includes(dt))return!1;const gn=De[dt],On=Me[dt];if(Jn(gn)&&Jn(On)){if(!tn(gn,On))return!1}else if(gn!==On)return!1}for(const dt of Ht)if(!it.includes(dt))return!1;return!0}function Jn(De){return null!==De&&"object"==typeof De}function Z(De){const Me=[];for(const[it,Ht]of Object.entries(De))Array.isArray(Ht)?Ht.forEach(dt=>{Me.push(encodeURIComponent(it)+"="+encodeURIComponent(dt))}):Me.push(encodeURIComponent(it)+"="+encodeURIComponent(Ht));return Me.length?"&"+Me.join("&"):""}function H(De){const Me={};return De.replace(/^\?/,"").split("&").forEach(Ht=>{if(Ht){const[dt,gn]=Ht.split("=");Me[decodeURIComponent(dt)]=decodeURIComponent(gn)}}),Me}function J(De){const Me=De.indexOf("?");if(!Me)return"";const it=De.indexOf("#",Me);return De.substring(Me,it>0?it:void 0)}class Ve{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Me=1;Me<this.blockSize;++Me)this.pad_[Me]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Me,it){it||(it=0);const Ht=this.W_;if("string"==typeof Me)for(let Fe=0;Fe<16;Fe++)Ht[Fe]=Me.charCodeAt(it)<<24|Me.charCodeAt(it+1)<<16|Me.charCodeAt(it+2)<<8|Me.charCodeAt(it+3),it+=4;else for(let Fe=0;Fe<16;Fe++)Ht[Fe]=Me[it]<<24|Me[it+1]<<16|Me[it+2]<<8|Me[it+3],it+=4;for(let Fe=16;Fe<80;Fe++){const Ce=Ht[Fe-3]^Ht[Fe-8]^Ht[Fe-14]^Ht[Fe-16];Ht[Fe]=4294967295&(Ce<<1|Ce>>>31)}let rr,Ke,dt=this.chain_[0],gn=this.chain_[1],On=this.chain_[2],er=this.chain_[3],fr=this.chain_[4];for(let Fe=0;Fe<80;Fe++){Fe<40?Fe<20?(rr=er^gn&(On^er),Ke=1518500249):(rr=gn^On^er,Ke=1859775393):Fe<60?(rr=gn&On|er&(gn|On),Ke=2400959708):(rr=gn^On^er,Ke=3395469782);const Ce=(dt<<5|dt>>>27)+rr+fr+Ke+Ht[Fe]&4294967295;fr=er,er=On,On=4294967295&(gn<<30|gn>>>2),gn=dt,dt=Ce}this.chain_[0]=this.chain_[0]+dt&4294967295,this.chain_[1]=this.chain_[1]+gn&4294967295,this.chain_[2]=this.chain_[2]+On&4294967295,this.chain_[3]=this.chain_[3]+er&4294967295,this.chain_[4]=this.chain_[4]+fr&4294967295}update(Me,it){if(null==Me)return;void 0===it&&(it=Me.length);const Ht=it-this.blockSize;let dt=0;const gn=this.buf_;let On=this.inbuf_;for(;dt<it;){if(0===On)for(;dt<=Ht;)this.compress_(Me,dt),dt+=this.blockSize;if("string"==typeof Me){for(;dt<it;)if(gn[On]=Me.charCodeAt(dt),++On,++dt,On===this.blockSize){this.compress_(gn),On=0;break}}else for(;dt<it;)if(gn[On]=Me[dt],++On,++dt,On===this.blockSize){this.compress_(gn),On=0;break}}this.inbuf_=On,this.total_+=it}digest(){const Me=[];let it=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let dt=this.blockSize-1;dt>=56;dt--)this.buf_[dt]=255&it,it/=256;this.compress_(this.buf_);let Ht=0;for(let dt=0;dt<5;dt++)for(let gn=24;gn>=0;gn-=8)Me[Ht]=this.chain_[dt]>>gn&255,++Ht;return Me}}function rt(De,Me){const it=new Ot(De,Me);return it.subscribe.bind(it)}class Ot{constructor(Me,it){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=it,this.task.then(()=>{Me(this)}).catch(Ht=>{this.error(Ht)})}next(Me){this.forEachObserver(it=>{it.next(Me)})}error(Me){this.forEachObserver(it=>{it.error(Me)}),this.close(Me)}complete(){this.forEachObserver(Me=>{Me.complete()}),this.close()}subscribe(Me,it,Ht){let dt;if(void 0===Me&&void 0===it&&void 0===Ht)throw new Error("Missing Observer.");dt=function _e(De,Me){if("object"!=typeof De||null===De)return!1;for(const it of Me)if(it in De&&"function"==typeof De[it])return!0;return!1}(Me,["next","error","complete"])?Me:{next:Me,error:it,complete:Ht},void 0===dt.next&&(dt.next=q),void 0===dt.error&&(dt.error=q),void 0===dt.complete&&(dt.complete=q);const gn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?dt.error(this.finalError):dt.complete()}catch{}}),this.observers.push(dt),gn}unsubscribeOne(Me){void 0===this.observers||void 0===this.observers[Me]||(delete this.observers[Me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Me){if(!this.finalized)for(let it=0;it<this.observers.length;it++)this.sendOne(it,Me)}sendOne(Me,it){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Me])try{it(this.observers[Me])}catch(Ht){typeof console<"u"&&console.error&&console.error(Ht)}})}close(Me){this.finalized||(this.finalized=!0,void 0!==Me&&(this.finalError=Me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q(){}const te=function(De,Me,it,Ht){let dt;if(Ht<Me?dt="at least "+Me:Ht>it&&(dt=0===it?"none":"no more than "+it),dt)throw new Error(De+" failed: Was called with "+Ht+(1===Ht?" argument.":" arguments.")+" Expects "+dt+".")};function qe(De,Me){return`${De} failed: ${Me} argument `}function Nt(De,Me,it,Ht){if((!Ht||it)&&"function"!=typeof it)throw new Error(qe(De,Me)+"must be a valid function.")}function mn(De,Me,it,Ht){if((!Ht||it)&&("object"!=typeof it||null===it))throw new Error(qe(De,Me)+"must be a valid context object.")}const sn=function(De){const Me=[];let it=0;for(let Ht=0;Ht<De.length;Ht++){let dt=De.charCodeAt(Ht);if(dt>=55296&&dt<=56319){const gn=dt-55296;Ht++,k(Ht<De.length,"Surrogate pair missing trail surrogate."),dt=65536+(gn<<10)+(De.charCodeAt(Ht)-56320)}dt<128?Me[it++]=dt:dt<2048?(Me[it++]=dt>>6|192,Me[it++]=63&dt|128):dt<65536?(Me[it++]=dt>>12|224,Me[it++]=dt>>6&63|128,Me[it++]=63&dt|128):(Me[it++]=dt>>18|240,Me[it++]=dt>>12&63|128,Me[it++]=dt>>6&63|128,Me[it++]=63&dt|128)}return Me},vt=function(De){let Me=0;for(let it=0;it<De.length;it++){const Ht=De.charCodeAt(it);Ht<128?Me++:Ht<2048?Me+=2:Ht>=55296&&Ht<=56319?(Me+=4,it++):Me+=3}return Me};function Ue(De,Me=1e3,it=2){const Ht=Me*Math.pow(it,De),dt=Math.round(.5*Ht*(Math.random()-.5)*2);return Math.min(144e5,Ht+dt)}function Et(De){return De&&De._delegate?De._delegate:De}},898:(dn,ot,A)=>{A.d(ot,{q:()=>Je});var m=A(3336),k=A(3546),b=A(9549),ee=A(4144),Ee=A(5412),se=A(4859),je=A(7009),xe=A(6709),Oe=A(5113),ae=A(3683),ye=A(4650);const me={width:"700px",disableClose:!0},at={duration:2500,verticalPosition:"bottom"};let Je=(()=>{class bt{}return bt.\u0275fac=function(ct){return new(ct||bt)},bt.\u0275mod=ye.oAB({type:bt}),bt.\u0275inj=ye.cJS({providers:[{provide:Ee.Bq,useValue:me},{provide:je.Ve,useValue:at}],imports:[m.Ps,k.QW,b.lN,ee.c,Ee.Is,se.ot,je.ZX,xe.p9,Oe.LD,ae.g0]}),bt})()},2682:(dn,ot,A)=>{var m=A(1481),k=A(4650),b=A(284),ee=A(7009),Ee=A(1205);let se=(()=>{class n{constructor(t){this.fireAuth=t,this.authState$=this.fireAuth.authState}login(t){return this.fireAuth.signInWithEmailAndPassword(t.email,t.password).then(i=>this.userData=i.user)}register(t){return this.fireAuth.createUserWithEmailAndPassword(t.email,t.password)}logout(){return this.fireAuth.signOut()}isLoggedIn(){return!!this.userData}get user(){return this.userData}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(Ee.zQ))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var je=A(9549),xe=A(4144),Oe=A(4859),ae=A(4006);const ye=function(){return{standalone:!0}};let me=(()=>{class n{constructor(t,i,a){this.router=t,this.toast=i,this.authService=a,this.credentials={email:"",password:""}}login(){this.authService.login(this.credentials).then(t=>this.router.navigate(["/dashboard"])).catch(t=>this.toast.open(t,"",{panelClass:"toast-error"}))}register(){this.authService.register(this.credentials).then(t=>this.toast.open("Account created! Please log in.","",{panelClass:"toast-success"})).catch(t=>this.toast.open(t,"",{panelClass:"toast-error"}))}}return n.\u0275fac=function(t){return new(t||n)(k.Y36(b.F0),k.Y36(ee.ux),k.Y36(se))},n.\u0275cmp=k.Xpm({type:n,selectors:[["app-login"]],decls:20,vars:6,consts:[[1,"row","justify-content-center","login-container"],[1,"col-sm-4","shadow","login-content"],["alt","skyfly logo","src","./assets/images/logo.png",1,"logo"],[1,"d-block"],["matInput","","placeholder","Email","required","",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","placeholder","Password","required","",3,"ngModel","ngModelOptions","ngModelChange"],["type","submit","mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,i){1&t&&(k.TgZ(0,"div",0)(1,"div",1),k._UZ(2,"img",2),k.TgZ(3,"h3"),k._uU(4,"Login"),k.qZA(),k.TgZ(5,"form")(6,"mat-form-field",3)(7,"input",4),k.NdJ("ngModelChange",function(d){return i.credentials.email=d}),k.qZA(),k.TgZ(8,"mat-error"),k._uU(9,"Email is required"),k.qZA()(),k.TgZ(10,"mat-form-field",3)(11,"input",5),k.NdJ("ngModelChange",function(d){return i.credentials.password=d}),k.qZA(),k.TgZ(12,"mat-error"),k._uU(13,"Password is required"),k.qZA()(),k.TgZ(14,"button",6),k.NdJ("click",function(){return i.login()}),k._uU(15,"LOG IN"),k.qZA(),k.TgZ(16,"p"),k._uU(17,"You don't have an account?"),k.qZA(),k.TgZ(18,"button",7),k.NdJ("click",function(){return i.register()}),k._uU(19,"REGISTER"),k.qZA()()()()),2&t&&(k.xp6(7),k.Q6J("ngModel",i.credentials.email)("ngModelOptions",k.DdM(4,ye)),k.xp6(4),k.Q6J("ngModel",i.credentials.password)("ngModelOptions",k.DdM(5,ye)))},dependencies:[je.TO,je.KE,xe.Nt,Oe.lW,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.Q7,ae.On,ae.F],styles:[".login-container[_ngcontent-%COMP%]{margin-top:100px}.login-content[_ngcontent-%COMP%]{padding:30px;text-align:center;background:white}.login-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:20px}.logo[_ngcontent-%COMP%]{margin:0 auto}"]}),n})();var at=A(3336),lt=A(3683);const ct=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:me},{path:"dashboard",component:(()=>{class n{constructor(t,i){this.authService=t,this.router=i,this.user=this.authService.user}logout(){this.authService.logout().then(()=>this.router.navigate(["/login"]))}}return n.\u0275fac=function(t){return new(t||n)(k.Y36(se),k.Y36(b.F0))},n.\u0275cmp=k.Xpm({type:n,selectors:[["app-dashboard"]],decls:9,vars:1,consts:[["color","primary"],[1,"container"],["routerLink","/dashboard","src","./assets/images/logo.png","alt","",1,"logo"],[1,"logout-icon","float-end",3,"click"],[1,"user-login","float-end"]],template:function(t,i){1&t&&(k.TgZ(0,"mat-toolbar",0)(1,"div",1),k._UZ(2,"img",2),k.TgZ(3,"mat-icon",3),k.NdJ("click",function(){return i.logout()}),k._uU(4,"power_settings_new"),k.qZA(),k.TgZ(5,"span",4),k._uU(6),k.qZA()()(),k.TgZ(7,"div",1),k._UZ(8,"router-outlet"),k.qZA()),2&t&&(k.xp6(6),k.hij("Hello, ",null==i.user?null:i.user.email,""))},dependencies:[b.lC,b.rH,at.Hw,lt.Ye],styles:[".logout-icon[_ngcontent-%COMP%]{transform:scale(1.5);cursor:pointer}.user-login[_ngcontent-%COMP%]{font-size:15px;padding-right:30px}.logo[_ngcontent-%COMP%]{background:white;cursor:pointer;padding:4px;border-radius:25px}"]}),n})(),canActivate:[(()=>{class n{constructor(t,i,a){this.authService=t,this.router=i,this.toast=a}canActivate(t,i){return!!this.authService.isLoggedIn()||(this.router.navigate(["/login"]),this.toast.open("You are not authorized to visit this page. Please log in","",{panelClass:"toast-error"}),!1)}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(se),k.LFG(b.F0),k.LFG(ee.ux))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()],children:[{path:"",redirectTo:"flights",pathMatch:"full"},{path:"flights",loadChildren:()=>A.e(782).then(A.bind(A,6782)).then(n=>n.FlightsModule)}]},{path:"**",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=k.Xpm({type:n,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(t,i){1&t&&(k.TgZ(0,"p"),k._uU(1,"page-not-found works!"),k.qZA())}}),n})()}];let Lt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({imports:[b.Bz.forRoot(ct),b.Bz]}),n})(),Tt=(()=>{class n{constructor(){this.title="sky-fly"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=k.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&k._UZ(0,"router-outlet")},dependencies:[b.lC]}),n})();var ze=A(7340);function ge(n){return new k.vHH(3e3,!1)}function Ve(){return typeof window<"u"&&typeof window.document<"u"}function rt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ot(n){switch(n.length){case 0:return new ze.ZN;case 1:return n[0];default:return new ze.ZE(n)}}function Ne(n,e,t,i,a=new Map,d=new Map){const v=[],C=[];let O=-1,$=null;if(i.forEach(ne=>{const Ae=ne.get("offset"),gt=Ae==O,Rt=gt&&$||new Map;ne.forEach((kt,cn)=>{let _n=cn,sr=kt;if("offset"!==cn)switch(_n=e.normalizePropertyName(_n,v),sr){case ze.k1:sr=a.get(cn);break;case ze.l3:sr=d.get(cn);break;default:sr=e.normalizeStyleValue(cn,_n,sr,v)}Rt.set(_n,sr)}),gt||C.push(Rt),$=Rt,O=Ae}),v.length)throw function Ln(n){return new k.vHH(3502,!1)}();return C}function _e(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&q(t,"start",n)));break;case"done":n.onDone(()=>i(t&&q(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&q(t,"destroy",n)))}}function q(n,e,t){const d=te(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),v=n._data;return null!=v&&(d._data=v),d}function te(n,e,t,i,a="",d=0,v){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:a,totalTime:d,disabled:!!v}}function qe(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function It(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Nt=(n,e)=>!1,mn=(n,e,t)=>[],sn=null;function vt(n){const e=n.parentNode||n.host;return e===sn?null:e}(rt()||typeof Element<"u")&&(Ve()?(sn=(()=>document.documentElement)(),Nt=(n,e)=>{for(;e;){if(e===n)return!0;e=vt(e)}return!1}):Nt=(n,e)=>n.contains(e),mn=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Mt=null,Yt=!1;const st=Nt,Et=mn;let Me=(()=>{class n{validateStyleProperty(t){return function He(n){Mt||(Mt=function Te(){return typeof document<"u"?document.body:null}()||{},Yt=!!Mt.style&&"WebkitAppearance"in Mt.style);let e=!0;return Mt.style&&!function Ye(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Mt.style,!e&&Yt&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Mt.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return st(t,i)}getParentElement(t){return vt(t)}query(t,i,a){return Et(t,i,a)}computeStyle(t,i,a){return a||""}animate(t,i,a,d,v,C=[],O){return new ze.ZN(a,d)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac}),n})(),it=(()=>{class n{}return n.NOOP=new Me,n})();const On="ng-enter",er="ng-leave",fr="ng-trigger",rr=".ng-trigger",Ke="ng-animating",Fe=".ng-animating";function Ce(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ie(parseFloat(e[1]),e[2])}function Ie(n,e){return"s"===e?1e3*n:n}function pe(n,e,t){return n.hasOwnProperty("duration")?n:function de(n,e,t){let a,d=0,v="";if("string"==typeof n){const C=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===C)return e.push(ge()),{duration:0,delay:0,easing:""};a=Ie(parseFloat(C[1]),C[2]);const O=C[3];null!=O&&(d=Ie(parseFloat(O),C[4]));const $=C[5];$&&(v=$)}else a=n;if(!t){let C=!1,O=e.length;a<0&&(e.push(function ue(){return new k.vHH(3100,!1)}()),C=!0),d<0&&(e.push(function Le(){return new k.vHH(3101,!1)}()),C=!0),C&&e.splice(O,0,ge())}return{duration:a,delay:d,easing:v}}(n,e,t)}function Xe(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function wt(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function hn(n,e=new Map,t){if(t)for(let[i,a]of t)e.set(i,a);for(let[i,a]of n)e.set(i,a);return e}function Sn(n,e,t){return t?e+":"+t+";":""}function Hr(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Sn(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Sn(0,Fi(t),n.style[t]));n.setAttribute("style",e)}function Yr(n,e,t){n.style&&(e.forEach((i,a)=>{const d=Zs(a);t&&!t.has(a)&&t.set(a,n.style[d]),n.style[d]=i}),rt()&&Hr(n))}function jr(n,e){n.style&&(e.forEach((t,i)=>{const a=Zs(i);n.style[a]=""}),rt()&&Hr(n))}function pr(n){return Array.isArray(n)?1==n.length?n[0]:(0,ze.vP)(n):n}const wi=new RegExp("{{\\s*(.+?)\\s*}}","g");function ii(n){let e=[];if("string"==typeof n){let t;for(;t=wi.exec(n);)e.push(t[1]);wi.lastIndex=0}return e}function Sr(n,e,t){const i=n.toString(),a=i.replace(wi,(d,v)=>{let C=e[v];return null==C&&(t.push(function Pe(n){return new k.vHH(3003,!1)}()),C=""),C.toString()});return a==i?n:a}function Ni(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Mr=/-+([a-z0-9])/g;function Zs(n){return n.replace(Mr,(...e)=>e[1].toUpperCase())}function Fi(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ke(n){return new k.vHH(3004,!1)}()}}function Xr(n,e){return window.getComputedStyle(n)[e]}function Si(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Fa(n,e,t){if(":"==n[0]){const O=function fa(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Mn(n){return new k.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof O)return void e.push(O);n=O}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Vn(n){return new k.vHH(3015,!1)}()),e;const a=i[1],d=i[2],v=i[3];e.push(qo(a,v));"<"==d[0]&&!("*"==a&&"*"==v)&&e.push(qo(v,a))}(i,t,e)):t.push(n),t}const To=new Set(["true","1"]),Xs=new Set(["false","0"]);function qo(n,e){const t=To.has(n)||Xs.has(n),i=To.has(e)||Xs.has(e);return(a,d)=>{let v="*"==n||n==a,C="*"==e||e==d;return!v&&t&&"boolean"==typeof a&&(v=a?To.has(n):Xs.has(n)),!C&&i&&"boolean"==typeof d&&(C=d?To.has(e):Xs.has(e)),v&&C}}const mt=new RegExp("s*:selfs*,?","g");function ft(n,e,t,i){return new Ut(n).build(e,t,i)}class Ut{constructor(e){this._driver=e}build(e,t,i){const a=new $n(t);return this._resetContextStyleTimingState(a),Qr(this,pr(e),a)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,a=t.depCount=0;const d=[],v=[];return"@"==e.name.charAt(0)&&t.errors.push(function Ze(){return new k.vHH(3006,!1)}()),e.definitions.forEach(C=>{if(this._resetContextStyleTimingState(t),0==C.type){const O=C,$=O.name;$.toString().split(/\s*,\s*/).forEach(ne=>{O.name=ne,d.push(this.visitState(O,t))}),O.name=$}else if(1==C.type){const O=this.visitTransition(C,t);i+=O.queryCount,a+=O.depCount,v.push(O)}else t.errors.push(function ve(){return new k.vHH(3007,!1)}())}),{type:7,name:e.name,states:d,transitions:v,queryCount:i,depCount:a,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(i.containsDynamicStyles){const d=new Set,v=a||{};i.styles.forEach(C=>{C instanceof Map&&C.forEach(O=>{ii(O).forEach($=>{v.hasOwnProperty($)||d.add($)})})}),d.size&&(Ni(d.values()),t.errors.push(function pt(n,e){return new k.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Qr(this,pr(e.animation),t);return{type:1,matchers:Si(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ji(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Qr(this,i,t)),options:ji(e.options)}}visitGroup(e,t){const i=t.currentTime;let a=0;const d=e.steps.map(v=>{t.currentTime=i;const C=Qr(this,v,t);return a=Math.max(a,t.currentTime),C});return t.currentTime=a,{type:3,steps:d,options:ji(e.options)}}visitAnimate(e,t){const i=function Rr(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ai(pe(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=Ai(0,0,"");return d.dynamic=!0,d.strValue=t,d}const a=pe(t,e);return Ai(a.duration,a.delay,a.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let a,d=e.styles?e.styles:(0,ze.oB)({});if(5==d.type)a=this.visitKeyframes(d,t);else{let v=e.styles,C=!1;if(!v){C=!0;const $={};i.easing&&($.easing=i.easing),v=(0,ze.oB)($)}t.currentTime+=i.duration+i.delay;const O=this.visitStyle(v,t);O.isEmptyStep=C,a=O}return t.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],a=Array.isArray(e.styles)?e.styles:[e.styles];for(let C of a)"string"==typeof C?C===ze.l3?i.push(C):t.errors.push(new k.vHH(3002,!1)):i.push(wt(C));let d=!1,v=null;return i.forEach(C=>{if(C instanceof Map&&(C.has("easing")&&(v=C.get("easing"),C.delete("easing")),!d))for(let O of C.values())if(O.toString().indexOf("{{")>=0){d=!0;break}}),{type:6,styles:i,easing:v,offset:e.offset,containsDynamicStyles:d,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let a=t.currentTime,d=t.currentTime;i&&d>0&&(d-=i.duration+i.delay),e.styles.forEach(v=>{"string"!=typeof v&&v.forEach((C,O)=>{const $=t.collectedStyles.get(t.currentQuerySelector),ne=$.get(O);let Ae=!0;ne&&(d!=a&&d>=ne.startTime&&a<=ne.endTime&&(t.errors.push(function en(n,e,t,i,a){return new k.vHH(3010,!1)}()),Ae=!1),d=ne.startTime),Ae&&$.set(O,{startTime:d,endTime:a}),t.options&&function yi(n,e,t){const i=e.params||{},a=ii(n);a.length&&a.forEach(d=>{i.hasOwnProperty(d)||t.push(function R(n){return new k.vHH(3001,!1)}())})}(C,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Zt(){return new k.vHH(3011,!1)}()),i;let d=0;const v=[];let C=!1,O=!1,$=0;const ne=e.steps.map(sr=>{const xr=this._makeStyleAst(sr,t);let Er=null!=xr.offset?xr.offset:function ar(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(xr.styles),qr=0;return null!=Er&&(d++,qr=xr.offset=Er),O=O||qr<0||qr>1,C=C||qr<$,$=qr,v.push(qr),xr});O&&t.errors.push(function qt(){return new k.vHH(3012,!1)}()),C&&t.errors.push(function En(){return new k.vHH(3200,!1)}());const Ae=e.steps.length;let gt=0;d>0&&d<Ae?t.errors.push(function Dn(){return new k.vHH(3202,!1)}()):0==d&&(gt=1/(Ae-1));const Rt=Ae-1,kt=t.currentTime,cn=t.currentAnimateTimings,_n=cn.duration;return ne.forEach((sr,xr)=>{const Er=gt>0?xr==Rt?1:gt*xr:v[xr],qr=Er*_n;t.currentTime=kt+cn.delay+qr,cn.duration=qr,this._validateStyleAst(sr,t),sr.offset=Er,i.styles.push(sr)}),i}visitReference(e,t){return{type:8,animation:Qr(this,pr(e.animation),t),options:ji(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ji(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ji(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[d,v]=function Xt(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(mt,"")),n=n.replace(/@\*/g,rr).replace(/@\w+/g,t=>rr+"-"+t.slice(1)).replace(/:animating/g,Fe),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+d:d,qe(t.collectedStyles,t.currentQuerySelector,new Map);const C=Qr(this,pr(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:d,limit:a.limit||0,optional:!!a.optional,includeSelf:v,animation:C,originalSelector:e.selector,options:ji(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function vn(){return new k.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:pe(e.timings,t.errors,!0);return{type:12,animation:Qr(this,pr(e.animation),t),timings:i,options:null}}}class $n{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ji(n){return n?(n=Xe(n)).params&&(n.params=function an(n){return n?Xe(n):null}(n.params)):n={},n}function Ai(n,e,t){return{duration:n,delay:e,easing:t}}function Ts(n,e,t,i,a,d,v=null,C=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:a,delay:d,totalTime:a+d,easing:v,subTimeline:C}}class Cr{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Js=new RegExp(":enter","g"),li=new RegExp(":leave","g");function Yi(n,e,t,i,a,d=new Map,v=new Map,C,O,$=[]){return(new eo).buildKeyframes(n,e,t,i,a,d,v,C,O,$)}class eo{buildKeyframes(e,t,i,a,d,v,C,O,$,ne=[]){$=$||new Cr;const Ae=new uo(e,t,$,a,d,ne,[]);Ae.options=O;const gt=O.delay?Ce(O.delay):0;Ae.currentTimeline.delayNextStep(gt),Ae.currentTimeline.setStyles([v],null,Ae.errors,O),Qr(this,i,Ae);const Rt=Ae.timelines.filter(kt=>kt.containsAnimation());if(Rt.length&&C.size){let kt;for(let cn=Rt.length-1;cn>=0;cn--){const _n=Rt[cn];if(_n.element===t){kt=_n;break}}kt&&!kt.allowOnlyTimelineStyles()&&kt.setStyles([C],null,Ae.errors,O)}return Rt.length?Rt.map(kt=>kt.buildKeyframes()):[Ts(t,[],[],[],0,gt,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const a=t.createSubContext(e.options),d=t.currentTimeline.currentTime,v=this._visitSubInstructions(i,a,a.options);d!=v&&t.transformIntoNewTimeline(v)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const a of e){const d=a?.delay;if(d){const v="number"==typeof d?d:Ce(Sr(d,a?.params??{},t.errors));i.delayNextStep(v)}}}_visitSubInstructions(e,t,i){let d=t.currentTimeline.currentTime;const v=null!=i.duration?Ce(i.duration):null,C=null!=i.delay?Ce(i.delay):null;return 0!==v&&e.forEach(O=>{const $=t.appendInstructionToTimeline(O,v,C);d=Math.max(d,$.duration+$.delay)}),d}visitReference(e,t){t.updateOptions(e.options,!0),Qr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let a=t;const d=e.options;if(d&&(d.params||d.delay)&&(a=t.createSubContext(d),a.transformIntoNewTimeline(),null!=d.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Zi);const v=Ce(d.delay);a.delayNextStep(v)}e.steps.length&&(e.steps.forEach(v=>Qr(this,v,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let a=t.currentTimeline.currentTime;const d=e.options&&e.options.delay?Ce(e.options.delay):0;e.steps.forEach(v=>{const C=t.createSubContext(e.options);d&&C.delayNextStep(d),Qr(this,v,C),a=Math.max(a,C.currentTimeline.currentTime),i.push(C.currentTimeline)}),i.forEach(v=>t.currentTimeline.mergeTimelineCollectedStyles(v)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return pe(t.params?Sr(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),a.snapshotCurrentStyles());const d=e.style;5==d.type?this.visitKeyframes(d,t):(t.incrementTime(i.duration),this.visitStyle(d,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,a=t.currentAnimateTimings;!a&&i.hasCurrentStyleProperties()&&i.forwardFrame();const d=a&&a.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(d):i.setStyles(e.styles,d,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,a=t.currentTimeline.duration,d=i.duration,C=t.createSubContext().currentTimeline;C.easing=i.easing,e.styles.forEach(O=>{C.forwardTime((O.offset||0)*d),C.setStyles(O.styles,O.easing,t.errors,t.options),C.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(C),t.transformIntoNewTimeline(a+d),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,a=e.options||{},d=a.delay?Ce(a.delay):0;d&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Zi);let v=i;const C=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=C.length;let O=null;C.forEach(($,ne)=>{t.currentQueryIndex=ne;const Ae=t.createSubContext(e.options,$);d&&Ae.delayNextStep(d),$===t.element&&(O=Ae.currentTimeline),Qr(this,e.animation,Ae),Ae.currentTimeline.applyStylesToKeyframe(),v=Math.max(v,Ae.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(v),O&&(t.currentTimeline.mergeTimelineCollectedStyles(O),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,a=t.currentTimeline,d=e.timings,v=Math.abs(d.duration),C=v*(t.currentQueryTotal-1);let O=v*t.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":O=C-O;break;case"full":O=i.currentStaggerTime}const ne=t.currentTimeline;O&&ne.delayNextStep(O);const Ae=ne.currentTime;Qr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=a.currentTime-Ae+(a.startTime-i.currentTimeline.startTime)}}const Zi={};class uo{constructor(e,t,i,a,d,v,C,O){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=d,this.errors=v,this.timelines=C,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=O||new Qi(this._driver,t,0),C.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let a=this.options;null!=i.duration&&(a.duration=Ce(i.duration)),null!=i.delay&&(a.delay=Ce(i.delay));const d=i.params;if(d){let v=a.params;v||(v=this.options.params={}),Object.keys(d).forEach(C=>{(!t||!v.hasOwnProperty(C))&&(v[C]=Sr(d[C],v,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(a=>{i[a]=t[a]})}}return e}createSubContext(e=null,t,i){const a=t||this.element,d=new uo(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(e),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(e){return this.previousNode=Zi,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const a={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},d=new So(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(d),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,a,d,v){let C=[];if(a&&C.push(this.element),e.length>0){e=(e=e.replace(Js,"."+this._enterClassName)).replace(li,"."+this._leaveClassName);let $=this._driver.query(this.element,e,1!=i);0!==i&&($=i<0?$.slice($.length+i,$.length):$.slice(0,i)),C.push(...$)}return!d&&0==C.length&&v.push(function Jt(n){return new k.vHH(3014,!1)}()),C}}class Qi{constructor(e,t,i,a){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Qi(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ze.l3),this._currentKeyframe.set(t,ze.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,a){t&&this._previousKeyframe.set("easing",t);const d=a&&a.params||{},v=function Mo(n,e){const t=new Map;let i;return n.forEach(a=>{if("*"===a){i=i||e.keys();for(let d of i)t.set(d,ze.l3)}else hn(a,t)}),t}(e,this._globalTimelineStyles);for(let[C,O]of v){const $=Sr(O,d,i);this._pendingStyles.set(C,$),this._localTimelineStyles.has(C)||this._backFill.set(C,this._globalTimelineStyles.get(C)??ze.l3),this._updateStyle(C,$)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const a=this._styleSummary.get(i);(!a||t.time>a.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((C,O)=>{const $=hn(C,new Map,this._backFill);$.forEach((ne,Ae)=>{ne===ze.k1?e.add(Ae):ne===ze.l3&&t.add(Ae)}),i||$.set("offset",O/this.duration),a.push($)});const d=e.size?Ni(e.values()):[],v=t.size?Ni(t.values()):[];if(i){const C=a[0],O=new Map(C);C.set("offset",0),O.set("offset",1),a=[C,O]}return Ts(this.element,a,d,v,this.duration,this.startTime,this.easing,!1)}}class So extends Qi{constructor(e,t,i,a,d,v,C=!1){super(e,t,v.delay),this.keyframes=i,this.preStyleProps=a,this.postStyleProps=d,this._stretchStartingKeyframe=C,this.timings={duration:v.duration,delay:v.delay,easing:v.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const d=[],v=i+t,C=t/v,O=hn(e[0]);O.set("offset",0),d.push(O);const $=hn(e[0]);$.set("offset",Ao(C)),d.push($);const ne=e.length-1;for(let Ae=1;Ae<=ne;Ae++){let gt=hn(e[Ae]);const Rt=gt.get("offset");gt.set("offset",Ao((t+Rt*i)/v)),d.push(gt)}i=v,t=0,a="",e=d}return Ts(this.element,e,this.preStyleProps,this.postStyleProps,i,t,a,!0)}}function Ao(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ns{}const Fs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ho extends ns{normalizePropertyName(e,t){return Zs(e)}normalizeStyleValue(e,t,i,a){let d="";const v=i.toString().trim();if(Fs.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)d="px";else{const C=i.match(/^[+-]?[\d\.]+([a-z]*)$/);C&&0==C[1].length&&a.push(function we(n,e){return new k.vHH(3005,!1)}())}return v+d}}function ri(n,e,t,i,a,d,v,C,O,$,ne,Ae,gt){return{type:0,element:n,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:d,toState:i,toStyles:v,timelines:C,queriedElements:O,preStyleProps:$,postStyleProps:ne,totalTime:Ae,errors:gt}}const lr={};class ma{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,a){return function Yo(n,e,t,i,a){return n.some(d=>d(e,t,i,a))}(this.ast.matchers,e,t,i,a)}buildStyles(e,t,i){let a=this._stateStyles.get("*");return void 0!==e&&(a=this._stateStyles.get(e?.toString())||a),a?a.buildStyles(t,i):new Map}build(e,t,i,a,d,v,C,O,$,ne){const Ae=[],gt=this.ast.options&&this.ast.options.params||lr,kt=this.buildStyles(i,C&&C.params||lr,Ae),cn=O&&O.params||lr,_n=this.buildStyles(a,cn,Ae),sr=new Set,xr=new Map,Er=new Map,qr="void"===a,Lr={params:Ls(cn,gt),delay:this.ast.options?.delay},Br=ne?[]:Yi(e,t,this.ast.animation,d,v,kt,_n,Lr,$,Ae);let mi=0;if(Br.forEach(Zd=>{mi=Math.max(Zd.duration+Zd.delay,mi)}),Ae.length)return ri(t,this._triggerName,i,a,qr,kt,_n,[],[],xr,Er,mi,Ae);Br.forEach(Zd=>{const Yu=Zd.element,Sb=qe(xr,Yu,new Set);Zd.preStyleProps.forEach(Yf=>Sb.add(Yf));const Yp=qe(Er,Yu,new Set);Zd.postStyleProps.forEach(Yf=>Yp.add(Yf)),Yu!==t&&sr.add(Yu)});const Bl=Ni(sr.values());return ri(t,this._triggerName,i,a,qr,kt,_n,Br,Bl,xr,Er,mi)}}function Ls(n,e){const t=Xe(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class is{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,a=Xe(this.defaultParams);return Object.keys(e).forEach(d=>{const v=e[d];null!==v&&(a[d]=v)}),this.styles.styles.forEach(d=>{"string"!=typeof d&&d.forEach((v,C)=>{v&&(v=Sr(v,a,t));const O=this.normalizer.normalizePropertyName(C,t);v=this.normalizer.normalizeStyleValue(C,O,v,t),i.set(O,v)})}),i}}class Zo{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(a=>{this.states.set(a.name,new is(a.style,a.options&&a.options.params||{},i))}),Bs(this.states,"true","1"),Bs(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new ma(e,a,this.states))}),this.fallbackTransition=function ui(n,e,t){return new ma(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(v,C)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,a){return this.transitionFactories.find(v=>v.match(e,t,i,a))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Bs(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Dr=new Cr;class Qo{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],d=ft(this._driver,t,i,[]);if(i.length)throw function Un(n){return new k.vHH(3503,!1)}();this._animations.set(e,d)}_buildPlayer(e,t,i){const a=e.element,d=Ne(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(a,d,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const a=[],d=this._animations.get(e);let v;const C=new Map;if(d?(v=Yi(this._driver,t,d,On,er,new Map,new Map,i,Dr,a),v.forEach(ne=>{const Ae=qe(C,ne.element,new Map);ne.postStyleProps.forEach(gt=>Ae.set(gt,null))})):(a.push(function Kn(){return new k.vHH(3300,!1)}()),v=[]),a.length)throw function zn(n){return new k.vHH(3504,!1)}();C.forEach((ne,Ae)=>{ne.forEach((gt,Rt)=>{ne.set(Rt,this._driver.computeStyle(Ae,Rt,ze.l3))})});const $=Ot(v.map(ne=>{const Ae=C.get(ne.element);return this._buildPlayer(ne,new Map,Ae)}));return this._playersById.set(e,$),$.onDestroy(()=>this.destroy(e)),this.players.push($),$}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function hr(n){return new k.vHH(3301,!1)}();return t}listen(e,t,i,a){const d=te(t,"","","");return _e(this._getPlayer(e),i,d,a),()=>{}}command(e,t,i,a){if("register"==i)return void this.register(e,a[0]);if("create"==i)return void this.create(e,t,a[0]||{});const d=this._getPlayer(e);switch(i){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const Ss="ng-animate-queued",Gi="ng-animate-disabled",ga=[],La={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_a={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xi="__ng_removed";class Ir{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Ro(n){return n??null}(i?e.value:e),i){const d=Xe(e);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(a=>{null==i[a]&&(i[a]=t[a])})}}}const xi="void",Ba=new Ir(xi);class xo{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Pt(t,this._hostClassName)}listen(e,t,i,a){if(!this._triggers.has(t))throw function Hn(n,e){return new k.vHH(3302,!1)}();if(null==i||0==i.length)throw function Xn(n){return new k.vHH(3303,!1)}();if(!function K(n){return"start"==n||"done"==n}(i))throw function tn(n,e){return new k.vHH(3400,!1)}();const d=qe(this._elementListeners,e,[]),v={name:t,phase:i,callback:a};d.push(v);const C=qe(this._engine.statesByElement,e,new Map);return C.has(t)||(Pt(e,fr),Pt(e,fr+"-"+t),C.set(t,Ba)),()=>{this._engine.afterFlush(()=>{const O=d.indexOf(v);O>=0&&d.splice(O,1),this._triggers.has(t)||C.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Jn(n){return new k.vHH(3401,!1)}();return t}trigger(e,t,i,a=!0){const d=this._getTrigger(t),v=new ir(this.id,t,e);let C=this._engine.statesByElement.get(e);C||(Pt(e,fr),Pt(e,fr+"-"+t),this._engine.statesByElement.set(e,C=new Map));let O=C.get(t);const $=new Ir(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&O&&$.absorbOptions(O.options),C.set(t,$),O||(O=Ba),$.value!==xi&&O.value===$.value){if(!function oi(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let a=0;a<t.length;a++){const d=t[a];if(!e.hasOwnProperty(d)||n[d]!==e[d])return!1}return!0}(O.params,$.params)){const cn=[],_n=d.matchStyles(O.value,O.params,cn),sr=d.matchStyles($.value,$.params,cn);cn.length?this._engine.reportError(cn):this._engine.afterFlush(()=>{jr(e,_n),Yr(e,sr)})}return}const gt=qe(this._engine.playersByElement,e,[]);gt.forEach(cn=>{cn.namespaceId==this.id&&cn.triggerName==t&&cn.queued&&cn.destroy()});let Rt=d.matchTransition(O.value,$.value,e,$.params),kt=!1;if(!Rt){if(!a)return;Rt=d.fallbackTransition,kt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Rt,fromState:O,toState:$,player:v,isFallbackTransition:kt}),kt||(Pt(e,Ss),v.onStart(()=>{An(e,Ss)})),v.onDone(()=>{let cn=this.players.indexOf(v);cn>=0&&this.players.splice(cn,1);const _n=this._engine.playersByElement.get(e);if(_n){let sr=_n.indexOf(v);sr>=0&&_n.splice(sr,1)}}),this.players.push(v),gt.push(v),v}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,rr,!0);i.forEach(a=>{if(a[Xi])return;const d=this._engine.fetchNamespacesByElement(a);d.size?d.forEach(v=>v.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,i,a){const d=this._engine.statesByElement.get(e),v=new Map;if(d){const C=[];if(d.forEach((O,$)=>{if(v.set($,O.value),this._triggers.has($)){const ne=this.trigger(e,$,xi,a);ne&&C.push(ne)}}),C.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,v),i&&Ot(C).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const a=new Set;t.forEach(d=>{const v=d.name;if(a.has(v))return;a.add(v);const O=this._triggers.get(v).fallbackTransition,$=i.get(v)||Ba,ne=new Ir(xi),Ae=new ir(this.id,v,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:v,transition:O,fromState:$,toState:ne,player:Ae,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(i.totalAnimations){const d=i.players.length?i.playersByQueriedElement.get(e):[];if(d&&d.length)a=!0;else{let v=e;for(;v=v.parentNode;)if(i.statesByElement.get(v)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)i.markElementAsRemoved(this.id,e,!1,t);else{const d=e[Xi];(!d||d===La)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Pt(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const a=i.player;if(a.destroyed)return;const d=i.element,v=this._elementListeners.get(d);v&&v.forEach(C=>{if(C.name==i.triggerName){const O=te(d,i.triggerName,i.fromState.value,i.toState.value);O._data=e,_e(i.player,C.phase,O,C.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(i)}),this._queue=[],t.sort((i,a)=>{const d=i.transition.ast.depCount,v=a.transition.ast.depCount;return 0==d||0==v?d-v:this._engine.driver.containsElement(i.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class rn{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,d)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new xo(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,a=this.namespacesByHostElement;if(i.length-1>=0){let v=!1,C=this.driver.getParentElement(t);for(;C;){const O=a.get(C);if(O){const $=i.indexOf(O);i.splice($+1,0,e),v=!0;break}C=this.driver.getParentElement(C)}v||i.unshift(e)}else i.push(e);return a.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let a=this._namespaceLookup[e];a&&a.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(i);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let a of i.values())if(a.namespaceId){const d=this._fetchNamespace(a.namespaceId);d&&t.add(d)}return t}trigger(e,t,i,a){if(Fn(t)){const d=this._fetchNamespace(e);if(d)return d.trigger(t,i,a),!0}return!1}insertNode(e,t,i,a){if(!Fn(t))return;const d=t[Xi];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const v=this.collectedLeaveElements.indexOf(t);v>=0&&this.collectedLeaveElements.splice(v,1)}if(e){const v=this._fetchNamespace(e);v&&v.insertNode(t,i)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Pt(e,Gi)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),An(e,Gi))}removeNode(e,t,i,a){if(Fn(t)){const d=e?this._fetchNamespace(e):null;if(d?d.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),i){const v=this.namespacesByHostElement.get(t);v&&v.id!==e&&v.removeNode(t,a)}}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,i,a,d){this.collectedLeaveElements.push(t),t[Xi]={namespaceId:e,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:d}}listen(e,t,i,a,d){return Fn(t)?this._fetchNamespace(e).listen(t,i,a,d):()=>{}}_buildInstruction(e,t,i,a,d){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,a,e.fromState.options,e.toState.options,t,d)}destroyInnerAnimations(e){let t=this.driver.query(e,rr,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Fe,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ot(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Xi];if(t&&t.setForRemoval){if(e[Xi]=La,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Gi)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,a)=>this._balanceNamespaceList(i,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Pt(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let a=0;a<i.length;a++)i[a]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Ot(t).onDone(()=>{i.forEach(a=>a())}):i.forEach(a=>a())}}reportError(e){throw function be(n){return new k.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new Cr,a=[],d=new Map,v=[],C=new Map,O=new Map,$=new Map,ne=new Set;this.disabledNodes.forEach(qn=>{ne.add(qn);const yr=this.driver.query(qn,".ng-animate-queued",!0);for(let or=0;or<yr.length;or++)ne.add(yr[or])});const Ae=this.bodyNode,gt=Array.from(this.statesByElement.keys()),Rt=ie(gt,this.collectedEnterElements),kt=new Map;let cn=0;Rt.forEach((qn,yr)=>{const or=On+cn++;kt.set(yr,or),qn.forEach(_i=>Pt(_i,or))});const _n=[],sr=new Set,xr=new Set;for(let qn=0;qn<this.collectedLeaveElements.length;qn++){const yr=this.collectedLeaveElements[qn],or=yr[Xi];or&&or.setForRemoval&&(_n.push(yr),sr.add(yr),or.hasAnimation?this.driver.query(yr,".ng-star-inserted",!0).forEach(_i=>sr.add(_i)):xr.add(yr))}const Er=new Map,qr=ie(gt,Array.from(sr));qr.forEach((qn,yr)=>{const or=er+cn++;Er.set(yr,or),qn.forEach(_i=>Pt(_i,or))}),e.push(()=>{Rt.forEach((qn,yr)=>{const or=kt.get(yr);qn.forEach(_i=>An(_i,or))}),qr.forEach((qn,yr)=>{const or=Er.get(yr);qn.forEach(_i=>An(_i,or))}),_n.forEach(qn=>{this.processLeaveNode(qn)})});const Lr=[],Br=[];for(let qn=this._namespaceList.length-1;qn>=0;qn--)this._namespaceList[qn].drainQueuedTransitions(t).forEach(or=>{const _i=or.player,Io=or.element;if(Lr.push(_i),this.collectedEnterElements.length){const ha=Io[Xi];if(ha&&ha.setForMove){if(ha.previousTriggersValues&&ha.previousTriggersValues.has(or.triggerName)){const Xd=ha.previousTriggersValues.get(or.triggerName),ic=this.statesByElement.get(or.element);if(ic&&ic.has(or.triggerName)){const Dg=ic.get(or.triggerName);Dg.value=Xd,ic.set(or.triggerName,Dg)}}return void _i.destroy()}}const fu=!Ae||!this.driver.containsElement(Ae,Io),Is=Er.get(Io),Qd=kt.get(Io),gs=this._buildInstruction(or,i,Qd,Is,fu);if(gs.errors&&gs.errors.length)return void Br.push(gs);if(fu)return _i.onStart(()=>jr(Io,gs.fromStyles)),_i.onDestroy(()=>Yr(Io,gs.toStyles)),void a.push(_i);if(or.isFallbackTransition)return _i.onStart(()=>jr(Io,gs.fromStyles)),_i.onDestroy(()=>Yr(Io,gs.toStyles)),void a.push(_i);const Mb=[];gs.timelines.forEach(ha=>{ha.stretchStartingKeyframe=!0,this.disabledNodes.has(ha.element)||Mb.push(ha)}),gs.timelines=Mb,i.append(Io,gs.timelines),v.push({instruction:gs,player:_i,element:Io}),gs.queriedElements.forEach(ha=>qe(C,ha,[]).push(_i)),gs.preStyleProps.forEach((ha,Xd)=>{if(ha.size){let ic=O.get(Xd);ic||O.set(Xd,ic=new Set),ha.forEach((Dg,Ig)=>ic.add(Ig))}}),gs.postStyleProps.forEach((ha,Xd)=>{let ic=$.get(Xd);ic||$.set(Xd,ic=new Set),ha.forEach((Dg,Ig)=>ic.add(Ig))})});if(Br.length){const qn=[];Br.forEach(yr=>{qn.push(function H(n,e){return new k.vHH(3505,!1)}())}),Lr.forEach(yr=>yr.destroy()),this.reportError(qn)}const mi=new Map,Bl=new Map;v.forEach(qn=>{const yr=qn.element;i.has(yr)&&(Bl.set(yr,yr),this._beforeAnimationBuild(qn.player.namespaceId,qn.instruction,mi))}),a.forEach(qn=>{const yr=qn.element;this._getPreviousPlayers(yr,!1,qn.namespaceId,qn.triggerName,null).forEach(_i=>{qe(mi,yr,[]).push(_i),_i.destroy()})});const Zd=_n.filter(qn=>Vs(qn,O,$)),Yu=new Map;L(Yu,this.driver,xr,$,ze.l3).forEach(qn=>{Vs(qn,O,$)&&Zd.push(qn)});const Yp=new Map;Rt.forEach((qn,yr)=>{L(Yp,this.driver,new Set(qn),O,ze.k1)}),Zd.forEach(qn=>{const yr=Yu.get(qn),or=Yp.get(qn);Yu.set(qn,new Map([...Array.from(yr?.entries()??[]),...Array.from(or?.entries()??[])]))});const Yf=[],Ab=[],Jy={};v.forEach(qn=>{const{element:yr,player:or,instruction:_i}=qn;if(i.has(yr)){if(ne.has(yr))return or.onDestroy(()=>Yr(yr,_i.toStyles)),or.disabled=!0,or.overrideTotalTime(_i.totalTime),void a.push(or);let Io=Jy;if(Bl.size>1){let Is=yr;const Qd=[];for(;Is=Is.parentNode;){const gs=Bl.get(Is);if(gs){Io=gs;break}Qd.push(Is)}Qd.forEach(gs=>Bl.set(gs,Io))}const fu=this._buildAnimation(or.namespaceId,_i,mi,d,Yp,Yu);if(or.setRealPlayer(fu),Io===Jy)Yf.push(or);else{const Is=this.playersByElement.get(Io);Is&&Is.length&&(or.parentPlayer=Ot(Is)),a.push(or)}}else jr(yr,_i.fromStyles),or.onDestroy(()=>Yr(yr,_i.toStyles)),Ab.push(or),ne.has(yr)&&a.push(or)}),Ab.forEach(qn=>{const yr=d.get(qn.element);if(yr&&yr.length){const or=Ot(yr);qn.setRealPlayer(or)}}),a.forEach(qn=>{qn.parentPlayer?qn.syncPlayerEvents(qn.parentPlayer):qn.destroy()});for(let qn=0;qn<_n.length;qn++){const yr=_n[qn],or=yr[Xi];if(An(yr,er),or&&or.hasAnimation)continue;let _i=[];if(C.size){let fu=C.get(yr);fu&&fu.length&&_i.push(...fu);let Is=this.driver.query(yr,Fe,!0);for(let Qd=0;Qd<Is.length;Qd++){let gs=C.get(Is[Qd]);gs&&gs.length&&_i.push(...gs)}}const Io=_i.filter(fu=>!fu.destroyed);Io.length?si(this,yr,Io):this.processLeaveNode(yr)}return _n.length=0,Yf.forEach(qn=>{this.players.push(qn),qn.onDone(()=>{qn.destroy();const yr=this.players.indexOf(qn);this.players.splice(yr,1)}),qn.play()}),Yf}elementContainsData(e,t){let i=!1;const a=t[Xi];return a&&a.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,a,d){let v=[];if(t){const C=this.playersByQueriedElement.get(e);C&&(v=C)}else{const C=this.playersByElement.get(e);if(C){const O=!d||d==xi;C.forEach($=>{$.queued||!O&&$.triggerName!=a||v.push($)})}}return(i||a)&&(v=v.filter(C=>!(i&&i!=C.namespaceId||a&&a!=C.triggerName))),v}_beforeAnimationBuild(e,t,i){const d=t.element,v=t.isRemovalTransition?void 0:e,C=t.isRemovalTransition?void 0:t.triggerName;for(const O of t.timelines){const $=O.element,ne=$!==d,Ae=qe(i,$,[]);this._getPreviousPlayers($,ne,v,C,t.toState).forEach(Rt=>{const kt=Rt.getRealPlayer();kt.beforeDestroy&&kt.beforeDestroy(),Rt.destroy(),Ae.push(Rt)})}jr(d,t.fromStyles)}_buildAnimation(e,t,i,a,d,v){const C=t.triggerName,O=t.element,$=[],ne=new Set,Ae=new Set,gt=t.timelines.map(kt=>{const cn=kt.element;ne.add(cn);const _n=cn[Xi];if(_n&&_n.removedBeforeQueried)return new ze.ZN(kt.duration,kt.delay);const sr=cn!==O,xr=function Ri(n){const e=[];return Ms(n,e),e}((i.get(cn)||ga).map(mi=>mi.getRealPlayer())).filter(mi=>!!mi.element&&mi.element===cn),Er=d.get(cn),qr=v.get(cn),Lr=Ne(0,this._normalizer,0,kt.keyframes,Er,qr),Br=this._buildPlayer(kt,Lr,xr);if(kt.subTimeline&&a&&Ae.add(cn),sr){const mi=new ir(e,C,cn);mi.setRealPlayer(Br),$.push(mi)}return Br});$.forEach(kt=>{qe(this.playersByQueriedElement,kt.element,[]).push(kt),kt.onDone(()=>function As(n,e,t){let i=n.get(e);if(i){if(i.length){const a=i.indexOf(t);i.splice(a,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,kt.element,kt))}),ne.forEach(kt=>Pt(kt,Ke));const Rt=Ot(gt);return Rt.onDestroy(()=>{ne.forEach(kt=>An(kt,Ke)),Yr(O,t.toStyles)}),Ae.forEach(kt=>{qe(a,kt,[]).push(Rt)}),Rt}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new ze.ZN(e.duration,e.delay)}}class ir{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new ze.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(a=>_e(e,i,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){qe(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Fn(n){return n&&1===n.nodeType}function j(n,e){const t=n.style.display;return n.style.display=e??"none",t}function L(n,e,t,i,a){const d=[];t.forEach(O=>d.push(j(O)));const v=[];i.forEach((O,$)=>{const ne=new Map;O.forEach(Ae=>{const gt=e.computeStyle($,Ae,a);ne.set(Ae,gt),(!gt||0==gt.length)&&($[Xi]=_a,v.push($))}),n.set($,ne)});let C=0;return t.forEach(O=>j(O,d[C++])),v}function ie(n,e){const t=new Map;if(n.forEach(C=>t.set(C,[])),0==e.length)return t;const a=new Set(e),d=new Map;function v(C){if(!C)return 1;let O=d.get(C);if(O)return O;const $=C.parentNode;return O=t.has($)?$:a.has($)?1:v($),d.set(C,O),O}return e.forEach(C=>{const O=v(C);1!==O&&t.get(O).push(C)}),t}function Pt(n,e){n.classList?.add(e)}function An(n,e){n.classList?.remove(e)}function si(n,e,t){Ot(t).onDone(()=>n.processLeaveNode(e))}function Ms(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof ze.ZE?Ms(i.players,e):e.push(i)}}function Vs(n,e,t){const i=t.get(n);if(!i)return!1;let a=e.get(n);return a?i.forEach(d=>a.add(d)):e.set(n,i),t.delete(n),!0}class Va{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(a,d)=>{},this._transitionEngine=new rn(e,t,i),this._timelineEngine=new Qo(e,t,i),this._transitionEngine.onRemovalComplete=(a,d)=>this.onRemovalComplete(a,d)}registerTrigger(e,t,i,a,d){const v=e+"-"+a;let C=this._triggerCache[v];if(!C){const O=[],ne=ft(this._driver,d,O,[]);if(O.length)throw function dr(n,e){return new k.vHH(3404,!1)}();C=function ci(n,e,t){return new Zo(n,e,t)}(a,ne,this._normalizer),this._triggerCache[v]=C}this._transitionEngine.registerTrigger(t,a,C)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,a){this._transitionEngine.insertNode(e,t,i,a)}onRemove(e,t,i,a){this._transitionEngine.removeNode(e,t,a||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,a){if("@"==i.charAt(0)){const[d,v]=It(i);this._timelineEngine.command(d,t,v,a)}else this._transitionEngine.trigger(e,t,i,a)}listen(e,t,i,a,d){if("@"==i.charAt(0)){const[v,C]=It(i);return this._timelineEngine.listen(v,t,C,d)}return this._transitionEngine.listen(e,t,i,a,d)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let fo=(()=>{class n{constructor(t,i,a){this._element=t,this._startStyles=i,this._endStyles=a,this._state=0;let d=n.initialStylesByElement.get(t);d||n.initialStylesByElement.set(t,d=new Map),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&Yr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yr(this._element,this._initialStyles),this._endStyles&&(Yr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(jr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jr(this._element,this._endStyles),this._endStyles=null),Yr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Vl(n){let e=null;return n.forEach((t,i)=>{(function po(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class al{constructor(e,t,i,a){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,a)=>{"offset"!==a&&e.set(a,this._finished?i:Xr(this.element,a))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Jo{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return st(e,t)}getParentElement(e){return vt(e)}query(e,t,i){return Et(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,a,d,v=[]){const O={duration:i,delay:a,fill:0==a?"both":"forwards"};d&&(O.easing=d);const $=new Map,ne=v.filter(Rt=>Rt instanceof al);(function Ii(n,e){return 0===n||0===e})(i,a)&&ne.forEach(Rt=>{Rt.currentSnapshot.forEach((kt,cn)=>$.set(cn,kt))});let Ae=function Qt(n){return n.length?n[0]instanceof Map?n:n.map(e=>wt(e)):[]}(t).map(Rt=>hn(Rt));Ae=function _s(n,e,t){if(t.size&&e.length){let i=e[0],a=[];if(t.forEach((d,v)=>{i.has(v)||a.push(v),i.set(v,d)}),a.length)for(let d=1;d<e.length;d++){let v=e[d];a.forEach(C=>v.set(C,Xr(n,C)))}}return e}(e,Ae,$);const gt=function Xo(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Vl(e[0]),e.length>1&&(i=Vl(e[e.length-1]))):e instanceof Map&&(t=Vl(e)),t||i?new fo(n,t,i):null}(e,Ae);return new al(e,Ae,O,gt)}}var ya=A(6895);let ko=(()=>{class n extends ze._j{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:k.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?(0,ze.vP)(t):t;return mo(this._renderer,null,i,"register",[a]),new ea(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(k.FYo),k.LFG(ya.K0))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac}),n})();class ea extends ze.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new va(this._id,e,t||{},this._renderer)}}class va{constructor(e,t,i,a){this.id=e,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return mo(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function mo(n,e,t,i,a){return n.setProperty(e,`@@${t}:${i}`,a)}const ll="@.disabled";let Ul=(()=>{class n{constructor(t,i,a){this.delegate=t,this.engine=i,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(d,v)=>{const C=v?.parentNode(d);C&&v.removeChild(C,d)}}createRenderer(t,i){const d=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let ne=this._rendererCache.get(d);return ne||(ne=new Ua("",d,this.engine,()=>this._rendererCache.delete(d)),this._rendererCache.set(d,ne)),ne}const v=i.id,C=i.id+"-"+this._currentId;this._currentId++,this.engine.register(C,t);const O=ne=>{Array.isArray(ne)?ne.forEach(O):this.engine.registerTrigger(v,C,t,ne.name,ne)};return i.data.animation.forEach(O),new Ha(this,C,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,a){t>=0&&t<this._microtaskId?this._zone.run(()=>i(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[v,C]=d;v(C)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(k.FYo),k.LFG(Va),k.LFG(k.R0b))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac}),n})();class Ua{constructor(e,t,i,a){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=a,this.destroyNode=this.delegate.destroyNode?d=>t.destroyNode(d):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,a=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,a){this.delegate.setAttribute(e,t,i,a)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,a){this.delegate.setStyle(e,t,i,a)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==ll?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ha extends Ua{constructor(e,t,i,a,d){super(t,i,a,d),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ll?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const a=function N(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let d=t.slice(1),v="";return"@"!=d.charAt(0)&&([d,v]=function X(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(d)),this.engine.listen(this.namespaceId,a,d,v,C=>{this.factory.scheduleListenerCallback(C._data||-1,i,C)})}return this.delegate.listen(e,t,i)}}let U=(()=>{class n extends Va{constructor(t,i,a,d){super(t.body,i,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(ya.K0),k.LFG(it),k.LFG(ns),k.LFG(k.z2F))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac}),n})();const xt=[{provide:ze._j,useClass:ko},{provide:ns,useFactory:function le(){return new ho}},{provide:Va,useClass:U},{provide:k.FYo,useFactory:function tt(n,e,t){return new Ul(n,e,t)},deps:[m.se,Va,k.R0b]}],Wt=[{provide:it,useFactory:()=>new Jo},{provide:k.QbO,useValue:"BrowserAnimations"},...xt],xn=[{provide:it,useClass:Me},{provide:k.QbO,useValue:"NoopAnimations"},...xt];let Ar=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?xn:Wt}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({providers:Wt,imports:[m.b2]}),n})();var fi=A(2011);const Wr_firebase={apiKey:"AIzaSyDgKX-prjPRhNRkSK8WQeJQ4dhGGmb4N3c",authDomain:"sky-fly-3e30a.firebaseapp.com",databaseURL:"https://sky-fly-3e30a-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sky-fly-3e30a",storageBucket:"sky-fly-3e30a.appspot.com",messagingSenderId:"1099433322031",appId:"1:1099433322031:web:82eef310270fe8016b08da",measurementId:"G-7Q7951HR9K"};var vi=A(4986),ta=A(9751),xs=A(8996),bi=A(9646),Di=A(5813),ys=A(8675),Us=A(4482),no=A(5403);function Oo(){return(0,Us.e)((n,e)=>{let t,i=!1;n.subscribe((0,no.x)(e,a=>{const d=t;t=a,i&&e.next([d,a]),i=!0}))})}var Bn,kr=A(4004),go=A(5026),Ea=A(1884),mc=A(9300),ja=(A(1277),A(3942)),nn=A(5861),na=A(9681),cl=A(3475),Hs=A(1877),ei=A(2090),ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kr={},Dl=Dl||{},Tn=ul||self;function ss(){}function dl(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function _o(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ei="closure_uid_"+(1e9*Math.random()>>>0),zi=0;function hl(n,e,t){return n.call.apply(n.bind,arguments)}function js(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,i),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function ki(n,e,t){return(ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hl:js).apply(null,arguments)}function $s(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Li(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,a,d){for(var v=Array(arguments.length-2),C=2;C<arguments.length;C++)v[C-2]=arguments[C];return e.prototype[a].apply(i,v)}}function us(){this.s=this.s,this.o=this.o}us.prototype.s=!1,us.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function $a(n){Object.prototype.hasOwnProperty.call(n,Ei)&&n[Ei]||(n[Ei]=++zi)}(this)},us.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ga=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Hl(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function ra(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(dl(i)){const a=n.length||0,d=i.length||0;n.length=a+d;for(let v=0;v<d;v++)n[a+v]=i[v]}else n.push(i)}}function Or(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Or.prototype.h=function(){this.defaultPrevented=!0};var gc=function(){if(!Tn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Tn.addEventListener("test",ss,e),Tn.removeEventListener("test",ss,e)}catch{}return n}();function ia(n){return/^[\s\xa0]*$/.test(n)}var ro=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function za(n,e){return n<e?-1:n>e?1:0}function fl(){var n=Tn.navigator;return n&&(n=n.userAgent)?n:""}function Rs(n){return-1!=fl().indexOf(n)}function Po(n){return Po[" "](n),n}Po[" "]=ss;var ds,n,_u=Rs("Opera"),Ca=Rs("Trident")||Rs("MSIE"),yo=Rs("Edge"),wa=yo||Ca,Wa=Rs("Gecko")&&!(-1!=fl().toLowerCase().indexOf("webkit")&&!Rs("Edge"))&&!(Rs("Trident")||Rs("MSIE"))&&!Rs("Edge"),vs=-1!=fl().toLowerCase().indexOf("webkit")&&!Rs("Edge");function No(){var n=Tn.document;return n?n.documentMode:void 0}e:{var Fo="",pl=(n=fl(),Wa?/rv:([^\);]+)(\)|;)/.exec(n):yo?/Edge\/([\d\.]+)/.exec(n):Ca?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vs?/WebKit\/(\S+)/.exec(n):_u?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(pl&&(Fo=pl?pl[1]:""),Ca){var sa=No();if(null!=sa&&sa>parseFloat(Fo)){ds=String(sa);break e}}ds=Fo}var Da={};var Zu=Tn.document&&Ca&&(No()||parseInt(ds,10))||void 0;function Il(n,e){if(Or.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Wa){e:{try{Po(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Qu[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Il.X.h.call(this)}}Li(Il,Or);var Qu={2:"touch",3:"pen",4:"mouse"};Il.prototype.h=function(){Il.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var sc="closure_listenable_"+(1e6*Math.random()|0),Ka=0;function Xu(n,e,t,i,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=a,this.key=++Ka,this.ba=this.ea=!1}function Ta(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Bc(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function vu(n){const e={};for(const t in n)e[t]=n[t];return e}const Bi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oc(n,e){let t,i;for(let a=1;a<arguments.length;a++){for(t in i=arguments[a],i)n[t]=i[t];for(let d=0;d<Bi.length;d++)t=Bi[d],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Sa(n){this.src=n,this.g={},this.h=0}function _c(n,e){var t=e.type;if(t in n.g){var d,i=n.g[t],a=Ga(i,e);(d=0<=a)&&Array.prototype.splice.call(i,a,1),d&&(Ta(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Tl(n,e,t,i){for(var a=0;a<n.length;++a){var d=n[a];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==i)return a}return-1}Sa.prototype.add=function(n,e,t,i,a){var d=n.toString();(n=this.g[d])||(n=this.g[d]=[],this.h++);var v=Tl(n,e,i,a);return-1<v?(e=n[v],t||(e.ea=!1)):((e=new Xu(e,this.src,d,!!i,a)).ea=t,n.push(e)),e};var ks="closure_lm_"+(1e6*Math.random()|0),Gs={};function yc(n,e,t,i,a){if(i&&i.once)return M(n,e,t,i,a);if(Array.isArray(e)){for(var d=0;d<e.length;d++)yc(n,e[d],t,i,a);return null}return t=zt(t),n&&n[sc]?n.N(e,t,_o(i)?!!i.capture:!!i,a):ml(n,e,t,!1,i,a)}function ml(n,e,t,i,a,d){if(!e)throw Error("Invalid event type");var v=_o(a)?!!a.capture:!!a,C=$e(n);if(C||(n[ks]=C=new Sa(n)),(t=C.add(e,t,i,v,d)).proxy)return t;if(i=function S(){const e=oe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)gc||(a=v),void 0===a&&(a=!1),n.addEventListener(e.toString(),i,a);else if(n.attachEvent)n.attachEvent(G(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function M(n,e,t,i,a){if(Array.isArray(e)){for(var d=0;d<e.length;d++)M(n,e[d],t,i,a);return null}return t=zt(t),n&&n[sc]?n.O(e,t,_o(i)?!!i.capture:!!i,a):ml(n,e,t,!0,i,a)}function I(n,e,t,i,a){if(Array.isArray(e))for(var d=0;d<e.length;d++)I(n,e[d],t,i,a);else i=_o(i)?!!i.capture:!!i,t=zt(t),n&&n[sc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Tl(d=n.g[e],t,i,a))&&(Ta(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete n.g[e],n.h--))):n&&(n=$e(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Tl(e,t,i,a)),(t=-1<n?e[n]:null)&&B(t))}function B(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[sc])_c(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(G(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=$e(e))?(_c(t,n),0==t.h&&(t.src=null,e[ks]=null)):Ta(n)}}}function G(n){return n in Gs?Gs[n]:Gs[n]="on"+n}function oe(n,e){if(n.ba)n=!0;else{e=new Il(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&B(n),n=t.call(i,e)}return n}function $e(n){return(n=n[ks])instanceof Sa?n:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function zt(n){return"function"==typeof n?n:(n[Qe]||(n[Qe]=function(e){return n.handleEvent(e)}),n[Qe])}function fn(){us.call(this),this.i=new Sa(this),this.P=this,this.I=null}function jn(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Or(e,n);else if(e instanceof Or)e.target=e.target||n;else{var a=e;oc(e=new Or(i,n),a)}if(a=!0,t)for(var d=t.length-1;0<=d;d--){var v=e.g=t[d];a=Rn(v,i,!0,e)&&a}if(a=Rn(v=e.g=n,i,!0,e)&&a,a=Rn(v,i,!1,e)&&a,t)for(d=0;d<t.length;d++)a=Rn(v=e.g=t[d],i,!1,e)&&a}function Rn(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,d=0;d<e.length;++d){var v=e[d];if(v&&!v.ba&&v.capture==t){var C=v.listener,O=v.ha||v.src;v.ea&&_c(n.i,v),a=!1!==C.call(O,i)&&a}}return a&&!i.defaultPrevented}Li(fn,us),fn.prototype[sc]=!0,fn.prototype.removeEventListener=function(n,e,t,i){I(this,n,e,t,i)},fn.prototype.M=function(){if(fn.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Ta(t[i]);delete n.g[e],n.h--}}this.I=null},fn.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},fn.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var $r=Tn.JSON.stringify;function bs(){var n=Uc;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Lo,Ws=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new io,n=>n.reset());class io{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Vc(n){Tn.setTimeout(()=>{throw n},0)}function hs(n,e){Lo||function Sl(){var n=Tn.Promise.resolve(void 0);Lo=function(){n.then(Hc)}}(),oa||(Lo(),oa=!0),Uc.add(n,e)}var oa=!1,Uc=new class zs{constructor(){this.h=this.g=null}add(e,t){const i=Ws.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function Hc(){for(var n;n=bs();){try{n.h.call(n.g)}catch(t){Vc(t)}var e=Ws;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}oa=!1}function Bo(n,e){fn.call(this),this.h=n||1,this.g=e||Tn,this.j=ki(this.lb,this),this.l=Date.now()}function jl(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Aa(n,e,t){if("function"==typeof n)t&&(n=ki(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ki(n.handleEvent,n)}return 2147483647<Number(e)?-1:Tn.setTimeout(n,e||0)}function gl(n){n.g=Aa(()=>{n.g=null,n.i&&(n.i=!1,gl(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Li(Bo,fn),(Bn=Bo.prototype).ca=!1,Bn.R=null,Bn.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),jn(this,"tick"),this.ca&&(jl(this),this.start()))}},Bn.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Bn.M=function(){Bo.X.M.call(this),jl(this),delete this.g};class qa extends us{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gl(this)}M(){super.M(),this.g&&(Tn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(n){us.call(this),this.h=n,this.g={}}Li(aa,us);var bu=[];function Ji(n,e,t,i){Array.isArray(t)||(t&&(bu[0]=t.toString()),t=bu);for(var a=0;a<t.length;a++){var d=yc(e,t[a],i||n.handleEvent,!1,n.h||n);if(!d)break;n.g[d.key]=d}}function vc(n){Bc(n.g,function(e,t){this.g.hasOwnProperty(t)&&B(e)},n),n.g={}}function V(){this.g=!0}function Ge(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Vt(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var d=a[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var v=1;v<a.length;v++)a[v]=""}}}return $r(t)}catch{return e}}(n,t)+(i?" "+i:"")})}aa.prototype.M=function(){aa.X.M.call(this),vc(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},V.prototype.Aa=function(){this.g=!1},V.prototype.info=function(){};var ln={},In=null;function Wn(){return In=In||new fn}function tr(n){Or.call(this,ln.Pa,n)}function mr(n){const e=Wn();jn(e,new tr(e))}function Yn(n,e){Or.call(this,ln.STAT_EVENT,n),this.stat=e}function Nr(n){const e=Wn();jn(e,new Yn(e,n))}function fs(n,e){Or.call(this,ln.Qa,n),this.size=e}function Ya(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Tn.setTimeout(function(){n()},e)}ln.Pa="serverreachability",Li(tr,Or),ln.STAT_EVENT="statevent",Li(Yn,Or),ln.Qa="timingevent",Li(fs,Or);var Vo={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Al={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ml(){}function Za(){}Ml.prototype.h=null;var Ju,la={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function yl(){Or.call(this,"d")}function bc(){Or.call(this,"c")}function ed(){}function jc(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new aa(this),this.O=$c,this.T=new Bo(n=wa?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Eu}function Eu(){this.i=null,this.g="",this.h=!1}Li(yl,Or),Li(bc,Or),Li(ed,Ml),ed.prototype.g=function(){return new XMLHttpRequest},ed.prototype.i=function(){return{}},Ju=new ed;var $c=45e3,$l={},Ec={};function xl(n,e,t){n.K=1,n.v=Wl(Os(e)),n.s=t,n.P=!0,Jd(n,null)}function Jd(n,e){n.F=Date.now(),zc(n),n.A=Os(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),Jf(t.i,"t",i),n.C=0,t=n.l.H,n.h=new Eu,n.g=Go(n.l,t?e:null,!n.s),0<n.N&&(n.L=new qa(ki(n.La,n,n.g),n.N)),Ji(n.S,n.g,"readystatechange",n.ib),e=n.H?vu(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),mr(),function W(n,e,t,i,a,d){n.info(function(){if(n.g)if(d)for(var v="",C=d.split("&"),O=0;O<C.length;O++){var $=C[O].split("=");if(1<$.length){var ne=$[0];$=$[1];var Ae=ne.split("_");v=2<=Ae.length&&"type"==Ae[1]?v+(ne+"=")+$+"&":v+(ne+"=redacted&")}}else v=null;else v=d;return"XMLHTTP REQ ("+i+") [attempt "+a+"]: "+e+"\n"+t+"\n"+v})}(n.j,n.u,n.A,n.m,n.U,n.s)}function td(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Qf(n,e,t){let a,i=!0;for(;!n.I&&n.C<t.length;){if(a=Gc(n,t),a==Ec){4==e&&(n.o=4,Nr(14),i=!1),Ge(n.j,n.m,null,"[Incomplete Response]");break}if(a==$l){n.o=4,Nr(15),Ge(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Ge(n.j,n.m,a,null),th(n,a)}td(n)&&a!=Ec&&a!=$l&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Nr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Zl(e),e.K=!0,Nr(11))):(Ge(n.j,n.m,t,"[Invalid Chunked Response]"),Qa(n),Gl(n))}function Gc(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Ec:(t=Number(e.substring(t,i)),isNaN(t)?$l:(i+=1)+t>e.length?Ec:(e=e.substr(i,t),n.C=i+t,e))}function zc(n){n.V=Date.now()+n.O,eh(n,n.O)}function eh(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ya(ki(n.gb,n),e)}function Ma(n){n.B&&(Tn.clearTimeout(n.B),n.B=null)}function Gl(n){0==n.l.G||n.I||Yc(n.l,n)}function Qa(n){Ma(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,jl(n.T),vc(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function th(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Su(t.h,n)))if(!n.J&&Su(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var a=i;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;ah(t),Tc(t)}oo(t),Nr(18)}}else t.Ba=a[1],0<t.Ba-t.T&&37500>a[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ya(ki(t.cb,t),6e3));if(1>=Tu(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ql(t,11)}else if((n.J||t.g==n)&&ah(t),!ia(e))for(a=t.Fa.g.parse(e),e=0;e<a.length;e++){let $=a[e];if(t.T=$[0],$=$[1],2==t.G)if("c"==$[0]){t.I=$[1],t.ka=$[2];const ne=$[3];null!=ne&&(t.ma=ne,t.j.info("VER="+t.ma));const Ae=$[4];null!=Ae&&(t.Ca=Ae,t.j.info("SVER="+t.Ca));const gt=$[5];null!=gt&&"number"==typeof gt&&0<gt&&(t.J=i=1.5*gt,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const Rt=n.g;if(Rt){const kt=Rt.g?Rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kt){var d=i.h;d.g||-1==kt.indexOf("spdy")&&-1==kt.indexOf("quic")&&-1==kt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(od(d,d.h),d.h=null))}if(i.D){const cn=Rt.g?Rt.g.getResponseHeader("X-HTTP-Session-Id"):null;cn&&(i.za=cn,Oi(i.F,i.D,cn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var v=n;if((i=t).sa=Ou(i,i.H?i.ka:null,i.V),v.J){rh(i.h,v);var C=v,O=i.J;O&&C.setTimeout(O),C.B&&(Ma(C),zc(C)),i.g=v}else kl(i);0<t.i.length&&Es(t)}else"stop"!=$[0]&&"close"!=$[0]||Ql(t,7);else 3==t.G&&("stop"==$[0]||"close"==$[0]?"stop"==$[0]?Ql(t,7):Ru(t):"noop"!=$[0]&&t.l&&t.l.wa($),t.A=0)}mr()}catch{}}function zl(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(dl(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Kh(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(dl(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Xf(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(dl(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),a=i.length,d=0;d<a;d++)e.call(void 0,i[d],t&&t[d],n)}(Bn=jc.prototype).setTimeout=function(n){this.O=n},Bn.ib=function(n){n=n.target;const e=this.L;e&&3==vl(n)?e.l():this.La(n)},Bn.La=function(n){try{if(n==this.g)e:{const ne=vl(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ne)&&(3!=ne||wa||this.g&&(this.h.h||this.g.fa()||xu(this.g)))){this.I||4!=ne||7==e||mr(),Ma(this);var t=this.g.aa();this.Y=t;t:if(td(this)){var i=xu(this.g);n="";var a=i.length,d=4==vl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qa(this),Gl(this);var v="";break t}this.h.i=new Tn.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:d&&e==a-1});i.splice(0,a),this.h.g+=n,this.C=0,v=this.h.g}else v=this.g.fa();if(this.i=200==t,function re(n,e,t,i,a,d,v){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+d+" "+v})}(this.j,this.u,this.A,this.m,this.U,ne,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var C,O=this.g;if((C=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ia(C)){var $=C;break t}}$=null}if(!(t=$)){this.i=!1,this.o=3,Nr(12),Qa(this),Gl(this);break e}Ge(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,th(this,t)}this.P?(Qf(this,ne,v),wa&&this.i&&3==ne&&(Ji(this.S,this.T,"tick",this.hb),this.T.start())):(Ge(this.j,this.m,v,null),th(this,v)),4==ne&&Qa(this),this.i&&!this.I&&(4==ne?Yc(this.l,this):(this.i=!1,zc(this)))}else 400==t&&0<v.indexOf("Unknown SID")?(this.o=3,Nr(12)):(this.o=0,Nr(13)),Qa(this),Gl(this)}}}catch{}},Bn.hb=function(){if(this.g){var n=vl(this.g),e=this.g.fa();this.C<e.length&&(Ma(this),Qf(this,n,e),this.i&&4!=n&&zc(this))}},Bn.cancel=function(){this.I=!0,Qa(this)},Bn.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Ct(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(mr(),Nr(17)),Qa(this),this.o=2,Gl(this)):eh(this,this.V-n)};var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Xa){this.h=void 0!==e?e:n.h,vo(this,n.j),this.s=n.s,this.g=n.g,nd(this,n.m),this.l=n.l,e=n.i;var t=new Wc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),wu(this,t),this.o=n.o}else n&&(t=String(n).match(Cu))?(this.h=!!e,vo(this,t[1]||"",!0),this.s=Kl(t[2]||""),this.g=Kl(t[3]||"",!0),nd(this,t[4]),this.l=Kl(t[5]||"",!0),wu(this,t[6]||"",!0),this.o=Kl(t[7]||"")):(this.h=!!e,this.i=new Wc(null,this.h))}function Os(n){return new Xa(n)}function vo(n,e,t){n.j=t?Kl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function nd(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function wu(n,e,t){e instanceof Wc?(n.i=e,function Du(n,e){e&&!n.j&&(ql(n),n.i=null,n.g.forEach(function(t,i){var a=i.toLowerCase();i!=a&&(sd(this,i),Jf(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Uo(e,Zh)),n.i=new Wc(e,n.h))}function Oi(n,e,t){n.i.set(e,t)}function Wl(n){return Oi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Kl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Uo(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,so),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function so(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Uo(e,rd,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Uo(e,rd,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Uo(t,"/"==t.charAt(0)?id:Yh,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Uo(t,xa)),n.join("")};var rd=/[#\/\?@]/g,Yh=/[#\?:]/g,id=/[#\?]/g,Zh=/[#\?@]/g,xa=/#/g;function Wc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ql(n){n.g||(n.g=new Map,n.h=0,n.i&&function qh(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),a=null;if(0<=i){var d=n[t].substring(0,i);a=n[t].substring(i+1)}else d=n[t];e(d,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sd(n,e){ql(n),e=Ja(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Qh(n,e){return ql(n),e=Ja(n,e),n.g.has(e)}function Jf(n,e,t){sd(n,e),0<t.length&&(n.i=null,n.g.set(Ja(n,e),Hl(t)),n.h+=t.length)}function Ja(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Yl(n){this.l=n||nh,n=Tn.PerformanceNavigationTiming?0<(n=Tn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Tn.g&&Tn.g.Ga&&Tn.g.Ga()&&Tn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Bn=Wc.prototype).add=function(n,e){ql(this),this.i=null,n=Ja(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Bn.forEach=function(n,e){ql(this),this.g.forEach(function(t,i){t.forEach(function(a){n.call(e,a,i,this)},this)},this)},Bn.oa=function(){ql(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const a=n[i];for(let d=0;d<a.length;d++)t.push(e[i])}return t},Bn.W=function(n){ql(this);let e=[];if("string"==typeof n)Qh(this,n)&&(e=e.concat(this.g.get(Ja(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Bn.set=function(n,e){return ql(this),this.i=null,Qh(this,n=Ja(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Bn.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Bn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const d=encodeURIComponent(String(i)),v=this.W(i);for(i=0;i<v.length;i++){var a=d;""!==v[i]&&(a+="="+encodeURIComponent(String(v[i]))),n.push(a)}}return this.i=n.join("&")};var nh=10;function Iu(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Tu(n){return n.h?1:n.g?n.g.size:0}function Su(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function od(n,e){n.g?n.g.add(e):n.h=e}function rh(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ad(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Hl(n.i)}function Cc(){}function Xp(){this.g=new Cc}function ep(n,e,t){const i=t||"";try{zl(n,function(a,d){let v=a;_o(a)&&(v=$r(a)),e.push(i+d+"="+encodeURIComponent(v))})}catch(a){throw e.push(i+"type="+encodeURIComponent("_badmap")),a}}function ld(n,e,t,i,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(i)}catch{}}function Au(n){this.l=n.ac||null,this.j=n.jb||!1}function wc(n,e){fn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Kc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yl.prototype.cancel=function(){if(this.i=ad(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Cc.prototype.stringify=function(n){return Tn.JSON.stringify(n,void 0)},Cc.prototype.parse=function(n){return Tn.JSON.parse(n,void 0)},Li(Au,Ml),Au.prototype.g=function(){return new wc(this.l,this.j)},Au.prototype.i=function(n){return function(){return n}}({}),Li(wc,fn);var Kc=0;function ih(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function ka(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ho(n)}function Ho(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Bn=wc.prototype).open=function(n,e){if(this.readyState!=Kc)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ho(this)},Bn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Tn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Bn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ka(this)),this.readyState=Kc},Bn.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ho(this)),this.g&&(this.readyState=3,Ho(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Tn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ih(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Bn.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ka(this):Ho(this),3==this.readyState&&ih(this)}},Bn.Va=function(n){this.g&&(this.response=this.responseText=n,ka(this))},Bn.Ua=function(n){this.g&&(this.response=n,ka(this))},Bn.ga=function(){this.g&&ka(this)},Bn.setRequestHeader=function(n,e){this.v.append(n,e)},Bn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Bn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(wc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Mu=Tn.JSON.parse;function Wi(n){fn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vi,this.K=this.L=!1}Li(Wi,fn);var Vi="",cd=/^https?$/i,qc=["POST","PUT"];function ud(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,dd(n),Dc(n)}function dd(n){n.D||(n.D=!0,jn(n,"complete"),jn(n,"error"))}function oh(n){if(n.h&&typeof Dl<"u"&&(!n.C[1]||4!=vl(n)||2!=n.aa()))if(n.v&&4==vl(n))Aa(n.Ha,0,n);else if(jn(n,"readystatechange"),4==vl(n)){n.h=!1;try{const C=n.aa();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===C){var a=String(n.H).match(Cu)[1]||null;if(!a&&Tn.self&&Tn.self.location){var d=Tn.self.location.protocol;a=d.substr(0,d.length-1)}i=!cd.test(a?a.toLowerCase():"")}t=i}if(t)jn(n,"complete"),jn(n,"success");else{n.m=6;try{var v=2<vl(n)?n.g.statusText:""}catch{v=""}n.j=v+" ["+n.aa()+"]",dd(n)}}finally{Dc(n)}}}function Dc(n,e){if(n.g){hd(n);const t=n.g,i=n.C[0]?ss:null;n.g=null,n.C=null,e||jn(n,"ready");try{t.onreadystatechange=i}catch{}}}function hd(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Tn.clearTimeout(n.A),n.A=null)}function vl(n){return n.g?n.g.readyState:0}function xu(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Vi:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function tp(n){let e="";return Bc(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Rl(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=tp(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Oi(n,e,t))}function Ic(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function fd(n){this.Ca=0,this.i=[],this.j=new V,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ic("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ic("baseRetryDelayMs",5e3,n),this.bb=Ic("retryDelaySeedMs",1e4,n),this.$a=Ic("forwardChannelMaxRetries",2,n),this.ta=Ic("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Yl(n&&n.concurrentRequestLimit),this.Fa=new Xp,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ru(n){if(pd(n),3==n.G){var e=n.U++,t=Os(n.F);Oi(t,"SID",n.I),Oi(t,"RID",e),Oi(t,"TYPE","terminate"),Ac(n,t),(e=new jc(n,n.j,e,void 0)).K=2,e.v=Wl(Os(t)),t=!1,Tn.navigator&&Tn.navigator.sendBeacon&&(t=Tn.navigator.sendBeacon(e.v.toString(),"")),!t&&Tn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Go(e.l,null),e.g.da(e.v)),e.F=Date.now(),zc(e)}ku(n)}function Tc(n){n.g&&(Zl(n),n.g.cancel(),n.g=null)}function pd(n){Tc(n),n.u&&(Tn.clearTimeout(n.u),n.u=null),ah(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Tn.clearTimeout(n.m),n.m=null)}function Es(n){Iu(n.h)||n.m||(n.m=!0,hs(n.Ja,n),n.C=0)}function el(n,e){var t;t=e?e.m:n.U++;const i=Os(n.F);Oi(i,"SID",n.I),Oi(i,"RID",t),Oi(i,"AID",n.T),Ac(n,i),n.o&&n.s&&Rl(i,n.o,n.s),t=new jc(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=jo(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),od(n.h,t),xl(t,i,e)}function Ac(n,e){n.ia&&Bc(n.ia,function(t,i){Oi(e,i,t)}),n.l&&zl({},function(t,i){Oi(e,i,t)})}function jo(n,e,t){t=Math.min(n.i.length,t);var i=n.l?ki(n.l.Ra,n.l,n):null;e:{var a=n.i;let d=-1;for(;;){const v=["count="+t];-1==d?0<t?(d=a[0].h,v.push("ofs="+d)):d=0:v.push("ofs="+d);let C=!0;for(let O=0;O<t;O++){let $=a[O].h;const ne=a[O].g;if($-=d,0>$)d=Math.max(0,a[O].h-100),C=!1;else try{ep(ne,v,"req"+$+"_")}catch{i&&i(ne)}}if(C){i=v.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function kl(n){n.g||n.u||(n.Z=1,hs(n.Ia,n),n.A=0)}function oo(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Ya(ki(n.Ia,n),Mc(n,n.A)),n.A++,0))}function Zl(n){null!=n.B&&(Tn.clearTimeout(n.B),n.B=null)}function $o(n){n.g=new jc(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Os(n.sa);Oi(e,"RID","rpc"),Oi(e,"SID",n.I),Oi(e,"CI",n.L?"0":"1"),Oi(e,"AID",n.T),Oi(e,"TYPE","xmlhttp"),Ac(n,e),n.o&&n.s&&Rl(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Wl(Os(e)),t.s=null,t.P=!0,Jd(t,n)}function ah(n){null!=n.v&&(Tn.clearTimeout(n.v),n.v=null)}function Yc(n,e){var t=null;if(n.g==e){ah(n),Zl(n),n.g=null;var i=2}else{if(!Su(n.h,e))return;t=e.D,rh(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;jn(i=Wn(),new fs(i,t)),Es(n)}else kl(n);else if(3==(a=e.o)||0==a&&0<n.pa||!(1==i&&function Sc(n,e){return!(Tu(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Ya(ki(n.Ja,n,e),Mc(n,n.C)),n.C++,0)))}(n,e)||2==i&&oo(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),a){case 1:Ql(n,5);break;case 4:Ql(n,10);break;case 3:Ql(n,6);break;default:Ql(n,2)}}function Mc(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Ql(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=ki(n.kb,n);t||(t=new Xa("//www.google.com/images/cleardot.gif"),Tn.location&&"http"==Tn.location.protocol||vo(t,"https"),Wl(t)),function Xh(n,e){const t=new V;if(Tn.Image){const i=new Image;i.onload=$s(ld,t,i,"TestLoadImage: loaded",!0,e),i.onerror=$s(ld,t,i,"TestLoadImage: error",!1,e),i.onabort=$s(ld,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=$s(ld,t,i,"TestLoadImage: timeout",!1,e),Tn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Nr(2);n.G=0,n.l&&n.l.va(e),ku(n),pd(n)}function ku(n){if(n.G=0,n.la=[],n.l){const e=ad(n.h);(0!=e.length||0!=n.i.length)&&(ra(n.la,e),ra(n.la,n.i),n.h.i.length=0,Hl(n.i),n.i.length=0),n.l.ua()}}function Ou(n,e,t){var i=t instanceof Xa?Os(t):new Xa(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),nd(i,i.m);else{var a=Tn.location;i=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var d=new Xa(null,void 0);i&&vo(d,i),e&&(d.g=e),a&&nd(d,a),t&&(d.l=t),i=d}return e=n.za,(t=n.D)&&e&&Oi(i,t,e),Oi(i,"VER",n.ma),Ac(n,i),i}function Go(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wi(t&&n.Da&&!n.ra?new Au({jb:!0}):n.ra)).Ka(n.H),e}function md(){}function Ol(){if(Ca&&!(10<=Number(Zu)))throw Error("Environmental error: no available transport.")}function bo(n,e){fn.call(this),this.g=new fd(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!ia(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ia(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ui(this)}function Zc(n){yl.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Qc(){bc.call(this),this.status=1}function Ui(n){this.g=n}(Bn=Wi.prototype).Ka=function(n){this.L=n},Bn.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ju.g(),this.C=function _l(n){return n.h||(n.h=n.i())}(this.u?this.u:Ju),this.g.onreadystatechange=ki(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(d){return void ud(this,d)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)t.set(a,i[a]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const d of i.keys())t.set(d,i.get(d))}i=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),a=Tn.FormData&&n instanceof Tn.FormData,!(0<=Ga(qc,e))||i||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,v]of t)this.g.setRequestHeader(d,v);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hd(this),0<this.B&&((this.K=function sh(n){return Ca&&function Ia(){return function gu(n){var e=Da;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ro(String(ds)).split("."),t=ro("9").split("."),i=Math.max(e.length,t.length);for(let v=0;0==n&&v<i;v++){var a=e[v]||"",d=t[v]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==a[0].length&&0==d[0].length)break;n=za(0==a[1].length?0:parseInt(a[1],10),0==d[1].length?0:parseInt(d[1],10))||za(0==a[2].length,0==d[2].length)||za(a[2],d[2]),a=a[3],d=d[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ki(this.qa,this)):this.A=Aa(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(d){ud(this,d)}},Bn.qa=function(){typeof Dl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jn(this,"timeout"),this.abort(8))},Bn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,jn(this,"complete"),jn(this,"abort"),Dc(this))},Bn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dc(this,!0)),Wi.X.M.call(this)},Bn.Ha=function(){this.s||(this.F||this.v||this.l?oh(this):this.fb())},Bn.fb=function(){oh(this)},Bn.aa=function(){try{return 2<vl(this)?this.g.status:-1}catch{return-1}},Bn.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Bn.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Mu(e)}},Bn.Ea=function(){return this.m},Bn.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Bn=fd.prototype).ma=8,Bn.G=1,Bn.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const a=new jc(this,this.j,n,void 0);let d=this.s;if(this.S&&(d?(d=vu(d),oc(d,this.S)):d=this.S),null!==this.o||this.N||(a.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=jo(this,a,e),Oi(t=Os(this.F),"RID",n),Oi(t,"CVER",22),this.D&&Oi(t,"X-HTTP-Session-Id",this.D),Ac(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(tp(d)))+"&"+e:this.o&&Rl(t,this.o,d)),od(this.h,a),this.Ya&&Oi(t,"TYPE","init"),this.O?(Oi(t,"$req",e),Oi(t,"SID","null"),a.Z=!0,xl(a,t,null)):xl(a,t,e),this.G=2}}else 3==this.G&&(n?el(this,n):0==this.i.length||Iu(this.h)||el(this))},Bn.Ia=function(){if(this.u=null,$o(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Ya(ki(this.eb,this),n)}},Bn.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Nr(10),Tc(this),$o(this))},Bn.cb=function(){null!=this.v&&(this.v=null,Tc(this),oo(this),Nr(19))},Bn.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Nr(2)):(this.j.info("Failed to ping google.com"),Nr(1))},(Bn=md.prototype).xa=function(){},Bn.wa=function(){},Bn.va=function(){},Bn.ua=function(){},Bn.Ra=function(){},Ol.prototype.g=function(n,e){return new bo(n,e)},Li(bo,fn),bo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Nr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Ou(n,null,n.V),Es(n)},bo.prototype.close=function(){Ru(this.g)},bo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=$r(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Es(e)},bo.prototype.M=function(){this.g.l=null,delete this.j,Ru(this.g),delete this.g,bo.X.M.call(this)},Li(Zc,yl),Li(Qc,bc),Li(Ui,md),Ui.prototype.xa=function(){jn(this.g,"a")},Ui.prototype.wa=function(n){jn(this.g,new Zc(n))},Ui.prototype.va=function(n){jn(this.g,new Qc)},Ui.prototype.ua=function(){jn(this.g,"b")},Ol.prototype.createWebChannel=Ol.prototype.g,bo.prototype.send=bo.prototype.u,bo.prototype.open=bo.prototype.m,bo.prototype.close=bo.prototype.close,Vo.NO_ERROR=0,Vo.TIMEOUT=8,Vo.HTTP_ERROR=6,Al.COMPLETE="complete",Za.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",fn.prototype.listen=fn.prototype.N,Wi.prototype.listenOnce=Wi.prototype.O,Wi.prototype.getLastError=Wi.prototype.Oa,Wi.prototype.getLastErrorCode=Wi.prototype.Ea,Wi.prototype.getStatus=Wi.prototype.aa,Wi.prototype.getResponseJson=Wi.prototype.Sa,Wi.prototype.getResponseText=Wi.prototype.fa,Wi.prototype.send=Wi.prototype.da,Wi.prototype.setWithCredentials=Wi.prototype.Ka;var gd=Kr.createWebChannelTransport=function(){return new Ol},_d=Kr.getStatEventTarget=function(){return Wn()},yd=Kr.ErrorCode=Vo,Pl=Kr.EventType=Al,ao=Kr.Event=ln,vd=Kr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},lh=Kr.FetchXmlHttpFactory=Au,bd=Kr.WebChannel=Za,Ed=Kr.XhrIo=Wi;const Jh="@firebase/firestore";class Ks{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ks.UNAUTHENTICATED=new Ks(null),Ks.GOOGLE_CREDENTIALS=new Ks("google-credentials-uid"),Ks.FIRST_PARTY=new Ks("first-party-uid"),Ks.MOCK_USER=new Ks("mock-user");let Nl="9.13.0";const ac=new Hs.Yd("@firebase/firestore");function E(){return ac.logLevel}function g(n,...e){if(ac.logLevel<=Hs.in.DEBUG){const t=e.map(fe);ac.debug(`Firestore (${Nl}): ${n}`,...t)}}function T(n,...e){if(ac.logLevel<=Hs.in.ERROR){const t=e.map(fe);ac.error(`Firestore (${Nl}): ${n}`,...t)}}function Q(n,...e){if(ac.logLevel<=Hs.in.WARN){const t=e.map(fe);ac.warn(`Firestore (${Nl}): ${n}`,...t)}}function fe(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function We(n="Unexpected state"){const e=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: `+n;throw T(e),new Error(e)}function yt(n,e){n||We()}function Gt(n,e){return n}const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bt extends ei.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ca{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Oa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ks.UNAUTHENTICATED))}shutdown(){}}class np{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xc{constructor(e){this.t=e,this.currentUser=Ks.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let a=this.i;const d=$=>this.i!==a?(a=this.i,t($)):Promise.resolve();let v=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new Gr,e.enqueueRetryable(()=>d(this.currentUser))};const C=()=>{const $=v;e.enqueueRetryable((0,nn.Z)(function*(){yield $.promise,yield d(i.currentUser)}))},O=$=>{g("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit($=>O($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?O($):(g("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new Gr)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(g("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt("string"==typeof i.accessToken),new ca(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(null===e||"string"==typeof e),new Ks(e)}}class ef{constructor(e,t,i,a){this.h=e,this.l=t,this.m=i,this.g=a,this.type="FirstParty",this.user=Ks.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(yt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class rp{constructor(e,t,i,a){this.h=e,this.l=t,this.m=i,this.g=a}getToken(){return Promise.resolve(new ef(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ks.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ip{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=d=>{null!=d.error&&g("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const v=d.token!==this.A;return this.A=d.token,g("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>i(d))};const a=d=>{g("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>a(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?a(d):g("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yt("string"==typeof t.token),this.A=t.token,new Cd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ch(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class wd{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const a=ch(40);for(let d=0;d<a.length;++d)i.length<20&&a[d]<t&&(i+=e.charAt(a[d]%e.length))}return i}}function gr(n,e){return n<e?-1:n>e?1:0}function Xl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}function uh(n){return n+"\0"}class os{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Bt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return os.fromMillis(Date.now())}static fromDate(e){return os.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new os(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gr(this.nanoseconds,e.nanoseconds):gr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ur{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ur(e)}static min(){return new ur(new os(0,0))}static max(){return new ur(new os(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class dh{constructor(e,t,i){void 0===t?t=0:t>e.length&&We(),void 0===i?i=e.length-t:i>e.length-t&&We(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===dh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dh?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const d=e.get(a),v=t.get(a);if(d<v)return-1;if(d>v)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ni extends dh{construct(e,t,i){return new ni(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Bt(_t.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new ni(t)}static emptyPath(){return new ni([])}}const hh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cs extends dh{construct(e,t,i){return new Cs(e,t,i)}static isValidIdentifier(e){return hh.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cs(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const d=()=>{if(0===i.length)throw new Bt(_t.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let v=!1;for(;a<e.length;){const C=e[a];if("\\"===C){if(a+1===e.length)throw new Bt(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[a+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Bt(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=O,a+=2}else"`"===C?(v=!v,a++):"."!==C||v?(i+=C,a++):(d(),a++)}if(d(),v)throw new Bt(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cs(t)}static emptyPath(){return new Cs([])}}class kn{constructor(e){this.path=e}static fromPath(e){return new kn(ni.fromString(e))}static fromName(e){return new kn(ni.fromString(e).popFirst(5))}static empty(){return new kn(ni.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ni.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ni.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kn(new ni(e.slice()))}}class tf{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function nf(n){return n.fields.find(e=>2===e.kind)}function Pu(n){return n.fields.filter(e=>2!==e.kind)}tf.UNKNOWN_ID=-1;class sp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Nu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Nu(0,tl.min())}}function em(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=ur.fromTimestamp(1e9===i?new os(t+1,0):new os(t,i));return new tl(a,kn.empty(),e)}function tm(n){return new tl(n.readTime,n.key,-1)}class tl{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new tl(ur.min(),kn.empty(),-1)}static max(){return new tl(ur.max(),kn.empty(),-1)}}function rf(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=kn.comparator(n.documentKey,e.documentKey),0!==t?t:gr(n.largestBatchId,e.largestBatchId))}const nm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ws(n){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,nn.Z)(function*(n){if(n.code!==_t.FAILED_PRECONDITION||n.message!==nm)throw n;g("LocalStore","Unexpectedly lost primary lease")}),Fl.apply(this,arguments)}class At{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new At((i,a)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(i,a)},this.catchCallback=d=>{this.wrapFailure(t,d).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof At?t:At.resolve(t)}catch(t){return At.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):At.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):At.reject(t)}static resolve(e){return new At((t,i)=>{t(e)})}static reject(e){return new At((t,i)=>{i(e)})}static waitFor(e){return new At((t,i)=>{let a=0,d=0,v=!1;e.forEach(C=>{++a,C.next(()=>{++d,v&&d===a&&t()},O=>i(O))}),v=!0,d===a&&t()})}static or(e){let t=At.resolve(!1);for(const i of e)t=t.next(a=>a?At.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,d)=>{i.push(t.call(this,a,d))}),this.waitFor(i)}static mapArray(e,t){return new At((i,a)=>{const d=e.length,v=new Array(d);let C=0;for(let O=0;O<d;O++){const $=O;t(e[$]).next(ne=>{v[$]=ne,++C,C===d&&i(v)},ne=>a(ne))}})}static doWhile(e,t){return new At((i,a)=>{const d=()=>{!0===e()?t().next(()=>{d()},a):i()};d()})}}class Eo{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Gr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Dd(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const a=sf(i.target.error);this.P.reject(new Dd(e,a))}}static open(e,t,i,a){try{return new Eo(t,e.transaction(a,i))}catch(d){throw new Dd(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(g("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Sg(t)}}class Ci{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Ci.D((0,ei.z$)())&&T("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return g("SimpleDb","Removing database:",e),Pa(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ei.hl)())return!1;if(Ci.N())return!0;const e=(0,ei.z$)(),t=Ci.D(e),i=0<t&&t<10,a=Ci.k(e),d=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,nn.Z)(function*(){return t.db||(g("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,a)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=v=>{i(v.target.result)},d.onblocked=()=>{a(new Dd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=v=>{const C=v.target.error;a("VersionError"===C.name?new Bt(_t.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new Bt(_t.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new Dd(e,C))},d.onupgradeneeded=v=>{g("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',v.oldVersion),t.S.$(v.target.result,d.transaction,v.oldVersion,t.version).next(()=>{g("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,a){var d=this;return(0,nn.Z)(function*(){const v="readonly"===t;let C=0;for(;;){++C;try{d.db=yield d.F(e);const O=Eo.open(d.db,e,v?"readonly":"readwrite",i),$=a(O).next(ne=>(O.V(),ne)).catch(ne=>(O.abort(ne),At.reject(ne))).toPromise();return $.catch(()=>{}),yield O.v,$}catch(O){const $=O,ne="FirebaseError"!==$.name&&C<3;if(g("SimpleDb","Transaction failed with error:",$.message,"Retrying:",ne),d.close(),!ne)return Promise.reject($)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fh{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Pa(this.U.delete())}}class Dd extends Bt{constructor(e,t){super(_t.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Xc(n){return"IndexedDbTransactionError"===n.name}class Sg{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(g("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(g("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Pa(i)}add(e){return g("SimpleDb","ADD",this.store.name,e,e),Pa(this.store.add(e))}get(e){return Pa(this.store.get(e)).next(t=>(void 0===t&&(t=null),g("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return g("SimpleDb","DELETE",this.store.name,e),Pa(this.store.delete(e))}count(){return g("SimpleDb","COUNT",this.store.name),Pa(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const a=this.cursor(i),d=[];return this.H(a,(v,C)=>{d.push(C)}).next(()=>d)}{const a=this.store.getAll(i.range);return new At((d,v)=>{a.onerror=C=>{v(C.target.error)},a.onsuccess=C=>{d(C.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new At((a,d)=>{i.onerror=v=>{d(v.target.error)},i.onsuccess=v=>{a(v.target.result)}})}Y(e,t){g("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const a=this.cursor(i);return this.H(a,(d,v,C)=>C.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.H(a,t)}tt(e){const t=this.cursor({});return new At((i,a)=>{t.onerror=d=>{const v=sf(d.target.error);a(v)},t.onsuccess=d=>{const v=d.target.result;v?e(v.primaryKey,v.value).next(C=>{C?v.continue():i()}):i()}})}H(e,t){const i=[];return new At((a,d)=>{e.onerror=v=>{d(v.target.error)},e.onsuccess=v=>{const C=v.target.result;if(!C)return void a();const O=new fh(C),$=t(C.primaryKey,C.value,O);if($ instanceof At){const ne=$.catch(Ae=>(O.done(),At.reject(Ae)));i.push(ne)}O.isDone?a():null===O.G?C.continue():C.continue(O.G)}}).next(()=>At.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pa(n){return new At((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const a=sf(i.target.error);t(a)}})}let im=!1;function sf(n){const e=Ci.D((0,ei.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Bt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return im||(im=!0,setTimeout(()=>{throw i},0)),i}}return n}class Ag{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;g("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,nn.Z)(function*(){t.task=null;try{g("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Xc(i)?g("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield ws(i)}yield t.nt(6e4)}))}}class sm{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,nn.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let a=t,d=!0;return At.doWhile(()=>!0===d&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!i.has(v))return g("IndexBackiller",`Processing collection: ${v}`),this.rt(e,v,a).next(C=>{a-=C,i.add(v)});d=!1})).next(()=>t-a)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next(d=>{const v=d.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.ot(a,d)).next(C=>(g("IndexBackiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,t,C))).next(()=>v.size)}))}ot(e,t){let i=e;return t.changes.forEach((a,d)=>{const v=tm(d);rf(v,i)>0&&(i=v)}),new tl(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Na{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function op(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Jc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ap(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Na.at=-1;class Ki{constructor(e,t){this.comparator=e,this.root=t||qi.EMPTY}insert(e,t){return new Ki(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qi.BLACK,null,null))}remove(e){return new Ki(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?i(e.key,t):1,t&&a&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qi{constructor(e,t,i,a,d){this.key=e,this.value=t,this.color=i??qi.RED,this.left=a??qi.EMPTY,this.right=d??qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,d){return new qi(e??this.key,t??this.value,i??this.color,a??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const d=i(e,a.key);return a=d<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===d?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return qi.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const e=this.left.check();if(e!==this.right.check())throw We();return e+(this.isRed()?0:1)}}qi.EMPTY=null,qi.RED=!0,qi.BLACK=!1,qi.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(n,e,t,i,a){return this}insert(n,e,t){return new qi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pi{constructor(e){this.comparator=e,this.data=new Ki(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new om(this.data.getIterator())}getIteratorFrom(e){return new om(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Pi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=i.getNext().key;if(0!==this.comparator(a,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pi(this.comparator);return t.data=e,t}}class om{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Id(n){return n.hasNext()?n.getNext():void 0}class bl{constructor(e){this.fields=e,e.sort(Cs.comparator)}static empty(){return new bl([])}unionWith(e){let t=new Pi(Cs.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new bl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Co{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Co(t)}static fromUint8Array(e){const t=function(i){let a="";for(let d=0;d<i.length;++d)a+=String.fromCharCode(i[d]);return a}(e);return new Co(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Co.EMPTY_BYTE_STRING=new Co("");const lc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cc(n){if(yt(!!n),"string"==typeof n){let e=0;const t=lc.exec(n);if(yt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:es(n.seconds),nanos:es(n.nanos)}}function es(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Fu(n){return"string"==typeof n?Co.fromBase64String(n):Co.fromUint8Array(n)}function af(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function cp(n){const e=n.mapValue.fields.__previous_value__;return af(e)?cp(e):e}function kc(n){const e=cc(n.mapValue.fields.__local_write_time__.timestampValue);return new os(e.seconds,e.nanos)}class Mg{constructor(e,t,i,a,d,v,C,O){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=d,this.forceLongPolling=v,this.autoDetectLongPolling=C,this.useFetchStreams=O}}class eu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new eu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}function tu(n){return null==n}function Lu(n){return 0===n&&1/n==-1/0}function h(n){return"number"==typeof n&&Number.isInteger(n)&&!Lu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},u={nullValue:"NULL_VALUE"};function _(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?af(n)?4:Jl(n)?9007199254740991:10:We()}function D(n,e){if(n===e)return!0;const t=_(n);if(t!==_(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return kc(n).isEqual(kc(e));case 3:return function(i,a){if("string"==typeof i.timestampValue&&"string"==typeof a.timestampValue&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const d=cc(i.timestampValue),v=cc(a.timestampValue);return d.seconds===v.seconds&&d.nanos===v.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Fu(n.bytesValue).isEqual(Fu(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return es(i.geoPointValue.latitude)===es(a.geoPointValue.latitude)&&es(i.geoPointValue.longitude)===es(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return es(i.integerValue)===es(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const d=es(i.doubleValue),v=es(a.doubleValue);return d===v?Lu(d)===Lu(v):isNaN(d)&&isNaN(v)}return!1}(n,e);case 9:return Xl(n.arrayValue.values||[],e.arrayValue.values||[],D);case 10:return function(i,a){const d=i.mapValue.fields||{},v=a.mapValue.fields||{};if(op(d)!==op(v))return!1;for(const C in d)if(d.hasOwnProperty(C)&&(void 0===v[C]||!D(d[C],v[C])))return!1;return!0}(n,e);default:return We()}var a}function P(n,e){return void 0!==(n.values||[]).find(t=>D(t,e))}function z(n,e){if(n===e)return 0;const t=_(n),i=_(e);if(t!==i)return gr(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return gr(n.booleanValue,e.booleanValue);case 2:return function(a,d){const v=es(a.integerValue||a.doubleValue),C=es(d.integerValue||d.doubleValue);return v<C?-1:v>C?1:v===C?0:isNaN(v)?isNaN(C)?0:-1:1}(n,e);case 3:return ce(n.timestampValue,e.timestampValue);case 4:return ce(kc(n),kc(e));case 5:return gr(n.stringValue,e.stringValue);case 6:return function(a,d){const v=Fu(a),C=Fu(d);return v.compareTo(C)}(n.bytesValue,e.bytesValue);case 7:return function(a,d){const v=a.split("/"),C=d.split("/");for(let O=0;O<v.length&&O<C.length;O++){const $=gr(v[O],C[O]);if(0!==$)return $}return gr(v.length,C.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,d){const v=gr(es(a.latitude),es(d.latitude));return 0!==v?v:gr(es(a.longitude),es(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,d){const v=a.values||[],C=d.values||[];for(let O=0;O<v.length&&O<C.length;++O){const $=z(v[O],C[O]);if($)return $}return gr(v.length,C.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,d){if(a===c.mapValue&&d===c.mapValue)return 0;if(a===c.mapValue)return 1;if(d===c.mapValue)return-1;const v=a.fields||{},C=Object.keys(v),O=d.fields||{},$=Object.keys(O);C.sort(),$.sort();for(let ne=0;ne<C.length&&ne<$.length;++ne){const Ae=gr(C[ne],$[ne]);if(0!==Ae)return Ae;const gt=z(v[C[ne]],O[$[ne]]);if(0!==gt)return gt}return gr(C.length,$.length)}(n.mapValue,e.mapValue);default:throw We()}}function ce(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return gr(n,e);const t=cc(n),i=cc(e),a=gr(t.seconds,i.seconds);return 0!==a?a:gr(t.nanos,i.nanos)}function Re(n){return nt(n)}function nt(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const a=cc(i);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Fu(n.bytesValue).toBase64():"referenceValue"in n?kn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let a="[",d=!0;for(const v of i.values||[])d?d=!1:a+=",",a+=nt(v);return a+"]"}(n.arrayValue):"mapValue"in n?function(i){const a=Object.keys(i.fields||{}).sort();let d="{",v=!0;for(const C of a)v?v=!1:d+=",",d+=`${C}:${nt(i.fields[C])}`;return d+"}"}(n.mapValue):We();var e}function jt(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Kt(n){return!!n&&"integerValue"in n}function on(n){return!!n&&"arrayValue"in n}function Pn(n){return!!n&&"nullValue"in n}function Zn(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zr(n){return!!n&&"mapValue"in n}function as(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Jc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=as(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=as(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Jl(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Oc(n){return"nullValue"in n?u:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?jt(eu.empty(),kn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:We()}function Bu(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?jt(eu.empty(),kn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?c:We()}function up(n,e){const t=z(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Td(n,e){const t=z(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ua{constructor(e){this.value=e}static empty(){return new ua({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Zr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=as(t)}setAll(e){let t=Cs.emptyPath(),i={},a=[];e.forEach((v,C)=>{if(!t.isImmediateParentOf(C)){const O=this.getFieldsMap(t);this.applyChanges(O,i,a),i={},a=[],t=C.popLast()}v?i[C.lastSegment()]=as(v):a.push(C.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,i,a)}delete(e){const t=this.field(e.popLast());Zr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return D(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Zr(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Jc(t,(a,d)=>e[a]=d);for(const a of i)delete e[a]}clone(){return new ua(as(this.value))}}function xg(n){const e=[];return Jc(n.fields,(t,i)=>{const a=new Cs([t]);if(Zr(i)){const d=xg(i.mapValue).fields;if(0===d.length)e.push(a);else for(const v of d)e.push(a.child(v))}else e.push(a)}),new bl(e)}class ls{constructor(e,t,i,a,d,v){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.data=d,this.documentState=v}static newInvalidDocument(e){return new ls(e,0,ur.min(),ur.min(),ua.empty(),0)}static newFoundDocument(e,t,i){return new ls(e,1,t,ur.min(),i,0)}static newNoDocument(e,t){return new ls(e,2,t,ur.min(),ua.empty(),0)}static newUnknownDocument(e,t){return new ls(e,3,t,ur.min(),ua.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ua.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ua.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ur.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ls&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ls(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class GC{constructor(e,t=null,i=[],a=[],d=null,v=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=d,this.startAt=v,this.endAt=C,this.ht=null}}function dp(n,e=null,t=[],i=[],a=null,d=null,v=null){return new GC(n,e,t,i,a,d,v)}function ph(n){const e=Gt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(a=i).field.canonicalString()+a.op.toString()+Re(a.value);var a}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(a=i).field.canonicalString()+a.dir;var a}).join(","),tu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Re(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Re(i)).join(",")),e.ht=t}return e.ht}function lf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!Og(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(i=e.filters[a]).op||!t.field.isEqual(i.field)||!D(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fb(n.startAt,e.startAt)&&Fb(n.endAt,e.endAt)}function hp(n){return kn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function cf(n,e){return n.filters.filter(t=>t instanceof wo&&t.field.isEqual(e))}function Rg(n,e,t){let i=u,a=!0;for(const d of cf(n,e)){let v=u,C=!0;switch(d.op){case"<":case"<=":v=Oc(d.value);break;case"==":case"in":case">=":v=d.value;break;case">":v=d.value,C=!1;break;case"!=":case"not-in":v=u}up({value:i,inclusive:a},{value:v,inclusive:C})<0&&(i=v,a=C)}if(null!==t)for(let d=0;d<n.orderBy.length;++d)if(n.orderBy[d].field.isEqual(e)){const v=t.position[d];up({value:i,inclusive:a},{value:v,inclusive:t.inclusive})<0&&(i=v,a=t.inclusive);break}return{value:i,inclusive:a}}function fp(n,e,t){let i=c,a=!0;for(const d of cf(n,e)){let v=c,C=!0;switch(d.op){case">=":case">":v=Bu(d.value),C=!1;break;case"==":case"in":case"<=":v=d.value;break;case"<":v=d.value,C=!1;break;case"!=":case"not-in":v=c}Td({value:i,inclusive:a},{value:v,inclusive:C})>0&&(i=v,a=C)}if(null!==t)for(let d=0;d<n.orderBy.length;++d)if(n.orderBy[d].field.isEqual(e)){const v=t.position[d];Td({value:i,inclusive:a},{value:v,inclusive:t.inclusive})>0&&(i=v,a=t.inclusive);break}return{value:i,inclusive:a}}class wo extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new nv(e,t,i):"array-contains"===t?new pp(e,i):"in"===t?new Pb(e,i):"not-in"===t?new iv(e,i):"array-contains-any"===t?new Nb(e,i):new wo(e,t,i)}static lt(e,t,i){return"in"===t?new kg(e,i):new rv(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(z(t,this.value)):null!==t&&_(this.value)===_(t)&&this.ft(z(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return We()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nv extends wo{constructor(e,t,i){super(e,t,i),this.key=kn.fromName(i.referenceValue)}matches(e){const t=kn.comparator(e.key,this.key);return this.ft(t)}}class kg extends wo{constructor(e,t){super(e,"in",t),this.keys=am(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rv extends wo{constructor(e,t){super(e,"not-in",t),this.keys=am(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function am(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>kn.fromName(i.referenceValue))}class pp extends wo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return on(t)&&P(t.arrayValue,this.value)}}class Pb extends wo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&P(this.value.arrayValue,t)}}class iv extends wo{constructor(e,t){super(e,"not-in",t)}matches(e){if(P(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!P(this.value.arrayValue,t)}}class Nb extends wo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!on(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>P(this.value.arrayValue,i))}}class Sd{constructor(e,t){this.position=e,this.inclusive=t}}class mh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Og(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Pg(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const d=e[a],v=n.position[a];if(i=d.field.isKeyField()?kn.comparator(kn.fromName(v.referenceValue),t.key):z(v,t.data.field(d.field)),"desc"===d.dir&&(i*=-1),0!==i)break}return i}function Fb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!D(n.position[t],e.position[t]))return!1;return!0}class nu{constructor(e,t=null,i=[],a=[],d=null,v="F",C=null,O=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=d,this.limitType=v,this.startAt=C,this.endAt=O,this._t=null,this.wt=null}}function sv(n,e,t,i,a,d,v,C){return new nu(n,e,t,i,a,d,v,C)}function gh(n){return new nu(n)}function ov(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ng(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ec(n){for(const e of n.filters)if(e.dt())return e.field;return null}function Fg(n){return null!==n.collectionGroup}function _h(n){const e=Gt(n);if(null===e._t){e._t=[];const t=ec(e),i=Ng(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new mh(t)),e._t.push(new mh(Cs.keyField(),"asc"));else{let a=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(a=!0);if(!a){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new mh(Cs.keyField(),d))}}}return e._t}function El(n){const e=Gt(n);if(!e.wt)if("F"===e.limitType)e.wt=dp(e.path,e.collectionGroup,_h(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of _h(e))t.push(new mh(d.field,"desc"===d.dir?"asc":"desc"));const i=e.endAt?new Sd(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Sd(e.startAt.position,e.startAt.inclusive):null;e.wt=dp(e.path,e.collectionGroup,t,e.filters,e.limit,i,a)}return e.wt}function lm(n,e,t){return new nu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mp(n,e){return lf(El(n),El(e))&&n.limitType===e.limitType}function av(n){return`${ph(El(n))}|lt:${n.limitType}`}function cm(n){return`Query(target=${function tv(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Re(i.value)}`;var i}).join(", ")}]`),tu(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Re(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Re(t)).join(",")),`Target(${e})`}(El(n))}; limitType=${n.limitType})`}function Lg(n,e){return e.isFoundDocument()&&function(t,i){const a=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):kn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,i){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===i.data.field(a.field))return!1;return!0}(n,e)&&function(t,i){for(const a of t.filters)if(!a.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(a,d,v){const C=Pg(a,d,v);return a.inclusive?C<=0:C<0}(t.startAt,_h(t),i)||t.endAt&&!function(a,d,v){const C=Pg(a,d,v);return a.inclusive?C>=0:C>0}(t.endAt,_h(t),i)));var t,i}function lv(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cv(n){return(e,t)=>{let i=!1;for(const a of _h(n)){const d=Fr(a,e,t);if(0!==d)return d;i=i||a.field.isKeyField()}return 0}}function Fr(n,e,t){const i=n.field.isKeyField()?kn.comparator(e.key,t.key):function(a,d,v){const C=d.data.field(a),O=v.data.field(a);return null!==C&&null!==O?z(C,O):We()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return We()}}function Bg(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lu(e)?"-0":e}}function Vg(n){return{integerValue:""+n}}function Ug(n,e){return h(e)?Vg(e):Bg(n,e)}class um{constructor(){this._=void 0}}function Lb(n,e,t){return n instanceof yh?function(i,a){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&(d.fields.__previous_value__=a),{mapValue:d}}(t,e):n instanceof vh?hv(n,e):n instanceof uf?Hg(n,e):function(i,a){const d=dv(i,a),v=Ad(d)+Ad(i.yt);return Kt(d)&&Kt(i.yt)?Vg(v):Bg(i.It,v)}(n,e)}function uv(n,e,t){return n instanceof vh?hv(n,e):n instanceof uf?Hg(n,e):t}function dv(n,e){return n instanceof bh?Kt(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class yh extends um{}class vh extends um{constructor(e){super(),this.elements=e}}function hv(n,e){const t=fv(e);for(const i of n.elements)t.some(a=>D(a,i))||t.push(i);return{arrayValue:{values:t}}}class uf extends um{constructor(e){super(),this.elements=e}}function Hg(n,e){let t=fv(e);for(const i of n.elements)t=t.filter(a=>!D(a,i));return{arrayValue:{values:t}}}class bh extends um{constructor(e,t){super(),this.It=e,this.yt=t}}function Ad(n){return es(n.integerValue||n.doubleValue)}function fv(n){return on(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Eh{constructor(e,t){this.field=e,this.transform=t}}class Bb{constructor(e,t){this.version=e,this.transformResults=t}}class Ps{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ps}static exists(e){return new Ps(void 0,e)}static updateTime(e){return new Ps(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $g(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Gg{}function pv(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new hf(n.key,Ps.none()):new df(n.key,n.data,Ps.none());{const t=n.data,i=ua.empty();let a=new Pi(Cs.comparator);for(let d of e.fields)if(!a.has(d)){let v=t.field(d);null===v&&d.length>1&&(d=d.popLast(),v=t.field(d)),null===v?i.delete(d):i.set(d,v),a=a.add(d)}return new ru(n.key,i,new bl(a.toArray()),Ps.none())}}function mv(n,e,t){n instanceof df?function(i,a,d){const v=i.value.clone(),C=gv(i.fieldTransforms,a,d.transformResults);v.setAll(C),a.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(n,e,t):n instanceof ru?function(i,a,d){if(!$g(i.precondition,a))return void a.convertToUnknownDocument(d.version);const v=gv(i.fieldTransforms,a,d.transformResults),C=a.data;C.setAll(gp(i)),C.setAll(v),a.convertToFoundDocument(d.version,C).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function dm(n,e,t,i){return n instanceof df?function(a,d,v,C){if(!$g(a.precondition,d))return v;const O=a.value.clone(),$=zg(a.fieldTransforms,C,d);return O.setAll($),d.convertToFoundDocument(d.version,O).setHasLocalMutations(),null}(n,e,t,i):n instanceof ru?function(a,d,v,C){if(!$g(a.precondition,d))return v;const O=zg(a.fieldTransforms,C,d),$=d.data;return $.setAll(gp(a)),$.setAll(O),d.convertToFoundDocument(d.version,$).setHasLocalMutations(),null===v?null:v.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ne=>ne.field))}(n,e,t,i):(v=t,$g(n.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):v);var d,v}function Vb(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),d=dv(i.transform,a||null);null!=d&&(null===t&&(t=ua.empty()),t.set(i.field,d))}return t||null}function Ch(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Xl(t,i,(a,d)=>function jg(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof vh&&i instanceof vh||t instanceof uf&&i instanceof uf?Xl(t.elements,i.elements,D):t instanceof bh&&i instanceof bh?D(t.yt,i.yt):t instanceof yh&&i instanceof yh);var t,i}(a,d))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class df extends Gg{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ru extends Gg{constructor(e,t,i,a,d=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function gp(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function gv(n,e,t){const i=new Map;yt(n.length===t.length);for(let a=0;a<t.length;a++){const d=n[a],v=d.transform,C=e.data.field(d.field);i.set(d.field,uv(v,C,t[a]))}return i}function zg(n,e,t){const i=new Map;for(const a of n){const d=a.transform,v=t.data.field(a.field);i.set(a.field,Lb(d,v,e))}return i}class hf extends Gg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wg extends Gg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ub{constructor(e){this.count=e}}var Do,pi;function Kg(n){switch(n){default:return We();case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0}}function _v(n){if(void 0===n)return T("GRPC error has no .code"),_t.UNKNOWN;switch(n){case Do.OK:return _t.OK;case Do.CANCELLED:return _t.CANCELLED;case Do.UNKNOWN:return _t.UNKNOWN;case Do.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case Do.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case Do.INTERNAL:return _t.INTERNAL;case Do.UNAVAILABLE:return _t.UNAVAILABLE;case Do.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case Do.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case Do.NOT_FOUND:return _t.NOT_FOUND;case Do.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case Do.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case Do.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case Do.ABORTED:return _t.ABORTED;case Do.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case Do.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case Do.DATA_LOSS:return _t.DATA_LOSS;default:return We()}}(pi=Do||(Do={}))[pi.OK=0]="OK",pi[pi.CANCELLED=1]="CANCELLED",pi[pi.UNKNOWN=2]="UNKNOWN",pi[pi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pi[pi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pi[pi.NOT_FOUND=5]="NOT_FOUND",pi[pi.ALREADY_EXISTS=6]="ALREADY_EXISTS",pi[pi.PERMISSION_DENIED=7]="PERMISSION_DENIED",pi[pi.UNAUTHENTICATED=16]="UNAUTHENTICATED",pi[pi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pi[pi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pi[pi.ABORTED=10]="ABORTED",pi[pi.OUT_OF_RANGE=11]="OUT_OF_RANGE",pi[pi.UNIMPLEMENTED=12]="UNIMPLEMENTED",pi[pi.INTERNAL=13]="INTERNAL",pi[pi.UNAVAILABLE=14]="UNAVAILABLE",pi[pi.DATA_LOSS=15]="DATA_LOSS";class Vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,d]of i)if(this.equalsFn(a,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(let d=0;d<a.length;d++)if(this.equalsFn(a[d][0],e))return void(a[d]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Jc(this.inner,(t,i)=>{for(const[a,d]of i)e(a,d)})}isEmpty(){return ap(this.inner)}size(){return this.innerSize}}const yv=new Ki(kn.comparator);function nl(){return yv}const Hb=new Ki(kn.comparator);function wh(...n){let e=Hb;for(const t of n)e=e.insert(t.key,t);return e}function vv(n){let e=Hb;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Uu(){return ff()}function Dh(){return ff()}function ff(){return new Vu(n=>n.toString(),(n,e)=>n.isEqual(e))}const bv=new Ki(kn.comparator),hm=new Pi(kn.comparator);function _r(...n){let e=hm;for(const t of n)e=e.add(t);return e}const Ev=new Pi(gr);function fm(){return Ev}class Ih{constructor(e,t,i,a,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,tc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ih(ur.min(),a,fm(),nl(),_r())}}class tc{constructor(e,t,i,a,d){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new tc(i,t,_r(),_r(),_r())}}class pf{constructor(e,t,i,a){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=a}}class qg{constructor(e,t){this.targetId=e,this.At=t}}class pm{constructor(e,t,i=Co.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class jb{constructor(){this.Rt=0,this.bt=_p(),this.Pt=Co.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=_r(),t=_r(),i=_r();return this.bt.forEach((a,d)=>{switch(d){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:We()}}),new tc(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=_p()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Cv{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=nl(),this.qt=$b(),this.Kt=new Pi(gr)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:We()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,a)=>{this.Ht(a)&&t(a)})}Yt(e){const t=e.targetId,i=e.At.count,a=this.Xt(t);if(a){const d=a.target;if(hp(d))if(0===i){const v=new kn(d.path);this.jt(t,v,ls.newNoDocument(v,ur.min()))}else yt(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((d,v)=>{const C=this.Xt(v);if(C){if(d.current&&hp(C.target)){const O=new kn(C.target.path);null!==this.Ut.get(O)||this.ee(v,O)||this.jt(v,O,ls.newNoDocument(O,e))}d.Dt&&(t.set(v,d.xt()),d.Nt())}});let i=_r();this.qt.forEach((d,v)=>{let C=!0;v.forEachWhile(O=>{const $=this.Xt(O);return!$||2===$.purpose||(C=!1,!1)}),C&&(i=i.add(d))}),this.Ut.forEach((d,v)=>v.setReadTime(e));const a=new Ih(e,t,this.Kt,this.Ut,i);return this.Ut=nl(),this.qt=$b(),this.Kt=new Pi(gr),a}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const a=this.zt(e);this.ee(e,t)?a.kt(t,1):a.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new jb,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Pi(gr),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||g("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new jb),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function $b(){return new Ki(kn.comparator)}function _p(){return new Ki(kn.comparator)}const mm={asc:"ASCENDING",desc:"DESCENDING"},Yg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Zg{constructor(e,t){this.databaseId=e,this.gt=t}}function Th(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gb(n,e){return n.gt?e.toBase64():e.toUint8Array()}function zb(n,e){return Th(n,e.toTimestamp())}function da(n){return yt(!!n),ur.fromTimestamp(function(e){const t=cc(e);return new os(t.seconds,t.nanos)}(n))}function Qg(n,e){return(t=n,new ni(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wv(n){const e=ni.fromString(n);return yt(Av(e)),e}function mf(n,e){return Qg(n.databaseId,e.path)}function Hu(n,e){const t=wv(e);if(t.get(1)!==n.databaseId.projectId)throw new Bt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Bt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new kn(Jg(t))}function Xg(n,e){return Qg(n.databaseId,e)}function Wb(n){const e=wv(n);return 4===e.length?ni.emptyPath():Jg(e)}function gf(n){return new ni(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Jg(n){return yt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Dv(n,e,t){return{name:mf(n,e),fields:t.value.mapValue.fields}}function gm(n,e,t){const i=Hu(n,e.name),a=da(e.updateTime),d=new ua({mapValue:{fields:e.fields}}),v=ls.newFoundDocument(i,a,d);return t&&v.setHasCommittedMutations(),t?v.setHasCommittedMutations():v}function _m(n,e){let t;if(e instanceof df)t={update:Dv(n,e.key,e.value)};else if(e instanceof hf)t={delete:mf(n,e.key)};else if(e instanceof ru)t={update:Dv(n,e.key,e.data),updateMask:n_(e.fieldMask)};else{if(!(e instanceof Wg))return We();t={verify:mf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,d){const v=d.transform;if(v instanceof yh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof vh)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof uf)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof bh)return{fieldPath:d.field.canonicalString(),increment:v.yt};throw We()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:zb(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:We()),t;var a}function Iv(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Ps.updateTime(da(a.updateTime)):void 0!==a.exists?Ps.exists(a.exists):Ps.none():Ps.none(),i=e.updateTransforms?e.updateTransforms.map(a=>function(d,v){let C=null;"setToServerValue"in v?(yt("REQUEST_TIME"===v.setToServerValue),C=new yh):"appendMissingElements"in v?C=new vh(v.appendMissingElements.values||[]):"removeAllFromArray"in v?C=new uf(v.removeAllFromArray.values||[]):"increment"in v?C=new bh(d,v.increment):We();const O=Cs.fromServerFormat(v.fieldPath);return new Eh(O,C)}(n,a)):[];var a;if(e.update){const a=Hu(n,e.update.name),d=new ua({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new bl((e.updateMask.fieldPaths||[]).map($=>Cs.fromServerFormat($)));return new ru(a,d,v,t,i)}return new df(a,d,t,i)}if(e.delete){const a=Hu(n,e.delete);return new hf(a,t)}if(e.verify){const a=Hu(n,e.verify);return new Wg(a,t)}return We()}function Kb(n,e){return{documents:[Xg(n,e.path)]}}function Tv(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Xg(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Xg(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const a=function(O){if(0===O.length)return;const $=O.map(ne=>function(Ae){if("=="===Ae.op){if(Zn(Ae.value))return{unaryFilter:{field:_f(Ae.field),op:"IS_NAN"}};if(Pn(Ae.value))return{unaryFilter:{field:_f(Ae.field),op:"IS_NULL"}}}else if("!="===Ae.op){if(Zn(Ae.value))return{unaryFilter:{field:_f(Ae.field),op:"IS_NOT_NAN"}};if(Pn(Ae.value))return{unaryFilter:{field:_f(Ae.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_f(Ae.field),op:e_(Ae.op),value:Ae.value}}}(ne));return 1===$.length?$[0]:{compositeFilter:{op:"AND",filters:$}}}(e.filters);a&&(t.structuredQuery.where=a);const d=function(O){if(0!==O.length)return O.map($=>{return{field:_f((ne=$).field),direction:Md(ne.dir)};var ne})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const v=($=e.limit,n.gt||tu($)?$:{value:$});var $,C,O;return null!==v&&(t.structuredQuery.limit=v),e.startAt&&(t.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(t.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),t}function qb(n){let e=Wb(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){yt(1===i);const ne=t.from[0];ne.allDescendants?a=ne.collectionId:e=e.child(ne.collectionId)}let d=[];t.where&&(d=Yb(t.where));let v=[];t.orderBy&&(v=t.orderBy.map(ne=>{return new mh(Sh((Ae=ne).field),function(gt){switch(gt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ae.direction));var Ae}));let C=null;t.limit&&(C=function(ne){let Ae;return Ae="object"==typeof ne?ne.value:ne,tu(Ae)?null:Ae}(t.limit));let O=null;var ne;t.startAt&&(O=new Sd((ne=t.startAt).values||[],!!ne.before));let $=null;return t.endAt&&($=function(ne){return new Sd(ne.values||[],!ne.before)}(t.endAt)),sv(e,a,v,d,C,"F",O,$)}function Yb(n){return n?void 0!==n.unaryFilter?[Sv(n)]:void 0!==n.fieldFilter?[t_(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Yb(e)).reduce((e,t)=>e.concat(t)):We():[]}function Md(n){return mm[n]}function e_(n){return Yg[n]}function _f(n){return{fieldPath:n.canonicalString()}}function Sh(n){return Cs.fromServerFormat(n.fieldPath)}function t_(n){return wo.create(Sh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(n.fieldFilter.op),n.fieldFilter.value)}function Sv(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Sh(n.unaryFilter.field);return wo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Sh(n.unaryFilter.field);return wo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Sh(n.unaryFilter.field);return wo.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Sh(n.unaryFilter.field);return wo.create(a,"!=",{nullValue:"NULL_VALUE"});default:return We()}}function n_(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Av(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function qs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xv(e)),e=Mv(n.get(t),e);return xv(e)}function Mv(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const d=n.charAt(a);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function xv(n){return n+"\x01\x01"}function iu(n){const e=n.length;if(yt(e>=2),2===e)return yt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ni.emptyPath();const t=e-2,i=[];let a="";for(let d=0;d<e;){const v=n.indexOf("\x01",d);switch((v<0||v>t)&&We(),n.charAt(v+1)){case"\x01":const C=n.substring(d,v);let O;0===a.length?O=C:(a+=C,O=a,a=""),i.push(O);break;case"\x10":a+=n.substring(d,v),a+="\0";break;case"\x11":a+=n.substring(d,v+1);break;default:We()}d=v+2}return new ni(i)}const r_=["userId","batchId"];function ym(n,e){return[n,qs(e)]}function Rv(n,e,t){return[n,qs(e),t]}const vm={},yf=["prefixPath","collectionGroup","readTime","documentId"],i_=["prefixPath","collectionGroup","documentId"],vf=["collectionGroup","readTime","prefixPath","documentId"],s_=["canonicalId","targetId"],bm=["targetId","path"],kv=["path","targetId"],Ov=["collectionId","parent"],o_=["indexId","uid"],a_=["uid","sequenceNumber"],Pv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],l_=["indexId","uid","orderedDocumentKey"],Zb=["userId","collectionPath","documentId"],YC=["userId","collectionPath","largestBatchId"],Qb=["userId","collectionGroup","largestBatchId"],c_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xb=[...c_,"documentOverlays"],u_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],d_=u_,Jb=[...d_,"indexConfiguration","indexState","indexEntries"];class Cl extends rm{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function zo(n,e){const t=Gt(n);return Ci.M(t.ie,e)}class h_{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const d=this.mutations[a];d.key.isEqual(e.key)&&mv(d,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=dm(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=dm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Dh();return this.mutations.forEach(a=>{const d=e.get(a.key),v=d.overlayedDocument;let C=this.applyToLocalView(v,d.mutatedFields);C=t.has(a.key)?null:C;const O=pv(v,C);null!==O&&i.set(a.key,O),v.isValidDocument()||v.convertToNoDocument(ur.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_r())}isEqual(e){return this.batchId===e.batchId&&Xl(this.mutations,e.mutations,(t,i)=>Ch(t,i))&&Xl(this.baseMutations,e.baseMutations,(t,i)=>Ch(t,i))}}class Nv{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){yt(e.mutations.length===i.length);let a=bv;const d=e.mutations;for(let v=0;v<d.length;v++)a=a.insert(d[v].key,i[v].version);return new Nv(e,t,i,a)}}class f_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class su{constructor(e,t,i,a,d=ur.min(),v=ur.min(),C=Co.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=C}withSequenceNumber(e){return new su(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new su(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class p_{constructor(e){this.re=e}}function Fv(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Em(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:mf(a=n.re,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Th(a,d.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:xd(e.version)};else{if(!e.isUnknownDocument())return We();i.unknownDocument={path:t.path.toArray(),version:xd(e.version)}}var a,d;return i}function Em(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function xd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ah(n){const e=new os(n.seconds,n.nanoseconds);return ur.fromTimestamp(e)}function Rd(n,e){const t=(e.baseMutations||[]).map(d=>Iv(n.re,d));for(let d=0;d<e.mutations.length-1;++d){const v=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(v.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const i=e.mutations.map(d=>Iv(n.re,d)),a=os.fromMillis(e.localWriteTimeMs);return new h_(e.batchId,a,t,i)}function yp(n){const e=Ah(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ah(n.lastLimboFreeSnapshotVersion):ur.min();let i;var a;return void 0!==n.query.documents?(yt(1===(a=n.query).documents.length),i=El(gh(Wb(a.documents[0])))):i=El(qb(n.query)),new su(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Co.fromBase64String(n.resumeToken))}function Lv(n,e){const t=xd(e.snapshotVersion),i=xd(e.lastLimboFreeSnapshotVersion);let a;a=hp(e.target)?Kb(n.re,e.target):Tv(n.re,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ph(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function Cm(n){const e=qb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?lm(e,e.limit,"L"):e}function wm(n,e){return new f_(e.largestBatchId,Iv(n.re,e.overlayMutation))}function Bv(n,e){const t=e.path.lastSegment();return[n,qs(e.path.popLast()),t]}function Pc(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:xd(i.readTime),documentKey:qs(i.documentKey.path),largestBatchId:i.largestBatchId}}class m_{getBundleMetadata(e,t){return Vv(e).get(t).next(i=>{if(i)return{id:(a=i).bundleId,createTime:Ah(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Vv(e).put({bundleId:(i=t).id,createTime:xd(da(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Uv(e).get(t).next(i=>{if(i)return{name:(a=i).name,query:Cm(a.bundledQuery),readTime:Ah(a.readTime)};var a})}saveNamedQuery(e,t){return Uv(e).put({name:(i=t).name,readTime:xd(da(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Vv(n){return zo(n,"bundles")}function Uv(n){return zo(n,"namedQueries")}class g_{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new g_(e,t.uid||"")}getOverlay(e,t){return bf(e).get(Bv(this.userId,t)).next(i=>i?wm(this.It,i):null)}getOverlays(e,t){const i=Uu();return At.forEach(t,a=>this.getOverlay(e,a).next(d=>{null!==d&&i.set(a,d)})).next(()=>i)}saveOverlays(e,t,i){const a=[];return i.forEach((d,v)=>{const C=new f_(t,v);a.push(this.ue(e,C))}),At.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach(v=>a.add(qs(v.getCollectionPath())));const d=[];return a.forEach(v=>{const C=IDBKeyRange.bound([this.userId,v,i],[this.userId,v,i+1],!1,!0);d.push(bf(e).Y("collectionPathOverlayIndex",C))}),At.waitFor(d)}getOverlaysForCollection(e,t,i){const a=Uu(),d=qs(t),v=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,Number.POSITIVE_INFINITY],!0);return bf(e).W("collectionPathOverlayIndex",v).next(C=>{for(const O of C){const $=wm(this.It,O);a.set($.getKey(),$)}return a})}getOverlaysForCollectionGroup(e,t,i,a){const d=Uu();let v;const C=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bf(e).Z({index:"collectionGroupOverlayIndex",range:C},(O,$,ne)=>{const Ae=wm(this.It,$);d.size()<a||Ae.largestBatchId===v?(d.set(Ae.getKey(),Ae),v=Ae.largestBatchId):ne.done()}).next(()=>d)}ue(e,t){return bf(e).put(function(i,a,d){const[v,C,O]=Bv(a,d.mutation.key);return{userId:a,collectionPath:C,documentId:O,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:_m(i.re,d.mutation)}}(this.It,this.userId,t))}}function bf(n){return zo(n,"documentOverlays")}class Mh{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(es(e.integerValue));else if("doubleValue"in e){const i=es(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),Lu(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Fu(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Jl(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):We()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const a of Object.keys(i))this._e(a,t),this.ae(i[a],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const a of i)this.ae(a,t)}ge(e,t){this.le(t,37),kn.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function tE(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Hv(n){const e=64-function(t){let i=0;for(let a=0;a<8;++a){const d=tE(255&t[a]);if(i+=d,8!==d)break}return i}(n);return Math.ceil(e/8)}Mh.Te=new Mh;class __{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const a=t.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const a=t.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}this.ve()}De(e){const t=this.Ce(e),i=Hv(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Ne(e){const t=this.Ce(e),i=Hv(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(a){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,a,!1),new Uint8Array(d.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class nE{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class rE{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class kd{constructor(){this.Be=new __,this.Le=new nE(this.Be),this.Ue=new rE(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class ju{constructor(e,t,i,a){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=a}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new ju(this.indexId,this.documentKey,this.arrayValue,i)}}function ou(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=iE(n.arrayValue,e.arrayValue),0!==t?t:(t=iE(n.directionalValue,e.directionalValue),0!==t?t:kn.comparator(n.documentKey,e.documentKey)))}function iE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class y_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=nf(e);if(void 0!==t&&!this.ze(t))return!1;const i=Pu(e);let a=0,d=0;for(;a<i.length&&this.ze(i[a]);++a);if(a===i.length)return!0;if(void 0!==this.je){const v=i[a];if(!this.He(this.je,v)||!this.Je(this.Ge[d++],v))return!1;++a}for(;a<i.length;++a){const v=i[a];if(d>=this.Ge.length||!this.Je(this.Ge[d++],v))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class ZC{constructor(){this.Ye=new Dm}addToCollectionParentIndex(e,t){return this.Ye.add(t),At.resolve()}getCollectionParents(e,t){return At.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return At.resolve()}deleteFieldIndex(e,t){return At.resolve()}getDocumentsMatchingTarget(e,t){return At.resolve(null)}getIndexType(e,t){return At.resolve(0)}getFieldIndexes(e,t){return At.resolve([])}getNextCollectionGroupToUpdate(e){return At.resolve(null)}getMinOffset(e,t){return At.resolve(tl.min())}getMinOffsetFromCollectionGroup(e,t){return At.resolve(tl.min())}updateCollectionGroup(e,t,i){return At.resolve()}updateIndexEntries(e,t){return At.resolve()}}class Dm{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Pi(ni.comparator),d=!a.has(i);return this.index[t]=a.add(i),d}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Pi(ni.comparator)).toArray()}}const vp=new Uint8Array(0);class jv{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Dm,this.Ze=new Vu(i=>ph(i),(i,a)=>lf(i,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const d={collectionId:i,parent:qs(a)};return v_(e).put(d)}return At.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[uh(t),""],!1,!0);return v_(e).W(a).next(d=>{for(const v of d){if(v.collectionId!==t)break;i.push(iu(v.parent))}return i})}addFieldIndex(e,t){const i=uc(e),a={indexId:(v=t).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var v;delete a.indexId;const d=i.add(a);if(t.indexState){const v=Od(e);return d.next(C=>{v.put(Pc(C,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const i=uc(e),a=Od(e),d=xh(e);return i.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=xh(e);let a=!0;const d=new Map;return At.forEach(this.tn(t),v=>this.en(e,v).next(C=>{a&&(a=!!C),d.set(v,C)})).next(()=>{if(a){let v=_r();const C=[];return At.forEach(d,(O,$)=>{var ne;g("IndexedDbIndexManager",`Using index ${ne=O,`id=${ne.indexId}|cg=${ne.collectionGroup}|f=${ne.fields.map(Er=>`${Er.fieldPath}:${Er.kind}`).join(",")}`} to execute ${ph(t)}`);const Ae=function(Er,qr){const Lr=nf(qr);if(void 0===Lr)return null;for(const Br of cf(Er,Lr.fieldPath))switch(Br.op){case"array-contains-any":return Br.value.arrayValue.values||[];case"array-contains":return[Br.value]}return null}($,O),gt=function(Er,qr){const Lr=new Map;for(const Br of Pu(qr))for(const mi of cf(Er,Br.fieldPath))switch(mi.op){case"==":case"in":Lr.set(Br.fieldPath.canonicalString(),mi.value);break;case"not-in":case"!=":return Lr.set(Br.fieldPath.canonicalString(),mi.value),Array.from(Lr.values())}return null}($,O),Rt=function(Er,qr){const Lr=[];let Br=!0;for(const mi of Pu(qr)){const Bl=0===mi.kind?Rg(Er,mi.fieldPath,Er.startAt):fp(Er,mi.fieldPath,Er.startAt);Lr.push(Bl.value),Br&&(Br=Bl.inclusive)}return new Sd(Lr,Br)}($,O),kt=function(Er,qr){const Lr=[];let Br=!0;for(const mi of Pu(qr)){const Bl=0===mi.kind?fp(Er,mi.fieldPath,Er.endAt):Rg(Er,mi.fieldPath,Er.endAt);Lr.push(Bl.value),Br&&(Br=Bl.inclusive)}return new Sd(Lr,Br)}($,O),cn=this.nn(O,$,Rt),_n=this.nn(O,$,kt),sr=this.sn(O,$,gt),xr=this.rn(O.indexId,Ae,cn,Rt.inclusive,_n,kt.inclusive,sr);return At.forEach(xr,Er=>i.J(Er,t.limit).next(qr=>{qr.forEach(Lr=>{const Br=kn.fromSegments(Lr.documentKey);v.has(Br)||(v=v.add(Br),C.push(Br))})}))}).next(()=>C)}return At.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,a,d,v,C){const O=(null!=t?t.length:1)*Math.max(i.length,d.length),$=O/(null!=t?t.length:1),ne=[];for(let Ae=0;Ae<O;++Ae){const gt=t?this.on(t[Ae/$]):vp,Rt=this.un(e,gt,i[Ae%$],a),kt=this.cn(e,gt,d[Ae%$],v),cn=C.map(_n=>this.un(e,gt,_n,!0));ne.push(...this.createRange(Rt,kt,cn))}return ne}un(e,t,i,a){const d=new ju(e,kn.empty(),t,i);return a?d:d.Ke()}cn(e,t,i,a){const d=new ju(e,kn.empty(),t,i);return a?d.Ke():d}en(e,t){const i=new y_(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(d=>{let v=null;for(const C of d)i.We(C)&&(!v||C.fields.length>v.fields.length)&&(v=C);return v})}getIndexType(e,t){let i=2;return At.forEach(this.tn(t),a=>this.en(e,a).next(d=>{d?0!==i&&d.fields.length<function(v){let C=new Pi(Cs.comparator),O=!1;for(const $ of v.filters){const ne=$;ne.field.isKeyField()||("array-contains"===ne.op||"array-contains-any"===ne.op?O=!0:C=C.add(ne.field))}for(const $ of v.orderBy)$.field.isKeyField()||(C=C.add($.field));return C.size+(O?1:0)}(a)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new kd;for(const a of Pu(e)){const d=t.data.field(a.fieldPath);if(null==d)return null;const v=i.qe(a.kind);Mh.Te.ce(d,v)}return i.$e()}on(e){const t=new kd;return Mh.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new kd;return Mh.Te.ce(jt(this.databaseId,t),i.qe(function(a){const d=Pu(a);return 0===d.length?0:d[d.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let a=[];a.push(new kd);let d=0;for(const v of Pu(e)){const C=i[d++];for(const O of a)if(this.ln(t,v.fieldPath)&&on(C))a=this.fn(a,v,C);else{const $=O.qe(v.kind);Mh.Te.ce(C,$)}}return this.dn(a)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const a=[...e],d=[];for(const v of i.arrayValue.values||[])for(const C of a){const O=new kd;O.seed(C.$e()),Mh.Te.ce(v,O.qe(t.kind)),d.push(O)}return d}ln(e,t){return!!e.filters.find(i=>i instanceof wo&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=uc(e),a=Od(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(d=>{const v=[];return At.forEach(d,C=>a.get([C.indexId,this.uid]).next(O=>{v.push(function($,ne){const Ae=ne?new Nu(ne.sequenceNumber,new tl(Ah(ne.readTime),new kn(iu(ne.documentKey)),ne.largestBatchId)):Nu.empty(),gt=$.fields.map(([Rt,kt])=>new sp(Cs.fromServerFormat(Rt),kt));return new tf($.indexId,$.collectionGroup,gt,Ae)}(C,O))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,a)=>{const d=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==d?d:gr(i.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const a=uc(e),d=Od(e);return this._n(e).next(v=>a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(C=>At.forEach(C,O=>d.put(Pc(O.indexId,this.user,v,i)))))}updateIndexEntries(e,t){const i=new Map;return At.forEach(t,(a,d)=>{const v=i.get(a.collectionGroup);return(v?At.resolve(v):this.getFieldIndexes(e,a.collectionGroup)).next(C=>(i.set(a.collectionGroup,C),At.forEach(C,O=>this.wn(e,a,O).next($=>{const ne=this.mn(d,O);return $.isEqual(ne)?At.resolve():this.gn(e,d,O,$,ne)}))))})}yn(e,t,i,a){return xh(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,a){return xh(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const a=xh(e);let d=new Pi(ou);return a.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(v,C)=>{d=d.add(new ju(i.indexId,t,C.arrayValue,C.directionalValue))}).next(()=>d)}mn(e,t){let i=new Pi(ou);const a=this.an(t,e);if(null==a)return i;const d=nf(t);if(null!=d){const v=e.data.field(d.fieldPath);if(on(v))for(const C of v.arrayValue.values||[])i=i.add(new ju(t.indexId,e.key,this.on(C),a))}else i=i.add(new ju(t.indexId,e.key,vp,a));return i}gn(e,t,i,a,d){g("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const v=[];return function(C,O,$,ne,Ae){const gt=C.getIterator(),Rt=O.getIterator();let kt=Id(gt),cn=Id(Rt);for(;kt||cn;){let _n=!1,sr=!1;if(kt&&cn){const xr=$(kt,cn);xr<0?sr=!0:xr>0&&(_n=!0)}else null!=kt?sr=!0:_n=!0;_n?(ne(cn),cn=Id(Rt)):sr?(Ae(kt),kt=Id(gt)):(kt=Id(gt),cn=Id(Rt))}}(a,d,ou,C=>{v.push(this.yn(e,t,i,C))},C=>{v.push(this.pn(e,t,i,C))}),At.waitFor(v)}_n(e){let t=1;return Od(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,a,d)=>{d.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((v,C)=>ou(v,C)).filter((v,C,O)=>!C||0!==ou(v,O[C-1]));const a=[];a.push(e);for(const v of i){const C=ou(v,e),O=ou(v,t);if(0===C)a[0]=e.Ke();else if(C>0&&O<0)a.push(v),a.push(v.Ke());else if(O>0)break}a.push(t);const d=[];for(let v=0;v<a.length;v+=2)d.push(IDBKeyRange.bound([a[v].indexId,this.uid,a[v].arrayValue,a[v].directionalValue,vp,[]],[a[v+1].indexId,this.uid,a[v+1].arrayValue,a[v+1].directionalValue,vp,[]]));return d}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(bp)}getMinOffset(e,t){return At.mapArray(this.tn(t),i=>this.en(e,i).next(a=>a||We())).next(bp)}}function v_(n){return zo(n,"collectionParents")}function xh(n){return zo(n,"indexEntries")}function uc(n){return zo(n,"indexConfiguration")}function Od(n){return zo(n,"indexState")}function bp(n){yt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;rf(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new tl(e.readTime,e.documentKey,t)}const Ef={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ll{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ll(e,Ll.DEFAULT_COLLECTION_PERCENTILE,Ll.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Im(n,e,t){const i=n.store("mutations"),a=n.store("documentMutations"),d=[],v=IDBKeyRange.only(t.batchId);let C=0;const O=i.Z({range:v},(ne,Ae,gt)=>(C++,gt.delete()));d.push(O.next(()=>{yt(1===C)}));const $=[];for(const ne of t.mutations){const Ae=Rv(e,ne.key.path,t.batchId);d.push(a.delete(Ae)),$.push(ne.key)}return At.waitFor(d).next(()=>$)}function Ep(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw We();e=n.noDocument}return JSON.stringify(e).length}Ll.DEFAULT_COLLECTION_PERCENTILE=10,Ll.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ll.DEFAULT=new Ll(41943040,Ll.DEFAULT_COLLECTION_PERCENTILE,Ll.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ll.DISABLED=new Ll(-1,0,0);class Tm{constructor(e,t,i,a){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=a,this.In={}}static oe(e,t,i,a){yt(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Tm(d,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dc(e).Z({index:"userMutationsIndex",range:i},(a,d,v)=>{t=!1,v.done()}).next(()=>t)}addMutationBatch(e,t,i,a){const d=Cf(e),v=dc(e);return v.add({}).next(C=>{yt("number"==typeof C);const O=new h_(C,t,i,a),$=function(gt,Rt,kt){const cn=kt.baseMutations.map(sr=>_m(gt.re,sr)),_n=kt.mutations.map(sr=>_m(gt.re,sr));return{userId:Rt,batchId:kt.batchId,localWriteTimeMs:kt.localWriteTime.toMillis(),baseMutations:cn,mutations:_n}}(this.It,this.userId,O),ne=[];let Ae=new Pi((gt,Rt)=>gr(gt.canonicalString(),Rt.canonicalString()));for(const gt of a){const Rt=Rv(this.userId,gt.key.path,C);Ae=Ae.add(gt.key.path.popLast()),ne.push(v.put($)),ne.push(d.put(Rt,vm))}return Ae.forEach(gt=>{ne.push(this.indexManager.addToCollectionParentIndex(e,gt))}),e.addOnCommittedListener(()=>{this.In[C]=O.keys()}),At.waitFor(ne).next(()=>O)})}lookupMutationBatch(e,t){return dc(e).get(t).next(i=>i?(yt(i.userId===this.userId),Rd(this.It,i)):null)}Tn(e,t){return this.In[t]?At.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const a=i.keys();return this.In[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let d=null;return dc(e).Z({index:"userMutationsIndex",range:a},(v,C,O)=>{C.userId===this.userId&&(yt(C.batchId>=i),d=Rd(this.It,C)),O.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return dc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(a,d,v)=>{i=d.batchId,v.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dc(e).W("userMutationsIndex",t).next(i=>i.map(a=>Rd(this.It,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=ym(this.userId,t.path),a=IDBKeyRange.lowerBound(i),d=[];return Cf(e).Z({range:a},(v,C,O)=>{const[$,ne,Ae]=v,gt=iu(ne);if($===this.userId&&t.path.isEqual(gt))return dc(e).get(Ae).next(Rt=>{if(!Rt)throw We();yt(Rt.userId===this.userId),d.push(Rd(this.It,Rt))});O.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Pi(gr);const a=[];return t.forEach(d=>{const v=ym(this.userId,d.path),C=IDBKeyRange.lowerBound(v),O=Cf(e).Z({range:C},($,ne,Ae)=>{const[gt,Rt,kt]=$,cn=iu(Rt);gt===this.userId&&d.path.isEqual(cn)?i=i.add(kt):Ae.done()});a.push(O)}),At.waitFor(a).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,d=ym(this.userId,i),v=IDBKeyRange.lowerBound(d);let C=new Pi(gr);return Cf(e).Z({range:v},(O,$,ne)=>{const[Ae,gt,Rt]=O,kt=iu(gt);Ae===this.userId&&i.isPrefixOf(kt)?kt.length===a&&(C=C.add(Rt)):ne.done()}).next(()=>this.En(e,C))}En(e,t){const i=[],a=[];return t.forEach(d=>{a.push(dc(e).get(d).next(v=>{if(null===v)throw We();yt(v.userId===this.userId),i.push(Rd(this.It,v))}))}),At.waitFor(a).next(()=>i)}removeMutationBatch(e,t){return Im(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),At.forEach(i,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return At.resolve();const i=IDBKeyRange.lowerBound([this.userId]),a=[];return Cf(e).Z({range:i},(d,v,C)=>{if(d[0]===this.userId){const O=iu(d[1]);a.push(O)}else C.done()}).next(()=>{yt(0===a.length)})})}containsKey(e,t){return $v(e,this.userId,t)}Rn(e){return sE(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $v(n,e,t){const i=ym(e,t.path),a=i[1],d=IDBKeyRange.lowerBound(i);let v=!1;return Cf(n).Z({range:d,X:!0},(C,O,$)=>{const[ne,Ae,gt]=C;ne===e&&Ae===a&&(v=!0),$.done()}).next(()=>v)}function dc(n){return zo(n,"mutations")}function Cf(n){return zo(n,"documentMutations")}function sE(n){return zo(n,"mutationQueues")}class Rh{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Rh(0)}static vn(){return new Rh(-1)}}class QC{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Rh(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>ur.fromTimestamp(new os(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Sn(e,a)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wf(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(yt(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let a=0;const d=[];return wf(e).Z((v,C)=>{const O=yp(C);O.sequenceNumber<=t&&null===i.get(O.targetId)&&(a++,d.push(this.removeTargetData(e,O)))}).next(()=>At.waitFor(d)).next(()=>a)}forEachTarget(e,t){return wf(e).Z((i,a)=>{const d=yp(a);t(d)})}Vn(e){return Gv(e).get("targetGlobalKey").next(t=>(yt(null!==t),t))}Sn(e,t){return Gv(e).put("targetGlobalKey",t)}Dn(e,t){return wf(e).put(Lv(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=ph(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let d=null;return wf(e).Z({range:a,index:"queryTargetsIndex"},(v,C,O)=>{const $=yp(C);lf(t,$.target)&&(d=$,O.done())}).next(()=>d)}addMatchingKeys(e,t,i){const a=[],d=Pd(e);return t.forEach(v=>{const C=qs(v.path);a.push(d.put({targetId:i,path:C})),a.push(this.referenceDelegate.addReference(e,i,v))}),At.waitFor(a)}removeMatchingKeys(e,t,i){const a=Pd(e);return At.forEach(t,d=>{const v=qs(d.path);return At.waitFor([a.delete([i,v]),this.referenceDelegate.removeReference(e,i,d)])})}removeMatchingKeysForTargetId(e,t){const i=Pd(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=Pd(e);let d=_r();return a.Z({range:i,X:!0},(v,C,O)=>{const $=iu(v[1]),ne=new kn($);d=d.add(ne)}).next(()=>d)}containsKey(e,t){const i=qs(t.path),a=IDBKeyRange.bound([i],[uh(i)],!1,!0);let d=0;return Pd(e).Z({index:"documentTargetsIndex",X:!0,range:a},([v,C],O,$)=>{0!==v&&(d++,$.done())}).next(()=>d>0)}se(e,t){return wf(e).get(t).next(i=>i?yp(i):null)}}function wf(n){return zo(n,"targets")}function Gv(n){return zo(n,"targetGlobal")}function Pd(n){return zo(n,"targetDocuments")}function b_([n,e],[t,i]){const a=gr(n,t);return 0===a?gr(e,i):a}class E_{constructor(e){this.xn=e,this.buffer=new Pi(b_),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();b_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oE{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;g("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,nn.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Xc(i)?g("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield ws(i)}yield t.Fn(3e5)}))}}class C_{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return At.resolve(Na.at);const i=new E_(t);return this.$n.forEachTarget(e,a=>i.On(a.sequenceNumber)).next(()=>this.$n.Ln(e,a=>i.On(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(g("LruGarbageCollector","Garbage collection skipped; disabled"),At.resolve(Ef)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(g("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ef):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,a,d,v,C,O,$;const ne=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ae=>(Ae>this.params.maximumSequenceNumbersToCollect?(g("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ae}`),a=this.params.maximumSequenceNumbersToCollect):a=Ae,v=Date.now(),this.nthSequenceNumber(e,a))).next(Ae=>(i=Ae,C=Date.now(),this.removeTargets(e,i,t))).next(Ae=>(d=Ae,O=Date.now(),this.removeOrphanedDocuments(e,i))).next(Ae=>($=Date.now(),E()<=Hs.in.DEBUG&&g("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-ne}ms\n\tDetermined least recently used ${a} in `+(C-v)+`ms\n\tRemoved ${d} targets in `+(O-C)+`ms\n\tRemoved ${Ae} documents in `+($-O)+`ms\nTotal Duration: ${$-ne}ms`),At.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:d,documentsRemoved:Ae})))}}class aE{constructor(e,t){this.db=e,this.garbageCollector=new C_(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,a)=>t(a))}addReference(e,t,i){return Sm(e,i)}removeReference(e,t,i){return Sm(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Sm(e,t)}Gn(e,t){return function(i,a){let d=!1;return sE(i).tt(v=>$v(i,v,a).next(C=>(C&&(d=!0),At.resolve(!C)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let d=0;return this.Kn(e,(v,C)=>{if(C<=t){const O=this.Gn(e,v).next($=>{if(!$)return d++,i.getEntry(e,v).next(()=>(i.removeEntry(v,ur.min()),Pd(e).delete([0,qs(v.path)])))});a.push(O)}}).next(()=>At.waitFor(a)).next(()=>i.apply(e)).next(()=>d)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Sm(e,t)}Kn(e,t){const i=Pd(e);let a,d=Na.at;return i.Z({index:"documentTargetsIndex"},([v,C],{path:O,sequenceNumber:$})=>{0===v?(d!==Na.at&&t(new kn(iu(a)),d),d=$,a=O):d=Na.at}).next(()=>{d!==Na.at&&t(new kn(iu(a)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sm(n,e){return Pd(n).put((i=n.currentSequenceNumber,{targetId:0,path:qs(e.path),sequenceNumber:i}));var i}class zv{constructor(){this.changes=new Vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ls.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?At.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lE{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return nc(e).put(i)}removeEntry(e,t,i){return nc(e).delete(function(a,d){const v=a.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],Em(d),v[v.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=ls.newInvalidDocument(t);return nc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Am(t))},(a,d)=>{i=this.jn(t,d)}).next(()=>i)}Wn(e,t){let i={size:0,document:ls.newInvalidDocument(t)};return nc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Am(t))},(a,d)=>{i={document:this.jn(t,d),size:Ep(d)}}).next(()=>i)}getEntries(e,t){let i=nl();return this.zn(e,t,(a,d)=>{const v=this.jn(a,d);i=i.insert(a,v)}).next(()=>i)}Hn(e,t){let i=nl(),a=new Ki(kn.comparator);return this.zn(e,t,(d,v)=>{const C=this.jn(d,v);i=i.insert(d,C),a=a.insert(d,Ep(v))}).next(()=>({documents:i,Jn:a}))}zn(e,t,i){if(t.isEmpty())return At.resolve();let a=new Pi(Kv);t.forEach(O=>a=a.add(O));const d=IDBKeyRange.bound(Am(a.first()),Am(a.last())),v=a.getIterator();let C=v.getNext();return nc(e).Z({index:"documentKeyIndex",range:d},(O,$,ne)=>{const Ae=kn.fromSegments([...$.prefixPath,$.collectionGroup,$.documentId]);for(;C&&Kv(C,Ae)<0;)i(C,null),C=v.getNext();C&&C.isEqual(Ae)&&(i(C,$),C=v.hasNext()?v.getNext():null),C?ne.j(Am(C)):ne.done()}).next(()=>{for(;C;)i(C,null),C=v.hasNext()?v.getNext():null})}getAllFromCollection(e,t,i){const a=[t.popLast().toArray(),t.lastSegment(),Em(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nc(e).W(IDBKeyRange.bound(a,d,!0)).next(v=>{let C=nl();for(const O of v){const $=this.jn(kn.fromSegments(O.prefixPath.concat(O.collectionGroup,O.documentId)),O);C=C.insert($.key,$)}return C})}getAllFromCollectionGroup(e,t,i,a){let d=nl();const v=Df(t,i),C=Df(t,tl.max());return nc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,C,!0)},(O,$,ne)=>{const Ae=this.jn(kn.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);d=d.insert(Ae.key,Ae),d.size===a&&ne.done()}).next(()=>d)}newChangeBuffer(e){return new cE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Cp(e).get("remoteDocumentGlobalKey").next(t=>(yt(!!t),t))}Qn(e,t){return Cp(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function eE(n,e){let t;if(e.document)t=gm(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=kn.fromSegments(e.noDocument.path),a=Ah(e.noDocument.readTime);t=ls.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return We();{const i=kn.fromSegments(e.unknownDocument.path),a=Ah(e.unknownDocument.version);t=ls.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime(function(i){const a=new os(i[0],i[1]);return ur.fromTimestamp(a)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(ur.min()))return i}return ls.newInvalidDocument(e)}}function Wv(n){return new lE(n)}class cE extends zv{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Vu(i=>i.toString(),(i,a)=>i.isEqual(a))}applyChanges(e){const t=[];let i=0,a=new Pi((d,v)=>gr(d.canonicalString(),v.canonicalString()));return this.changes.forEach((d,v)=>{const C=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,C.readTime)),v.isValidDocument()){const O=Fv(this.Yn.It,v);a=a.add(d.path.popLast()),i+=Ep(O)-C.size,t.push(this.Yn.addEntry(e,d,O))}else if(i-=C.size,this.trackRemovals){const O=Fv(this.Yn.It,v.convertToNoDocument(ur.min()));t.push(this.Yn.addEntry(e,d,O))}}),a.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,i)),At.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:a})=>(a.forEach((d,v)=>{this.Xn.set(d,{size:v,readTime:i.get(d).readTime})}),i))}}function Cp(n){return zo(n,"remoteDocumentGlobal")}function nc(n){return zo(n,"remoteDocumentsV14")}function Am(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Df(n,e){const t=e.documentKey.path.toArray();return[n,Em(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Kv(n,e){const t=n.path.toArray(),i=e.path.toArray();let a=0;for(let d=0;d<t.length-2&&d<i.length-2;++d)if(a=gr(t[d],i[d]),a)return a;return a=gr(t.length,i.length),a||(a=gr(t[t.length-2],i[i.length-2]),a||gr(t[t.length-1],i[i.length-1]))}class uE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Mm{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.getBaseDocument(e,t,i))).next(a=>(null!==i&&dm(i.mutation,a,bl.empty(),os.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,_r()).next(()=>i))}getLocalViewOfDocuments(e,t,i=_r()){const a=Uu();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(d=>{let v=wh();return d.forEach((C,O)=>{v=v.insert(C,O.overlayedDocument)}),v}))}getOverlayedDocuments(e,t){const i=Uu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,_r()))}populateOverlays(e,t,i){const a=[];return i.forEach(d=>{t.has(d)||a.push(d)}),this.documentOverlayCache.getOverlays(e,a).next(d=>{d.forEach((v,C)=>{t.set(v,C)})})}computeViews(e,t,i,a){let d=nl();const v=ff(),C=ff();return t.forEach((O,$)=>{const ne=i.get($.key);a.has($.key)&&(void 0===ne||ne.mutation instanceof ru)?d=d.insert($.key,$):void 0!==ne&&(v.set($.key,ne.mutation.getFieldMask()),dm(ne.mutation,$,ne.mutation.getFieldMask(),os.now()))}),this.recalculateAndSaveOverlays(e,d).next(O=>(O.forEach(($,ne)=>v.set($,ne)),t.forEach(($,ne)=>{var Ae;return C.set($,new uE(ne,null!==(Ae=v.get($))&&void 0!==Ae?Ae:null))}),C))}recalculateAndSaveOverlays(e,t){const i=ff();let a=new Ki((v,C)=>v-C),d=_r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(v=>{for(const C of v)C.keys().forEach(O=>{const $=t.get(O);if(null===$)return;let ne=i.get(O)||bl.empty();ne=C.applyToLocalView($,ne),i.set(O,ne);const Ae=(a.get(C.batchId)||_r()).add(O);a=a.insert(C.batchId,Ae)})}).next(()=>{const v=[],C=a.getReverseIterator();for(;C.hasNext();){const O=C.getNext(),$=O.key,ne=O.value,Ae=Dh();ne.forEach(gt=>{if(!d.has(gt)){const Rt=pv(t.get(gt),i.get(gt));null!==Rt&&Ae.set(gt,Rt),d=d.add(gt)}}),v.push(this.documentOverlayCache.saveOverlays(e,$,Ae))}return At.waitFor(v)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return kn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Fg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var a}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(d=>{const v=a-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-d.size):At.resolve(Uu());let C=-1,O=d;return v.next($=>At.forEach($,(ne,Ae)=>(C<Ae.largestBatchId&&(C=Ae.largestBatchId),d.get(ne)?At.resolve():this.getBaseDocument(e,ne,Ae).next(gt=>{O=O.insert(ne,gt)}))).next(()=>this.populateOverlays(e,$,d)).next(()=>this.computeViews(e,O,$,_r())).next(ne=>({batchId:C,changes:vv(ne)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new kn(t)).next(i=>{let a=wh();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const a=t.collectionGroup;let d=wh();return this.indexManager.getCollectionParents(e,a).next(v=>At.forEach(v,C=>{const O=($=t,ne=C.child(a),new nu(ne,null,$.explicitOrderBy.slice(),$.filters.slice(),$.limit,$.limitType,$.startAt,$.endAt));var $,ne;return this.getDocumentsMatchingCollectionQuery(e,O,i).next($=>{$.forEach((ne,Ae)=>{d=d.insert(ne,Ae)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,i){let a;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(d=>(a=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(d=>{d.forEach((C,O)=>{const $=O.getKey();null===a.get($)&&(a=a.insert($,ls.newInvalidDocument($)))});let v=wh();return a.forEach((C,O)=>{const $=d.get(C);void 0!==$&&dm($.mutation,O,bl.empty(),os.now()),Lg(t,O)&&(v=v.insert(C,O))}),v})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):At.resolve(ls.newInvalidDocument(t))}}class dE{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return At.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:da(i.createTime)}),At.resolve()}getNamedQuery(e,t){return At.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:Cm(i.bundledQuery),readTime:da(i.readTime)}),At.resolve();var i}}class au{constructor(){this.overlays=new Ki(kn.comparator),this.es=new Map}getOverlay(e,t){return At.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Uu();return At.forEach(t,a=>this.getOverlay(e,a).next(d=>{null!==d&&i.set(a,d)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,d)=>{this.ue(e,t,d)}),At.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.es.get(i);return void 0!==a&&(a.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(i)),At.resolve()}getOverlaysForCollection(e,t,i){const a=Uu(),d=t.length+1,v=new kn(t.child("")),C=this.overlays.getIteratorFrom(v);for(;C.hasNext();){const O=C.getNext().value,$=O.getKey();if(!t.isPrefixOf($.path))break;$.path.length===d&&O.largestBatchId>i&&a.set(O.getKey(),O)}return At.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let d=new Ki(($,ne)=>$-ne);const v=this.overlays.getIterator();for(;v.hasNext();){const $=v.getNext().value;if($.getKey().getCollectionGroup()===t&&$.largestBatchId>i){let ne=d.get($.largestBatchId);null===ne&&(ne=Uu(),d=d.insert($.largestBatchId,ne)),ne.set($.getKey(),$)}}const C=Uu(),O=d.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach(($,ne)=>C.set($,ne)),!(C.size()>=a)););return At.resolve(C)}ue(e,t,i){const a=this.overlays.get(i.key);if(null!==a){const v=this.es.get(a.largestBatchId).delete(i.key);this.es.set(a.largestBatchId,v)}this.overlays=this.overlays.insert(i.key,new f_(t,i));let d=this.es.get(t);void 0===d&&(d=_r(),this.es.set(t,d)),this.es.set(t,d.add(i.key))}}class kh{constructor(){this.ns=new Pi(gi.ss),this.rs=new Pi(gi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new gi(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new gi(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new kn(new ni([])),i=new gi(t,e),a=new gi(t,e+1),d=[];return this.rs.forEachInRange([i,a],v=>{this.cs(v),d.push(v.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new kn(new ni([])),i=new gi(t,e),a=new gi(t,e+1);let d=_r();return this.rs.forEachInRange([i,a],v=>{d=d.add(v.key)}),d}containsKey(e){const t=new gi(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class gi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return kn.comparator(e.key,t.key)||gr(e._s,t._s)}static os(e,t){return gr(e._s,t._s)||kn.comparator(e.key,t.key)}}class Oh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Pi(gi.ss)}checkEmpty(e){return At.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,a){const d=this.ws;this.ws++;const v=new h_(d,t,i,a);this.mutationQueue.push(v);for(const C of a)this.gs=this.gs.add(new gi(C.key,d)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return At.resolve(v)}lookupMutationBatch(e,t){return At.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.ps(t+1),d=a<0?0:a;return At.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return At.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return At.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new gi(t,0),a=new gi(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([i,a],v=>{const C=this.ys(v._s);d.push(C)}),At.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Pi(gr);return t.forEach(a=>{const d=new gi(a,0),v=new gi(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,v],C=>{i=i.add(C._s)})}),At.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let d=i;kn.isDocumentKey(d)||(d=d.child(""));const v=new gi(new kn(d),0);let C=new Pi(gr);return this.gs.forEachWhile(O=>{const $=O.key.path;return!!i.isPrefixOf($)&&($.length===a&&(C=C.add(O._s)),!0)},v),At.resolve(this.Is(C))}Is(e){const t=[];return e.forEach(i=>{const a=this.ys(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){yt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return At.forEach(t.mutations,a=>{const d=new gi(a.key,t.batchId);return i=i.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new gi(t,0),a=this.gs.firstAfterOrEqual(i);return At.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return At.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xm{constructor(e){this.Es=e,this.docs=new Ki(kn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),d=a?a.size:0,v=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:v}),this.size+=v-d,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return At.resolve(i?i.document.mutableCopy():ls.newInvalidDocument(t))}getEntries(e,t){let i=nl();return t.forEach(a=>{const d=this.docs.get(a);i=i.insert(a,d?d.document.mutableCopy():ls.newInvalidDocument(a))}),At.resolve(i)}getAllFromCollection(e,t,i){let a=nl();const d=new kn(t.child("")),v=this.docs.getIteratorFrom(d);for(;v.hasNext();){const{key:C,value:{document:O}}=v.getNext();if(!t.isPrefixOf(C.path))break;C.path.length>t.length+1||rf(tm(O),i)<=0||(a=a.insert(O.key,O.mutableCopy()))}return At.resolve(a)}getAllFromCollectionGroup(e,t,i,a){We()}As(e,t){return At.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new hc(this)}getSize(e){return At.resolve(this.size)}}class hc extends zv{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(i)}),At.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class w_{constructor(e){this.persistence=e,this.Rs=new Vu(t=>ph(t),lf),this.lastRemoteSnapshotVersion=ur.min(),this.highestTargetId=0,this.bs=0,this.Ps=new kh,this.targetCount=0,this.vs=Rh.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,a)=>t(a)),At.resolve()}getLastRemoteSnapshotVersion(e){return At.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return At.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),At.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),At.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Rh(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,At.resolve()}updateTargetData(e,t){return this.Dn(t),At.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,At.resolve()}removeTargets(e,t,i){let a=0;const d=[];return this.Rs.forEach((v,C)=>{C.sequenceNumber<=t&&null===i.get(C.targetId)&&(this.Rs.delete(v),d.push(this.removeMatchingKeysForTargetId(e,C.targetId)),a++)}),At.waitFor(d).next(()=>a)}getTargetCount(e){return At.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return At.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),At.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const a=this.persistence.referenceDelegate,d=[];return a&&t.forEach(v=>{d.push(a.markPotentiallyOrphaned(e,v))}),At.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),At.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return At.resolve(i)}containsKey(e,t){return At.resolve(this.Ps.containsKey(t))}}class Ph{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Na(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new w_(this),this.indexManager=new ZC,this.remoteDocumentCache=new xm(i=>this.referenceDelegate.xs(i)),this.It=new p_(t),this.Ns=new dE(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new au,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new Oh(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){g("MemoryPersistence","Starting transaction:",e);const a=new If(this.Ss.next());return this.referenceDelegate.ks(),i(a).next(d=>this.referenceDelegate.Os(a).next(()=>d)).toPromise().then(d=>(a.raiseOnCommittedEvent(),d))}Ms(e,t){return At.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class If extends rm{constructor(e){super(),this.currentSequenceNumber=e}}class $u{constructor(e){this.persistence=e,this.Fs=new kh,this.$s=null}static Bs(e){return new $u(e)}get Ls(){if(this.$s)return this.$s;throw We()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),At.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),At.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),At.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(a=>this.Ls.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(d=>this.Ls.add(d.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return At.forEach(this.Ls,i=>{const a=kn.fromPath(i);return this.Us(e,a).next(d=>{d||t.removeEntry(a,ur.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return At.or([()=>At.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Tf{constructor(e){this.It=e}$(e,t,i,a){const d=new Eo("createOrUpgrade",t);var C;i<1&&a>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",r_,{unique:!0}),C.createObjectStore("documentMutations"),Nh(e),function(C){C.createObjectStore("remoteDocuments")}(e));let v=At.resolve();return i<3&&a>=3&&(0!==i&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),Nh(e)),v=v.next(()=>function(C){const O=C.store("targetGlobal"),$={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ur.min().toTimestamp(),targetCount:0};return O.put("targetGlobalKey",$)}(d))),i<4&&a>=4&&(0!==i&&(v=v.next(()=>function(C,O){return O.store("mutations").W().next($=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",r_,{unique:!0});const ne=O.store("mutations"),Ae=$.map(gt=>ne.put(gt));return At.waitFor(Ae)})}(e,d))),v=v.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&a>=5&&(v=v.next(()=>this.qs(d))),i<6&&a>=6&&(v=v.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),i<7&&a>=7&&(v=v.next(()=>this.Gs(d))),i<8&&a>=8&&(v=v.next(()=>this.Qs(e,d))),i<9&&a>=9&&(v=v.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&a>=10&&(v=v.next(()=>this.js(d))),i<11&&a>=11&&(v=v.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&a>=12&&(v=v.next(()=>{!function(C){const O=C.createObjectStore("documentOverlays",{keyPath:Zb});O.createIndex("collectionPathOverlayIndex",YC,{unique:!1}),O.createIndex("collectionGroupOverlayIndex",Qb,{unique:!1})}(e)})),i<13&&a>=13&&(v=v.next(()=>function(C){const O=C.createObjectStore("remoteDocumentsV14",{keyPath:yf});O.createIndex("documentKeyIndex",i_),O.createIndex("collectionGroupIndex",vf)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&a>=14&&(v=v.next(()=>this.zs(e,d))),i<15&&a>=15&&(v=v.next(()=>function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:o_}).createIndex("sequenceNumberIndex",a_,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:Pv}).createIndex("documentKeyIndex",l_,{unique:!1})}(e))),v}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,a)=>{t+=Ep(a)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(a=>At.forEach(a,d=>{const v=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",v).next(C=>At.forEach(C,O=>{yt(O.userId===d.userId);const $=Rd(this.It,O);return Im(e,d.userId,$).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const d=[];return i.Z((v,C)=>{const O=new ni(v),$=[0,qs(O)];d.push(t.get($).next(ne=>ne?At.resolve():t.put({targetId:0,path:qs(O),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>At.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Ov});const i=t.store("collectionParents"),a=new Dm,d=v=>{if(a.add(v)){const C=v.lastSegment(),O=v.popLast();return i.put({collectionId:C,parent:qs(O)})}};return t.store("remoteDocuments").Z({X:!0},(v,C)=>{const O=new ni(v);return d(O.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([v,C,O],$)=>{const ne=iu(C);return d(ne.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,a)=>{const d=yp(a),v=Lv(this.It,d);return t.put(v)})}Ws(e,t){const i=t.store("remoteDocuments"),a=[];return i.Z((d,v)=>{const C=t.store("remoteDocumentsV14"),O=($=v,$.document?new kn(ni.fromString($.document.name).popFirst(5)):$.noDocument?kn.fromSegments($.noDocument.path):$.unknownDocument?kn.fromSegments($.unknownDocument.path):We()).path.toArray();var $;const ne={prefixPath:O.slice(0,O.length-2),collectionGroup:O[O.length-2],documentId:O[O.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};a.push(C.put(ne))}).next(()=>At.waitFor(a))}zs(e,t){const i=t.store("mutations"),a=Wv(this.It),d=new Ph($u.Bs,this.It.re);return i.W().next(v=>{const C=new Map;return v.forEach(O=>{var $;let ne=null!==($=C.get(O.userId))&&void 0!==$?$:_r();Rd(this.It,O).keys().forEach(Ae=>ne=ne.add(Ae)),C.set(O.userId,ne)}),At.forEach(C,(O,$)=>{const ne=new Ks($),Ae=g_.oe(this.It,ne),gt=d.getIndexManager(ne),Rt=Tm.oe(ne,this.It,gt,d.referenceDelegate);return new Mm(a,Rt,Ae,gt).recalculateAndSaveOverlaysForDocumentKeys(new Cl(t,Na.at),O).next()})})}}function Nh(n){n.createObjectStore("targetDocuments",{keyPath:bm}).createIndex("documentTargetsIndex",kv,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",s_,{unique:!0}),n.createObjectStore("targetGlobal")}const Nd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fd{constructor(e,t,i,a,d,v,C,O,$,ne,Ae=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=d,this.window=v,this.document=C,this.Js=$,this.Ys=ne,this.Xs=Ae,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=gt=>Promise.resolve(),!Fd.C())throw new Bt(_t.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aE(this,a),this.ii=t+"main",this.It=new p_(O),this.ri=new Ci(this.ii,this.Xs,new Tf(this.It)),this.Cs=new QC(this.referenceDelegate,this.It),this.remoteDocumentCache=Wv(this.It),this.Ns=new m_,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ne&&T("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Bt(_t.FAILED_PRECONDITION,Nd);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Na(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,nn.Z)(function*(a){if(t.started)return e(a)});return function(a){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,nn.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,nn.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Gu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Xc(e))return g("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return g("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return lu(e).get("owner").next(t=>At.resolve(this.mi(t)))}gi(e){return Gu(e).delete(this.clientId)}yi(){var e=this;return(0,nn.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const a=zo(i,"clientMetadata");return a.W().next(d=>{const v=e.Ii(d,18e5),C=d.filter(O=>-1===v.indexOf(O));return At.forEach(C,O=>a.delete(O.clientId)).next(()=>C)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?At.resolve(!0):lu(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Bt(_t.FAILED_PRECONDITION,Nd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gu(e).W().next(i=>void 0===this.Ii(i,5e3).find(a=>{if(this.clientId!==a.clientId){const v=!this.inForeground&&a.inForeground,C=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||v&&C)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&g("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,nn.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Cl(t,Na.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Gu(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Tm.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jv(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return g_.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){g("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",d=15===(v=this.Xs)?Jb:14===v?d_:13===v?u_:12===v?Xb:11===v?c_:void We();var v;let C;return this.ri.runTransaction(e,a,d,O=>(C=new Cl(O,this.Ss?this.Ss.next():Na.at),"readwrite-primary"===t?this.fi(C).next($=>!!$||this.di(C)).next($=>{if(!$)throw T(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Bt(_t.FAILED_PRECONDITION,nm);return i(C)}).next($=>this.wi(C).next(()=>$)):this.Vi(C).next(()=>i(C)))).then(O=>(C.raiseOnCommittedEvent(),O))}Vi(e){return lu(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Bt(_t.FAILED_PRECONDITION,Nd)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lu(e).put("owner",t)}static C(){return Ci.C()}_i(e){const t=lu(e);return t.get("owner").next(i=>this.mi(i)?(g("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):At.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(T(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ei.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return g("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return T("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){T("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lu(n){return zo(n,"owner")}function Gu(n){return zo(n,"clientMetadata")}function Rm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class km{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=a}static Ci(e,t){let i=_r(),a=_r();for(const d of t.docChanges)switch(d.type){case 0:i=i.add(d.doc.key);break;case 1:a=a.add(d.doc.key)}return new km(e,t.fromCache,i,a)}}class D_{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,a){return this.ki(e,t).next(d=>d||this.Oi(e,t,a,i)).next(d=>d||this.Mi(e,t))}ki(e,t){if(ov(t))return At.resolve(null);let i=El(t);return this.indexManager.getIndexType(e,i).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=lm(t,null,"F"),i=El(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(d=>{const v=_r(...d);return this.Ni.getDocuments(e,v).next(C=>this.indexManager.getMinOffset(e,i).next(O=>{const $=this.Fi(t,C);return this.$i(t,$,v,O.readTime)?this.ki(e,lm(t,null,"F")):this.Bi(e,$,t,O)}))})))}Oi(e,t,i,a){return ov(t)||a.isEqual(ur.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(d=>{const v=this.Fi(t,d);return this.$i(t,v,i,a)?this.Mi(e,t):(E()<=Hs.in.DEBUG&&g("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),cm(t)),this.Bi(e,v,t,em(a,-1)))})}Fi(e,t){let i=new Pi(cv(e));return t.forEach((a,d)=>{Lg(e,d)&&(i=i.add(d))}),i}$i(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(a)>0)}Mi(e,t){return E()<=Hs.in.DEBUG&&g("QueryEngine","Using full collection scan to execute query:",cm(t)),this.Ni.getDocumentsMatchingQuery(e,t,tl.min())}Bi(e,t,i,a){return this.Ni.getDocumentsMatchingQuery(e,i,a).next(d=>(t.forEach(v=>{d=d.insert(v.key,v)}),d))}}class qv{constructor(e,t,i,a){this.persistence=e,this.Li=t,this.It=a,this.Ui=new Ki(gr),this.qi=new Vu(d=>ph(d),lf),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mm(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function I_(n,e,t,i){return new qv(n,e,t,i)}function T_(n,e){return Om.apply(this,arguments)}function Om(){return Om=(0,nn.Z)(function*(n,e){const t=Gt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(d=>(a=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(d=>{const v=[],C=[];let O=_r();for(const $ of a){v.push($.batchId);for(const ne of $.mutations)O=O.add(ne.key)}for(const $ of d){C.push($.batchId);for(const ne of $.mutations)O=O.add(ne.key)}return t.localDocuments.getDocuments(i,O).next($=>({ji:$,removedBatchIds:v,addedBatchIds:C}))})})}),Om.apply(this,arguments)}function Yv(n,e){const t=Gt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(v,C,O,$){const ne=O.batch,Ae=ne.keys();let gt=At.resolve();return Ae.forEach(Rt=>{gt=gt.next(()=>$.getEntry(C,Rt)).next(kt=>{const cn=O.docVersions.get(Rt);yt(null!==cn),kt.version.compareTo(cn)<0&&(ne.applyToRemoteDocument(kt,O),kt.isValidDocument()&&(kt.setReadTime(O.commitVersion),$.addEntry(kt)))})}),gt.next(()=>v.mutationQueue.removeMutationBatch(C,ne))}(t,i,e,d).next(()=>d.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(v){let C=_r();for(let O=0;O<v.mutationResults.length;++O)v.mutationResults[O].transformResults.length>0&&(C=C.add(v.batch.mutations[O].key));return C}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function S_(n){const e=Gt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function hE(n,e){const t=Gt(n),i=e.snapshotVersion;let a=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const v=t.Gi.newChangeBuffer({trackRemovals:!0});a=t.Ui;const C=[];e.targetChanges.forEach((ne,Ae)=>{const gt=a.get(Ae);if(!gt)return;C.push(t.Cs.removeMatchingKeys(d,ne.removedDocuments,Ae).next(()=>t.Cs.addMatchingKeys(d,ne.addedDocuments,Ae)));let Rt=gt.withSequenceNumber(d.currentSequenceNumber);var kt,cn,_n;e.targetMismatches.has(Ae)?Rt=Rt.withResumeToken(Co.EMPTY_BYTE_STRING,ur.min()).withLastLimboFreeSnapshotVersion(ur.min()):ne.resumeToken.approximateByteSize()>0&&(Rt=Rt.withResumeToken(ne.resumeToken,i)),a=a.insert(Ae,Rt),cn=Rt,_n=ne,(0===(kt=gt).resumeToken.approximateByteSize()||cn.snapshotVersion.toMicroseconds()-kt.snapshotVersion.toMicroseconds()>=3e8||_n.addedDocuments.size+_n.modifiedDocuments.size+_n.removedDocuments.size>0)&&C.push(t.Cs.updateTargetData(d,Rt))});let O=nl(),$=_r();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(d,ne))}),C.push(Zv(d,v,e.documentUpdates).next(ne=>{O=ne.Wi,$=ne.zi})),!i.isEqual(ur.min())){const ne=t.Cs.getLastRemoteSnapshotVersion(d).next(Ae=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,i));C.push(ne)}return At.waitFor(C).next(()=>v.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,O,$)).next(()=>O)}).then(d=>(t.Ui=a,d))}function Zv(n,e,t){let i=_r(),a=_r();return t.forEach(d=>i=i.add(d)),e.getEntries(n,i).next(d=>{let v=nl();return t.forEach((C,O)=>{const $=d.get(C);O.isFoundDocument()!==$.isFoundDocument()&&(a=a.add(C)),O.isNoDocument()&&O.version.isEqual(ur.min())?(e.removeEntry(C,O.readTime),v=v.insert(C,O)):!$.isValidDocument()||O.version.compareTo($.version)>0||0===O.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(O),v=v.insert(C,O)):g("LocalStore","Ignoring outdated watch update for ",C,". Current version:",$.version," Watch version:",O.version)}),{Wi:v,zi:a}})}function Qv(n,e){const t=Gt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Sf(n,e){const t=Gt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Cs.getTargetData(i,e).next(d=>d?(a=d,At.resolve(a)):t.Cs.allocateTargetId(i).next(v=>(a=new su(e,v,0,i.currentSequenceNumber),t.Cs.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ui.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function Fh(n,e,t){return wp.apply(this,arguments)}function wp(){return wp=(0,nn.Z)(function*(n,e,t){const i=Gt(n),a=i.Ui.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",d,v=>i.persistence.referenceDelegate.removeTarget(v,a)))}catch(v){if(!Xc(v))throw v;g("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}i.Ui=i.Ui.remove(e),i.qi.delete(a.target)}),wp.apply(this,arguments)}function Af(n,e,t){const i=Gt(n);let a=ur.min(),d=_r();return i.persistence.runTransaction("Execute query","readonly",v=>function(C,O,$){const ne=Gt(C),Ae=ne.qi.get($);return void 0!==Ae?At.resolve(ne.Ui.get(Ae)):ne.Cs.getTargetData(O,$)}(i,v,El(e)).next(C=>{if(C)return a=C.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(v,C.targetId).next(O=>{d=O})}).next(()=>i.Li.getDocumentsMatchingQuery(v,e,t?a:ur.min(),t?d:_r())).next(C=>(Ip(i,lv(e),C),{documents:C,Hi:d})))}function Xv(n,e){const t=Gt(n),i=Gt(t.Cs),a=t.Ui.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",d=>i.se(d,e).next(v=>v?v.target:null))}function Dp(n,e){const t=Gt(n),i=t.Ki.get(e)||ur.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Gi.getAllFromCollectionGroup(a,e,em(i,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Ip(t,e,a),a))}function Ip(n,e,t){let i=n.Ki.get(e)||ur.min();t.forEach((a,d)=>{d.readTime.compareTo(i)>0&&(i=d.readTime)}),n.Ki.set(e,i)}function M_(){return M_=(0,nn.Z)(function*(n,e,t,i){const a=Gt(n);let d=_r(),v=nl();for(const $ of t){const ne=e.Ji($.metadata.name);$.document&&(d=d.add(ne));const Ae=e.Yi($);Ae.setReadTime(e.Xi($.metadata.readTime)),v=v.insert(ne,Ae)}const C=a.Gi.newChangeBuffer({trackRemovals:!0}),O=yield Sf(a,($=i,El(gh(ni.fromString(`__bundle__/docs/${$}`)))));var $;return a.persistence.runTransaction("Apply bundle documents","readwrite",$=>Zv($,C,v).next(ne=>(C.apply($),ne)).next(ne=>a.Cs.removeMatchingKeysForTargetId($,O.targetId).next(()=>a.Cs.addMatchingKeys($,d,O.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments($,ne.Wi,ne.zi)).next(()=>ne.Wi)))}),M_.apply(this,arguments)}function Pm(n,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,nn.Z)(function*(n,e,t=_r()){const i=yield Sf(n,El(Cm(e.bundledQuery))),a=Gt(n);return a.persistence.runTransaction("Save named query","readwrite",d=>{const v=da(e.readTime);if(i.snapshotVersion.compareTo(v)>=0)return a.Ns.saveNamedQuery(d,e);const C=i.withResumeToken(Co.EMPTY_BYTE_STRING,v);return a.Ui=a.Ui.insert(C.targetId,C),a.Cs.updateTargetData(d,C).next(()=>a.Cs.removeMatchingKeysForTargetId(d,i.targetId)).next(()=>a.Cs.addMatchingKeys(d,t,i.targetId)).next(()=>a.Ns.saveNamedQuery(d,e))})}),Mf.apply(this,arguments)}function x_(n,e){return`firestore_clients_${n}_${e}`}function R_(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Tp(n,e){return`firestore_targets_${n}_${e}`}class Sp{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static Zi(e,t,i){const a=JSON.parse(i);let d,v="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return v&&a.error&&(v="string"==typeof a.error.message&&"string"==typeof a.error.code,v&&(d=new Bt(a.error.code,a.error.message))),v?new Sp(e,t,a.state,d):(T("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xf{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let a,d="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new Bt(i.error.code,i.error.message))),d?new xf(e,i.state,a):(T("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let a="object"==typeof i&&i.activeTargetIds instanceof Array,d=fm();for(let v=0;a&&v<i.activeTargetIds.length;++v)a=h(i.activeTargetIds[v]),d=d.add(i.activeTargetIds[v]);return a?new Rf(e,d):(T("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ap{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ap(t.clientId,t.onlineState):(T("SharedClientState",`Failed to parse online state: ${e}`),null)}}class k_{constructor(){this.activeTargetIds=fm()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nm{constructor(e,t,i,a,d){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ki(gr),this.started=!1,this.cr=[];const v=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=x_(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new k_),this.lr=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,nn.Z)(function*(){const t=yield e.syncEngine.vi();for(const a of t){if(a===e.sr)continue;const d=e.getItem(x_(e.persistenceKey,a));if(d){const v=Rf.Zi(a,d);v&&(e.ur=e.ur.insert(v.clientId,v))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const a=e.yr(i);a&&e.pr(a)}for(const a of e.cr)e.rr(a);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Tp(this.persistenceKey,e));if(i){const a=xf.Zi(e,i);a&&(t=a.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Tp(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(a=>{this.Er(a)}),this.currentUser=e,i.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return g("SharedClientState","READ",e,t),t}setItem(e,t){g("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){g("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(g("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void T("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,nn.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const a=t.vr(i.key);return t.Vr(a,null)}{const a=t.Sr(i.key,i.newValue);if(a)return t.Vr(a.clientId,a)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const a=t.Dr(i.key,i.newValue);if(a)return t.Cr(a)}}else if(t._r.test(i.key)){if(null!==i.newValue){const a=t.Nr(i.key,i.newValue);if(a)return t.kr(a)}}else if(i.key===t.wr){if(null!==i.newValue){const a=t.yr(i.newValue);if(a)return t.pr(a)}}else if(i.key===t.hr){const a=function(d){let v=Na.at;if(null!=d)try{const C=JSON.parse(d);yt("number"==typeof C),v=C}catch(C){T("SharedClientState","Failed to read sequence number from WebStorage",C)}return v}(i.newValue);a!==Na.at&&t.sequenceNumberHandler(a)}else if(i.key===t.mr){const a=t.Or(i.newValue);yield Promise.all(a.map(d=>t.syncEngine.Mr(d)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const a=new Sp(this.currentUser,e,t,i),d=R_(this.persistenceKey,this.currentUser,e);this.setItem(d,a.tr())}Er(e){const t=R_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const a=Tp(this.persistenceKey,e),d=new xf(e,t,i);this.setItem(a,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return Rf.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),a=Number(i[1]);return Sp.Zi(new Ks(void 0!==i[2]?i[2]:null),a,t)}Nr(e,t){const i=this._r.exec(e),a=Number(i[1]);return xf.Zi(a,t)}yr(e){return Ap.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,nn.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);g("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),a=this.Ir(this.ur),d=this.Ir(i),v=[],C=[];return d.forEach(O=>{a.has(O)||v.push(O)}),a.forEach(O=>{d.has(O)||C.push(O)}),this.syncEngine.Br(v,C).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=fm();return e.forEach((i,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class O_{constructor(){this.Lr=new k_,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new k_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jv{qr(e){}shutdown(){}}class P_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){g("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){g("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const fE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class e0{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class t0 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,a,d){const v=this.ho(e,t);g("RestConnection","Sending: ",v,i);const C={};return this.lo(C,a,d),this.fo(e,v,C,i).then(O=>(g("RestConnection","Received: ",O),O),O=>{throw Q("RestConnection",`${e} failed with error: `,O,"url: ",v,"request:",i),O})}_o(e,t,i,a,d,v){return this.ao(e,t,i,a,d)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,d)=>e[d]=a),i&&i.headers.forEach((a,d)=>e[d]=a)}ho(e,t){return`${this.oo}/v1/${t}:${fE[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,a){return new Promise((d,v)=>{const C=new Ed;C.setWithCredentials(!0),C.listenOnce(Pl.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case yd.NO_ERROR:const $=C.getResponseJson();g("Connection","XHR received:",JSON.stringify($)),d($);break;case yd.TIMEOUT:g("Connection",'RPC "'+e+'" timed out'),v(new Bt(_t.DEADLINE_EXCEEDED,"Request time out"));break;case yd.HTTP_ERROR:const ne=C.getStatus();if(g("Connection",'RPC "'+e+'" failed with status:',ne,"response text:",C.getResponseText()),ne>0){const Ae=C.getResponseJson().error;if(Ae&&Ae.status&&Ae.message){const gt=function(Rt){const kt=Rt.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(kt)>=0?kt:_t.UNKNOWN}(Ae.status);v(new Bt(gt,Ae.message))}else v(new Bt(_t.UNKNOWN,"Server responded with status "+C.getStatus()))}else v(new Bt(_t.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{g("Connection",'RPC "'+e+'" completed.')}});const O=JSON.stringify(a);C.send(t,"POST",O,i,15)})}wo(e,t,i){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=gd(),v=_d(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new lh({})),this.lo(C.initMessageHeaders,t,i),C.encodeInitMessageHeaders=!0;const O=a.join("");g("Connection","Creating WebChannel: "+O,C);const $=d.createWebChannel(O,C);let ne=!1,Ae=!1;const gt=new e0({Hr:kt=>{Ae?g("Connection","Not sending because WebChannel is closed:",kt):(ne||(g("Connection","Opening WebChannel transport."),$.open(),ne=!0),g("Connection","WebChannel sending:",kt),$.send(kt))},Jr:()=>$.close()}),Rt=(kt,cn,_n)=>{kt.listen(cn,sr=>{try{_n(sr)}catch(xr){setTimeout(()=>{throw xr},0)}})};return Rt($,bd.EventType.OPEN,()=>{Ae||g("Connection","WebChannel transport opened.")}),Rt($,bd.EventType.CLOSE,()=>{Ae||(Ae=!0,g("Connection","WebChannel transport closed"),gt.io())}),Rt($,bd.EventType.ERROR,kt=>{Ae||(Ae=!0,Q("Connection","WebChannel transport errored:",kt),gt.io(new Bt(_t.UNAVAILABLE,"The operation could not be completed")))}),Rt($,bd.EventType.MESSAGE,kt=>{var cn;if(!Ae){const _n=kt.data[0];yt(!!_n);const sr=_n,xr=sr.error||(null===(cn=sr[0])||void 0===cn?void 0:cn.error);if(xr){g("Connection","WebChannel received error:",xr);const Er=xr.status;let qr=function(Br){const mi=Do[Br];if(void 0!==mi)return _v(mi)}(Er),Lr=xr.message;void 0===qr&&(qr=_t.INTERNAL,Lr="Unknown error status: "+Er+" with message "+xr.message),Ae=!0,gt.io(new Bt(qr,Lr)),$.close()}else g("Connection","WebChannel received:",_n),gt.ro(_n)}}),Rt(v,ao.STAT_EVENT,kt=>{kt.stat===vd.PROXY?g("Connection","Detected buffering proxy"):kt.stat===vd.NOPROXY&&g("Connection","Detected no buffering proxy")}),setTimeout(()=>{gt.so()},0),gt}}function N_(){return typeof window<"u"?window:null}function kf(){return typeof document<"u"?document:null}function Of(n){return new Zg(n,!0)}class Fm{constructor(e,t,i=1e3,a=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=a,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),a=Math.max(0,t-i);a>0&&g("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class F_{constructor(e,t,i,a,d,v,C,O){this.Hs=e,this.vo=i,this.Vo=a,this.connection=d,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=C,this.listener=O,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Fm(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,nn.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,nn.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,nn.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===_t.RESOURCE_EXHAUSTED?(T(t.toString()),T("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===_t.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.So===t&&this.Go(i,a)},i=>{e(()=>{const a=new Bt(_t.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(a)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{i(()=>this.Qo(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,nn.Z)(function*(){e.state=0,e.start()}))}Qo(e){return g("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(g("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n0 extends F_{constructor(e,t,i,a,d,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,v),this.It=d}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function WC(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:We(),a=e.targetChange.targetIds||[],d=function(O,$){return O.gt?(yt(void 0===$||"string"==typeof $),Co.fromBase64String($||"")):(yt(void 0===$||$ instanceof Uint8Array),Co.fromUint8Array($||new Uint8Array))}(n,e.targetChange.resumeToken),v=e.targetChange.cause,C=v&&function(O){const $=void 0===O.code?_t.UNKNOWN:_v(O.code);return new Bt($,O.message||"")}(v);t=new pm(i,a,d,C||null)}else if("documentChange"in e){const i=e.documentChange,a=Hu(n,i.document.name),d=da(i.document.updateTime),v=new ua({mapValue:{fields:i.document.fields}}),C=ls.newFoundDocument(a,d,v);t=new pf(i.targetIds||[],i.removedTargetIds||[],C.key,C)}else if("documentDelete"in e){const i=e.documentDelete,a=Hu(n,i.document),d=i.readTime?da(i.readTime):ur.min(),v=ls.newNoDocument(a,d);t=new pf([],i.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const i=e.documentRemove,a=Hu(n,i.document);t=new pf([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return We();{const i=e.filter,d=new Ub(i.count||0);t=new qg(i.targetId,d)}}var O;return t}(this.It,e),i=function(a){if(!("targetChange"in a))return ur.min();const d=a.targetChange;return d.targetIds&&d.targetIds.length?ur.min():d.readTime?da(d.readTime):ur.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=gf(this.It),t.addTarget=function(a,d){let v;const C=d.target;return v=hp(C)?{documents:Kb(a,C)}:{query:Tv(a,C)},v.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?v.resumeToken=Gb(a,d.resumeToken):d.snapshotVersion.compareTo(ur.min())>0&&(v.readTime=Th(a,d.snapshotVersion.toTimestamp())),v}(this.It,e);const i=function qC(n,e){const t=function(i,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return We()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=gf(this.It),t.removeTarget=e,this.Bo(t)}}class r0 extends F_{constructor(e,t,i,a,d,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,v),this.It=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function KC(n,e){return n&&n.length>0?(yt(void 0!==e),n.map(t=>function(i,a){let d=da(i.updateTime?i.updateTime:a);return d.isEqual(ur.min())&&(d=da(a)),new Bb(d,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=da(e.commitTime);return this.listener.Zo(i,t)}return yt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=gf(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>_m(this.It,i))};this.Bo(t)}}class s0 extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.It=a,this.nu=!1}su(){if(this.nu)throw new Bt(_t.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.connection.ao(e,t,i,a,d)).catch(a=>{throw"FirebaseError"===a.name?(a.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Bt(_t.UNKNOWN,a.toString())})}_o(e,t,i,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,v])=>this.connection._o(e,t,i,d,v,a)).catch(d=>{throw"FirebaseError"===d.name?(d.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Bt(_t.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class XC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(T(t),this.ou=!1):g("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class pE{constructor(e,t,i,a,d){var v=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.qr(C=>{i.enqueueAndForget((0,nn.Z)(function*(){var O;cu(v)&&(g("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,nn.Z)(function*($){const ne=Gt($);ne._u.add(4),yield Pf(ne),ne.gu.set("Unknown"),ne._u.delete(4),yield Mp(ne)}),function($){return O.apply(this,arguments)})(v))}))}),this.gu=new XC(i,a)}}function Mp(n){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,nn.Z)(function*(n){if(cu(n))for(const e of n.wu)yield e(!0)}),Bm.apply(this,arguments)}function Pf(n){return lo.apply(this,arguments)}function lo(){return lo=(0,nn.Z)(function*(n){for(const e of n.wu)yield e(!1)}),lo.apply(this,arguments)}function xp(n,e){const t=Gt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Vm(t)?V_(t):zu(t).ko()&&L_(t,e))}function Rp(n,e){const t=Gt(n),i=zu(t);t.du.delete(e),i.ko()&&B_(t,e),0===t.du.size&&(i.ko()?i.Fo():cu(t)&&t.gu.set("Unknown"))}function L_(n,e){n.yu.Mt(e.targetId),zu(n).zo(e)}function B_(n,e){n.yu.Mt(e),zu(n).Ho(e)}function V_(n){n.yu=new Cv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),zu(n).start(),n.gu.uu()}function Vm(n){return cu(n)&&!zu(n).No()&&n.du.size>0}function cu(n){return 0===Gt(n)._u.size}function Lh(n){n.yu=void 0}function mE(n){return U_.apply(this,arguments)}function U_(){return U_=(0,nn.Z)(function*(n){n.du.forEach((e,t)=>{L_(n,e)})}),U_.apply(this,arguments)}function a0(n,e){return H_.apply(this,arguments)}function H_(){return H_=(0,nn.Z)(function*(n,e){Lh(n),Vm(n)?(n.gu.hu(e),V_(n)):n.gu.set("Unknown")}),H_.apply(this,arguments)}function l0(n,e,t){return c0.apply(this,arguments)}function c0(){return c0=(0,nn.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof pm&&2===e.state&&e.cause)try{yield(i=(0,nn.Z)(function*(a,d){const v=d.cause;for(const C of d.targetIds)a.du.has(C)&&(yield a.remoteSyncer.rejectListen(C,v),a.du.delete(C),a.yu.removeTarget(C))}),function(a,d){return i.apply(this,arguments)})(n,e)}catch(i){g("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Nf(n,i)}else if(e instanceof pf?n.yu.Gt(e):e instanceof qg?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(ur.min()))try{const i=yield S_(n.localStore);t.compareTo(i)>=0&&(yield function(a,d){const v=a.yu.te(d);return v.targetChanges.forEach((C,O)=>{if(C.resumeToken.approximateByteSize()>0){const $=a.du.get(O);$&&a.du.set(O,$.withResumeToken(C.resumeToken,d))}}),v.targetMismatches.forEach(C=>{const O=a.du.get(C);if(!O)return;a.du.set(C,O.withResumeToken(Co.EMPTY_BYTE_STRING,O.snapshotVersion)),B_(a,C);const $=new su(O.target,C,1,O.sequenceNumber);L_(a,$)}),a.remoteSyncer.applyRemoteEvent(v)}(n,t))}catch(i){g("RemoteStore","Failed to raise snapshot:",i),yield Nf(n,i)}var i}),c0.apply(this,arguments)}function Nf(n,e,t){return kp.apply(this,arguments)}function kp(){return kp=(0,nn.Z)(function*(n,e,t){if(!Xc(e))throw e;n._u.add(1),yield Pf(n),n.gu.set("Offline"),t||(t=()=>S_(n.localStore)),n.asyncQueue.enqueueRetryable((0,nn.Z)(function*(){g("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Mp(n)}))}),kp.apply(this,arguments)}function Nc(n,e){return e().catch(t=>Nf(n,t,e))}function Ff(n){return j_.apply(this,arguments)}function j_(){return j_=(0,nn.Z)(function*(n){const e=Gt(n),t=Ld(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;uu(e);)try{const a=yield Qv(e.localStore,i);if(null===a){0===e.fu.length&&t.Fo();break}i=a.batchId,Fc(e,a)}catch(a){yield Nf(e,a)}fc(e)&&$_(e)}),j_.apply(this,arguments)}function uu(n){return cu(n)&&n.fu.length<10}function Fc(n,e){n.fu.push(e);const t=Ld(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function fc(n){return cu(n)&&!Ld(n).No()&&n.fu.length>0}function $_(n){Ld(n).start()}function u0(n){return G_.apply(this,arguments)}function G_(){return G_=(0,nn.Z)(function*(n){Ld(n).eu()}),G_.apply(this,arguments)}function gE(n){return z_.apply(this,arguments)}function z_(){return z_=(0,nn.Z)(function*(n){const e=Ld(n);for(const t of n.fu)e.Xo(t.mutations)}),z_.apply(this,arguments)}function _E(n,e,t){return Op.apply(this,arguments)}function Op(){return Op=(0,nn.Z)(function*(n,e,t){const i=n.fu.shift(),a=Nv.from(i,e,t);yield Nc(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Ff(n)}),Op.apply(this,arguments)}function Pp(n,e){return W_.apply(this,arguments)}function W_(){return W_=(0,nn.Z)(function*(n,e){var t;e&&Ld(n).Yo&&(yield(t=(0,nn.Z)(function*(i,a){if(Kg(d=a.code)&&d!==_t.ABORTED){const v=i.fu.shift();Ld(i).Mo(),yield Nc(i,()=>i.remoteSyncer.rejectFailedWrite(v.batchId,a)),yield Ff(i)}var d}),function(i,a){return t.apply(this,arguments)})(n,e)),fc(n)&&$_(n)}),W_.apply(this,arguments)}function K_(n,e){return q_.apply(this,arguments)}function q_(){return q_=(0,nn.Z)(function*(n,e){const t=Gt(n);t.asyncQueue.verifyOperationInProgress(),g("RemoteStore","RemoteStore received new credentials");const i=cu(t);t._u.add(3),yield Pf(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Mp(t)}),q_.apply(this,arguments)}function Um(n,e){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,nn.Z)(function*(n,e){const t=Gt(n);e?(t._u.delete(2),yield Mp(t)):e||(t._u.add(2),yield Pf(t),t.gu.set("Unknown"))}),Hm.apply(this,arguments)}function zu(n){return n.pu||(n.pu=function(e,t,i){const a=Gt(e);return a.su(),new n0(t,a.connection,a.authCredentials,a.appCheckCredentials,a.It,i)}(n.datastore,n.asyncQueue,{Yr:mE.bind(null,n),Zr:a0.bind(null,n),Wo:l0.bind(null,n)}),n.wu.push(function(){var e=(0,nn.Z)(function*(t){t?(n.pu.Mo(),Vm(n)?V_(n):n.gu.set("Unknown")):(yield n.pu.stop(),Lh(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ld(n){return n.Iu||(n.Iu=function(e,t,i){const a=Gt(e);return a.su(),new r0(t,a.connection,a.authCredentials,a.appCheckCredentials,a.It,i)}(n.datastore,n.asyncQueue,{Yr:u0.bind(null,n),Zr:Pp.bind(null,n),tu:gE.bind(null,n),Zo:_E.bind(null,n)}),n.wu.push(function(){var e=(0,nn.Z)(function*(t){t?(n.Iu.Mo(),yield Ff(n)):(yield n.Iu.stop(),n.fu.length>0&&(g("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class jm{constructor(e,t,i,a,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=d,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,t,i,a,d){const v=Date.now()+i,C=new jm(e,t,v,a,d);return C.start(i),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bt(_t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bh(n,e){if(T("AsyncQueue",`${e}: ${n}`),Xc(n))return new Bt(_t.UNAVAILABLE,`${e}: ${n}`);throw n}class Bd{constructor(e){this.comparator=e?(t,i)=>e(t,i)||kn.comparator(t.key,i.key):(t,i)=>kn.comparator(t.key,i.key),this.keyedMap=wh(),this.sortedSet=new Ki(this.comparator)}static emptySet(e){return new Bd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=i.getNext().key;if(!a.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Bd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Np{constructor(){this.Tu=new Ki(kn.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):We():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Vd{constructor(e,t,i,a,d,v,C,O,$){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=d,this.fromCache=v,this.syncStateChanged=C,this.excludesMetadataChanges=O,this.hasCachedResults=$}static fromInitialDocuments(e,t,i,a,d){const v=[];return t.forEach(C=>{v.push({type:0,doc:C})}),new Vd(e,t,Bd.emptySet(t),v,i,a,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class d0{constructor(){this.Au=void 0,this.listeners=[]}}class h0{constructor(){this.queries=new Vu(e=>av(e),mp),this.onlineState="Unknown",this.Ru=new Set}}function $m(n,e){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,nn.Z)(function*(n,e){const t=Gt(n),i=e.query;let a=!1,d=t.queries.get(i);if(d||(a=!0,d=new d0),a)try{d.Au=yield t.onListen(i)}catch(v){const C=Bh(v,`Initialization of query '${cm(e.query)}' failed`);return void e.onError(C)}t.queries.set(i,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&Y_(t)}),Gm.apply(this,arguments)}function zm(n,e){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,nn.Z)(function*(n,e){const t=Gt(n),i=e.query;let a=!1;const d=t.queries.get(i);if(d){const v=d.listeners.indexOf(e);v>=0&&(d.listeners.splice(v,1),a=0===d.listeners.length)}if(a)return t.queries.delete(i),t.onUnlisten(i)}),Wm.apply(this,arguments)}function f0(n,e){const t=Gt(n);let i=!1;for(const a of e){const v=t.queries.get(a.query);if(v){for(const C of v.listeners)C.Pu(a)&&(i=!0);v.Au=a}}i&&Y_(t)}function p0(n,e,t){const i=Gt(n),a=i.queries.get(e);if(a)for(const d of a.listeners)d.onError(t);i.queries.delete(e)}function Y_(n){n.Ru.forEach(e=>{e.next()})}class Z_{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new Vd(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Vd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class yE{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class m0{constructor(e){this.It=e}Ji(e){return Hu(this.It,e)}Yi(e){return e.metadata.exists?gm(this.It,e.document,!1):ls.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return da(e)}}class vE{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=g0(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=ni.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new m0(this.It);for(const a of e)if(a.metadata.queries){const d=i.Ji(a.metadata.name);for(const v of a.metadata.queries){const C=(t.get(v)||_r()).add(d);t.set(v,C)}}return t}complete(){var e=this;return(0,nn.Z)(function*(){const t=yield function A_(n,e,t,i){return M_.apply(this,arguments)}(e.localStore,new m0(e.It),e.documents,e.Mu.id),i=e.$u(e.documents);for(const a of e.queries)yield Pm(e.localStore,a,i.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function g0(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _0{constructor(e){this.key=e}}class y0{constructor(e){this.key=e}}class v0{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=_r(),this.mutatedKeys=_r(),this.Gu=cv(e),this.Qu=new Bd(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new Np,a=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,v=a,C=!1;const O="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,$="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ne,Ae)=>{const gt=a.get(ne),Rt=Lg(this.query,Ae)?Ae:null,kt=!!gt&&this.mutatedKeys.has(gt.key),cn=!!Rt&&(Rt.hasLocalMutations||this.mutatedKeys.has(Rt.key)&&Rt.hasCommittedMutations);let _n=!1;gt&&Rt?gt.data.isEqual(Rt.data)?kt!==cn&&(i.track({type:3,doc:Rt}),_n=!0):this.Hu(gt,Rt)||(i.track({type:2,doc:Rt}),_n=!0,(O&&this.Gu(Rt,O)>0||$&&this.Gu(Rt,$)<0)&&(C=!0)):!gt&&Rt?(i.track({type:0,doc:Rt}),_n=!0):gt&&!Rt&&(i.track({type:1,doc:gt}),_n=!0,(O||$)&&(C=!0)),_n&&(Rt?(v=v.add(Rt),d=cn?d.add(ne):d.delete(ne)):(v=v.delete(ne),d=d.delete(ne)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const ne="F"===this.query.limitType?v.last():v.first();v=v.delete(ne.key),d=d.delete(ne.key),i.track({type:1,doc:ne})}return{Qu:v,zu:i,$i:C,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const a=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Eu();d.sort(($,ne)=>function(Ae,gt){const Rt=kt=>{switch(kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return Rt(Ae)-Rt(gt)}($.type,ne.type)||this.Gu($.doc,ne.doc)),this.Ju(i);const v=t?this.Yu():[],C=0===this.Ku.size&&this.current?1:0,O=C!==this.qu;return this.qu=C,0!==d.length||O?{snapshot:new Vd(this.query,e.Qu,a,d,e.mutatedKeys,0===C,O,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:v}:{Xu:v}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Np,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=_r(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new y0(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new _0(i))}),t}tc(e){this.Uu=e.Hi,this.Ku=_r();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Vd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class bE{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class EE{constructor(e){this.key=e,this.nc=!1}}class CE{constructor(e,t,i,a,d,v){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=d,this.maxConcurrentLimboResolutions=v,this.sc={},this.ic=new Vu(C=>av(C),mp),this.rc=new Map,this.oc=new Set,this.uc=new Ki(kn.comparator),this.cc=new Map,this.ac=new kh,this.hc={},this.lc=new Map,this.fc=Rh.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function wE(n,e){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,nn.Z)(function*(n,e){const t=uy(n);let i,a;const d=t.ic.get(e);if(d)i=d.targetId,t.sharedClientState.addLocalQueryTarget(i),a=d.view.ec();else{const v=yield Sf(t.localStore,El(e));t.isPrimaryClient&&xp(t.remoteStore,v);const C=t.sharedClientState.addLocalQueryTarget(v.targetId);i=v.targetId,a=yield X_(t,e,i,"current"===C,v.resumeToken)}return a}),Q_.apply(this,arguments)}function X_(n,e,t,i,a){return J_.apply(this,arguments)}function J_(){return J_=(0,nn.Z)(function*(n,e,t,i,a){n._c=(Ae,gt,Rt)=>{return(kt=(0,nn.Z)(function*(cn,_n,sr,xr){let Er=_n.view.Wu(sr);Er.$i&&(Er=yield Af(cn.localStore,_n.query,!1).then(({documents:Br})=>_n.view.Wu(Br,Er)));const qr=xr&&xr.targetChanges.get(_n.targetId),Lr=_n.view.applyChanges(Er,cn.isPrimaryClient,qr);return Qm(cn,_n.targetId,Lr.Xu),Lr.snapshot}),function(cn,_n,sr,xr){return kt.apply(this,arguments)})(n,Ae,gt,Rt);var kt};const d=yield Af(n.localStore,e,!0),v=new v0(e,d.Hi),C=v.Wu(d.documents),O=tc.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,a),$=v.applyChanges(C,n.isPrimaryClient,O);Qm(n,t,$.Xu);const ne=new bE(e,t,v);return n.ic.set(e,ne),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),$.snapshot}),J_.apply(this,arguments)}function DE(n,e){return Km.apply(this,arguments)}function Km(){return Km=(0,nn.Z)(function*(n,e){const t=Gt(n),i=t.ic.get(e),a=t.rc.get(i.targetId);if(a.length>1)return t.rc.set(i.targetId,a.filter(d=>!mp(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Fh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Rp(t.remoteStore,i.targetId),Hd(t,i.targetId)}).catch(ws))):(Hd(t,i.targetId),yield Fh(t.localStore,i.targetId,!0))}),Km.apply(this,arguments)}function qm(){return qm=(0,nn.Z)(function*(n,e,t){const i=dy(n);try{const a=yield function(d,v){const C=Gt(d),O=os.now(),$=v.reduce((gt,Rt)=>gt.add(Rt.key),_r());let ne,Ae;return C.persistence.runTransaction("Locally write mutations","readwrite",gt=>{let Rt=nl(),kt=_r();return C.Gi.getEntries(gt,$).next(cn=>{Rt=cn,Rt.forEach((_n,sr)=>{sr.isValidDocument()||(kt=kt.add(_n))})}).next(()=>C.localDocuments.getOverlayedDocuments(gt,Rt)).next(cn=>{ne=cn;const _n=[];for(const sr of v){const xr=Vb(sr,ne.get(sr.key).overlayedDocument);null!=xr&&_n.push(new ru(sr.key,xr,xg(xr.value.mapValue),Ps.exists(!0)))}return C.mutationQueue.addMutationBatch(gt,O,_n,v)}).next(cn=>{Ae=cn;const _n=cn.applyToLocalDocumentSet(ne,kt);return C.documentOverlayCache.saveOverlays(gt,cn.batchId,_n)})}).then(()=>({batchId:Ae.batchId,changes:vv(ne)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(d,v,C){let O=d.hc[d.currentUser.toKey()];O||(O=new Ki(gr)),O=O.insert(v,C),d.hc[d.currentUser.toKey()]=O}(i,a.batchId,t),yield nr(i,a.changes),yield Ff(i.remoteStore)}catch(a){const d=Bh(a,"Failed to persist write");t.reject(d)}}),qm.apply(this,arguments)}function ey(n,e){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,nn.Z)(function*(n,e){const t=Gt(n);try{const i=yield hE(t.localStore,e);e.targetChanges.forEach((a,d)=>{const v=t.cc.get(d);v&&(yt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?v.nc=!0:a.modifiedDocuments.size>0?yt(v.nc):a.removedDocuments.size>0&&(yt(v.nc),v.nc=!1))}),yield nr(t,i,e)}catch(i){yield ws(i)}}),Ym.apply(this,arguments)}function ty(n,e,t){const i=Gt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.ic.forEach((d,v)=>{const C=v.view.bu(e);C.snapshot&&a.push(C.snapshot)}),function(d,v){const C=Gt(d);C.onlineState=v;let O=!1;C.queries.forEach(($,ne)=>{for(const Ae of ne.listeners)Ae.bu(v)&&(O=!0)}),O&&Y_(C)}(i.eventManager,e),a.length&&i.sc.Wo(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function E0(n,e,t){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,nn.Z)(function*(n,e,t){const i=Gt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.cc.get(e),d=a&&a.key;if(d){let v=new Ki(kn.comparator);v=v.insert(d,ls.newNoDocument(d,ur.min()));const C=_r().add(d),O=new Ih(ur.min(),new Map,new Pi(gr),v,C);yield ey(i,O),i.uc=i.uc.remove(d),i.cc.delete(e),I0(i)}else yield Fh(i.localStore,e,!1).then(()=>Hd(i,e,t)).catch(ws)}),Zm.apply(this,arguments)}function C0(n,e){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,nn.Z)(function*(n,e){const t=Gt(n),i=e.batch.batchId;try{const a=yield Yv(t.localStore,e);w0(t,i,null),Ud(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield nr(t,a)}catch(a){yield ws(a)}}),Fp.apply(this,arguments)}function ny(n,e,t){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,nn.Z)(function*(n,e,t){const i=Gt(n);try{const a=yield function(d,v){const C=Gt(d);return C.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let $;return C.mutationQueue.lookupMutationBatch(O,v).next(ne=>(yt(null!==ne),$=ne.keys(),C.mutationQueue.removeMutationBatch(O,ne))).next(()=>C.mutationQueue.performConsistencyCheck(O)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(O,$,v)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,$)).next(()=>C.localDocuments.getDocuments(O,$))})}(i.localStore,e);w0(i,e,t),Ud(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield nr(i,a)}catch(a){yield ws(a)}}),Wu.apply(this,arguments)}function ry(){return ry=(0,nn.Z)(function*(n,e){const t=Gt(n);cu(t.remoteStore)||g("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(d){const v=Gt(d);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>v.mutationQueue.getHighestUnacknowledgedBatchId(C))}(t.localStore);if(-1===i)return void e.resolve();const a=t.lc.get(i)||[];a.push(e),t.lc.set(i,a)}catch(i){const a=Bh(i,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),ry.apply(this,arguments)}function Ud(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function w0(n,e,t){const i=Gt(n);let a=i.hc[i.currentUser.toKey()];if(a){const d=a.get(e);d&&(t?d.reject(t):d.resolve(),a=a.remove(e)),i.hc[i.currentUser.toKey()]=a}}function Hd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||TE(n,i)})}function TE(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Rp(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),I0(n))}function Qm(n,e,t){for(const i of t)i instanceof _0?(n.ac.addReference(i.key,e),D0(n,i)):i instanceof y0?(g("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||TE(n,i.key)):We()}function D0(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(g("SyncEngine","New document in limbo: "+t),n.oc.add(i),I0(n))}function I0(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new kn(ni.fromString(e)),i=n.fc.next();n.cc.set(i,new EE(t)),n.uc=n.uc.insert(t,i),xp(n.remoteStore,new su(El(gh(t.path)),i,2,Na.at))}}function nr(n,e,t){return iy.apply(this,arguments)}function iy(){return iy=(0,nn.Z)(function*(n,e,t){const i=Gt(n),a=[],d=[],v=[];var C;i.ic.isEmpty()||(i.ic.forEach((C,O)=>{v.push(i._c(O,e,t).then($=>{if(($||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(O.targetId,$?.fromCache?"not-current":"current"),$){a.push($);const ne=km.Ci(O.targetId,$);d.push(ne)}}))}),yield Promise.all(v),i.sc.Wo(a),yield(C=(0,nn.Z)(function*(O,$){const ne=Gt(O);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ae=>At.forEach($,gt=>At.forEach(gt.Si,Rt=>ne.persistence.referenceDelegate.addReference(Ae,gt.targetId,Rt)).next(()=>At.forEach(gt.Di,Rt=>ne.persistence.referenceDelegate.removeReference(Ae,gt.targetId,Rt)))))}catch(Ae){if(!Xc(Ae))throw Ae;g("LocalStore","Failed to update sequence numbers: "+Ae)}for(const Ae of $){const gt=Ae.targetId;if(!Ae.fromCache){const Rt=ne.Ui.get(gt),cn=Rt.withLastLimboFreeSnapshotVersion(Rt.snapshotVersion);ne.Ui=ne.Ui.insert(gt,cn)}}}),function(O,$){return C.apply(this,arguments)})(i.localStore,d))}),iy.apply(this,arguments)}function SE(n,e){return sy.apply(this,arguments)}function sy(){return sy=(0,nn.Z)(function*(n,e){const t=Gt(n);if(!t.currentUser.isEqual(e)){g("SyncEngine","User change. New user:",e.toKey());const i=yield T_(t.localStore,e);t.currentUser=e,(a=t).lc.forEach(v=>{v.forEach(C=>{C.reject(new Bt(_t.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield nr(t,i.ji)}var a}),sy.apply(this,arguments)}function Lf(n,e){const t=Gt(n),i=t.cc.get(e);if(i&&i.nc)return _r().add(i.key);{let a=_r();const d=t.rc.get(e);if(!d)return a;for(const v of d){const C=t.ic.get(v);a=a.unionWith(C.view.ju)}return a}}function AE(n,e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,nn.Z)(function*(n,e){const t=Gt(n),i=yield Af(t.localStore,e.query,!0),a=e.view.tc(i);return t.isPrimaryClient&&Qm(t,e.targetId,a.Xu),a}),Bf.apply(this,arguments)}function Xm(n,e){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,nn.Z)(function*(n,e){const t=Gt(n);return Dp(t.localStore,e).then(i=>nr(t,i))}),Ds.apply(this,arguments)}function JC(n,e,t,i){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,nn.Z)(function*(n,e,t,i){const a=Gt(n),d=yield function(v,C){const O=Gt(v),$=Gt(O.mutationQueue);return O.persistence.runTransaction("Lookup mutation documents","readonly",ne=>$.Tn(ne,C).next(Ae=>Ae?O.localDocuments.getDocuments(ne,Ae):At.resolve(null)))}(a.localStore,e);var C;null!==d?("pending"===t?yield Ff(a.remoteStore):"acknowledged"===t||"rejected"===t?(w0(a,e,i||null),Ud(a,e),C=e,Gt(Gt(a.localStore).mutationQueue).An(C)):We(),yield nr(a,d)):g("SyncEngine","Cannot apply mutation batch with id: "+e)}),Jm.apply(this,arguments)}function oy(){return oy=(0,nn.Z)(function*(n,e){const t=Gt(n);if(uy(t),dy(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),a=yield ay(t,i.toArray());t.dc=!0,yield Um(t.remoteStore,!0);for(const d of a)xp(t.remoteStore,d)}else if(!1===e&&!1!==t.dc){const i=[];let a=Promise.resolve();t.rc.forEach((d,v)=>{t.sharedClientState.isLocalQueryTarget(v)?i.push(v):a=a.then(()=>(Hd(t,v),Fh(t.localStore,v,!0))),Rp(t.remoteStore,v)}),yield a,yield ay(t,i),function(d){const v=Gt(d);v.cc.forEach((C,O)=>{Rp(v.remoteStore,O)}),v.ac.fs(),v.cc=new Map,v.uc=new Ki(kn.comparator)}(t),t.dc=!1,yield Um(t.remoteStore,!1)}}),oy.apply(this,arguments)}function ay(n,e,t){return eg.apply(this,arguments)}function eg(){return eg=(0,nn.Z)(function*(n,e,t){const i=Gt(n),a=[],d=[];for(const v of e){let C;const O=i.rc.get(v);if(O&&0!==O.length){C=yield Sf(i.localStore,El(O[0]));for(const $ of O){const ne=i.ic.get($),Ae=yield AE(i,ne);Ae.snapshot&&d.push(Ae.snapshot)}}else{const $=yield Xv(i.localStore,v);C=yield Sf(i.localStore,$),yield X_(i,ly($),v,!1,C.resumeToken)}a.push(C)}return i.sc.Wo(d),a}),eg.apply(this,arguments)}function ly(n){return sv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function S0(n){const e=Gt(n);return Gt(Gt(e.localStore).persistence).vi()}function ME(n,e,t,i){return cy.apply(this,arguments)}function cy(){return cy=(0,nn.Z)(function*(n,e,t,i){const a=Gt(n);if(a.dc)return void g("SyncEngine","Ignoring unexpected query state notification.");const d=a.rc.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const v=yield Dp(a.localStore,lv(d[0])),C=Ih.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Co.EMPTY_BYTE_STRING);yield nr(a,v,C);break}case"rejected":yield Fh(a.localStore,e,!0),Hd(a,e,i);break;default:We()}}),cy.apply(this,arguments)}function xE(n,e,t){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,nn.Z)(function*(n,e,t){const i=uy(n);if(i.dc){for(const a of e){if(i.rc.has(a)){g("SyncEngine","Adding an already active target "+a);continue}const d=yield Xv(i.localStore,a),v=yield Sf(i.localStore,d);yield X_(i,ly(d),v.targetId,!1,v.resumeToken),xp(i.remoteStore,v)}for(const a of t)i.rc.has(a)&&(yield Fh(i.localStore,a,!1).then(()=>{Rp(i.remoteStore,a),Hd(i,a)}).catch(ws))}}),Vh.apply(this,arguments)}function uy(n){const e=Gt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ey.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E0.bind(null,e),e.sc.Wo=f0.bind(null,e.eventManager),e.sc.wc=p0.bind(null,e.eventManager),e}function dy(n){const e=Gt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ny.bind(null,e),e}class Lp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,nn.Z)(function*(){t.It=Of(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return I_(this.persistence,new D_,e.initialUser,this.It)}yc(e){return new Ph($u.Bs,this.It)}gc(e){return new O_}terminate(){var e=this;return(0,nn.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hy extends Lp{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,nn.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield dy(i.Ac.syncEngine),yield Ff(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return I_(this.persistence,new D_,e.initialUser,this.It)}Tc(e,t){return new oE(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new sm(t,this.persistence);return new Ag(e.asyncQueue,i)}yc(e){const t=Rm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ll.withCacheSize(this.cacheSizeBytes):Ll.DEFAULT;return new Fd(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,N_(),kf(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new O_}}class A0 extends hy{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,nn.Z)(function*(){yield t().call(i,e);const a=i.Ac.syncEngine;i.sharedClientState instanceof Nm&&(i.sharedClientState.syncEngine={Fr:JC.bind(null,a),$r:ME.bind(null,a),Br:xE.bind(null,a),vi:S0.bind(null,a),Mr:Xm.bind(null,a)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var d=(0,nn.Z)(function*(v){yield function T0(n,e){return oy.apply(this,arguments)}(i.Ac.syncEngine,v),i.gcScheduler&&(v&&!i.gcScheduler.started?i.gcScheduler.start():v||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(v&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():v||i.indexBackfillerScheduler.stop())});return function(v){return d.apply(this,arguments)}}())})()}gc(e){const t=N_();if(!Nm.C(t))throw new Bt(_t.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Rm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Nm(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class tg{initialize(e,t){var i=this;return(0,nn.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>ty(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=SE.bind(null,i.syncEngine),yield Um(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new h0}createDatastore(e){const t=Of(e.databaseInfo.databaseId),i=new t0(e.databaseInfo);return new s0(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,a=e.asyncQueue,d=C=>ty(this.syncEngine,C,0),v=P_.C()?new P_:new Jv,new pE(t,i,a,d,v);var t,i,a,d,v}createSyncEngine(e,t){return function(i,a,d,v,C,O,$){const ne=new CE(i,a,d,v,C,O);return $&&(ne.dc=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,nn.Z)(function*(t){const i=Gt(t);g("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Pf(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function fy(n,e,t){if(!t)throw new Bt(_t.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Vf(n,e,t,i){if(!0===e&&!0===i)throw new Bt(_t.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Uf(n){if(!kn.isDocumentKey(n))throw new Bt(_t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function M0(n){if(kn.isDocumentKey(n))throw new Bt(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ng(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":We()}function ai(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Bt(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ng(n);throw new Bt(_t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function py(n,e){if(e<=0)throw new Bt(_t.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const my=new Map;class gy{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Bt(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bt(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Vf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bp{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Bt(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bt(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gy(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Oa;switch(t.type){case"gapi":return new rp(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Bt(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=my.get(e);t&&(g("ComponentProvider","Removing Datastore"),my.delete(e),t.terminate())}(this),Promise.resolve()}}class ps{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ps(this.firestore,e,this._key)}}class rl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new rl(this.firestore,e,this._query)}}class Ku extends rl{constructor(e,t,i){super(e,t,gh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ps(this.firestore,null,new kn(e))}withConverter(e){return new Ku(this.firestore,e,this._path)}}function kE(n,e,...t){if(n=(0,ei.m9)(n),fy("collection","path",e),n instanceof Bp){const i=ni.fromString(e,...t);return M0(i),new Ku(n,null,i)}{if(!(n instanceof ps||n instanceof Ku))throw new Bt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ni.fromString(e,...t));return M0(i),new Ku(n.firestore,null,i)}}function yy(n,e,...t){if(n=(0,ei.m9)(n),1===arguments.length&&(e=wd.R()),fy("doc","path",e),n instanceof Bp){const i=ni.fromString(e,...t);return Uf(i),new ps(n,null,new kn(i))}{if(!(n instanceof ps||n instanceof Ku))throw new Bt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ni.fromString(e,...t));return Uf(i),new ps(n.firestore,n instanceof Ku?n.converter:null,new kn(i))}}function vy(n,e){return n=(0,ei.m9)(n),e=(0,ei.m9)(e),(n instanceof ps||n instanceof Ku)&&(e instanceof ps||e instanceof Ku)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Hf(n,e){return n=(0,ei.m9)(n),e=(0,ei.m9)(e),n instanceof rl&&e instanceof rl&&n.firestore===e.firestore&&mp(n._query,e._query)&&n.converter===e.converter}function x0(n,e=10240){let t=0;return{read:()=>(0,nn.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,nn.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class rg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):T("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class R0{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Gr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,nn.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,nn.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,nn.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),a=Number(i);isNaN(a)&&e.Dc(`length string (${i}) is not valid number`);const d=yield e.Cc(a);return new yE(JSON.parse(d),t.length+a)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,nn.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,nn.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,nn.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class NE{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,nn.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Bt(_t.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(a=(0,nn.Z)(function*(d,v){const C=Gt(d),O=gf(C.It)+"/documents",$={documents:v.map(Rt=>mf(C.It,Rt))},ne=yield C._o("BatchGetDocuments",O,$,v.length),Ae=new Map;ne.forEach(Rt=>{const kt=function zC(n,e){return"found"in e?function(t,i){yt(!!i.found);const a=Hu(t,i.found.name),d=da(i.found.updateTime),v=new ua({mapValue:{fields:i.found.fields}});return ls.newFoundDocument(a,d,v)}(n,e):"missing"in e?function(t,i){yt(!!i.missing),yt(!!i.readTime);const a=Hu(t,i.missing),d=da(i.readTime);return ls.newNoDocument(a,d)}(n,e):We()}(C.It,Rt);Ae.set(kt.key.toString(),kt)});const gt=[];return v.forEach(Rt=>{const kt=Ae.get(Rt.toString());yt(!!kt),gt.push(kt)}),gt}),function(d,v){return a.apply(this,arguments)})(t.datastore,e);var a;return i.forEach(a=>t.recordVersion(a)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new hf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,nn.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,a)=>{const d=kn.fromPath(a);e.mutations.push(new Wg(d,e.precondition(d)))}),yield(i=(0,nn.Z)(function*(a,d){const v=Gt(a),C=gf(v.It)+"/documents",O={writes:d.map($=>_m(v.It,$))};yield v.ao("Commit",C,O)}),function(a,d){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw We();t=ur.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Bt(_t.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ur.min())?Ps.exists(!1):Ps.updateTime(t):Ps.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ur.min()))throw new Bt(_t.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ps.updateTime(t)}return Ps.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class FE{constructor(e,t,i,a,d){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=a,this.deferred=d,this.kc=i.maxAttempts,this.xo=new Fm(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,nn.Z)(function*(){const t=new NE(e.datastore),i=e.Mc(t);i&&i.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(d=>{e.Fc(d)}))}).catch(a=>{e.Fc(a)})}))}Mc(e){try{const t=this.updateFunction(e);return!tu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Kg(t)}return!1}}class LE{constructor(e,t,i,a){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Ks.UNAUTHENTICATED,this.clientId=wd.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var v=(0,nn.Z)(function*(C){g("FirestoreClient","Received user=",C.uid),yield d.authCredentialListener(C),d.user=C});return function(C){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(i,v=>(g("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,nn.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Bt(_t.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,nn.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Bh(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function by(n,e){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,nn.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),g("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,nn.Z)(function*(d){i.isEqual(d)||(yield T_(e.localStore,d),i=d)});return function(d){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Ey.apply(this,arguments)}function k0(n,e){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,nn.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Cy(n);g("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(a=>K_(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,d)=>K_(e.remoteStore,d)),n.onlineComponents=e}),Uh.apply(this,arguments)}function Cy(n){return sg.apply(this,arguments)}function sg(){return sg=(0,nn.Z)(function*(n){return n.offlineComponents||(g("FirestoreClient","Using default OfflineComponentProvider"),yield by(n,new Lp)),n.offlineComponents}),sg.apply(this,arguments)}function og(n){return ag.apply(this,arguments)}function ag(){return ag=(0,nn.Z)(function*(n){return n.onlineComponents||(g("FirestoreClient","Using default OnlineComponentProvider"),yield k0(n,new tg)),n.onlineComponents}),ag.apply(this,arguments)}function O0(n){return Cy(n).then(e=>e.persistence)}function Vp(n){return Cy(n).then(e=>e.localStore)}function wy(n){return og(n).then(e=>e.remoteStore)}function Up(n){return og(n).then(e=>e.syncEngine)}function Hh(n){return lg.apply(this,arguments)}function lg(){return lg=(0,nn.Z)(function*(n){const e=yield og(n),t=e.eventManager;return t.onListen=wE.bind(null,e.syncEngine),t.onUnlisten=DE.bind(null,e.syncEngine),t}),lg.apply(this,arguments)}function cg(n,e,t={}){const i=new Gr;return n.asyncQueue.enqueueAndForget((0,nn.Z)(function*(){return function(a,d,v,C,O){const $=new rg({next:Ae=>{d.enqueueAndForget(()=>zm(a,ne));const gt=Ae.docs.has(v);!gt&&Ae.fromCache?O.reject(new Bt(_t.UNAVAILABLE,"Failed to get document because the client is offline.")):gt&&Ae.fromCache&&C&&"server"===C.source?O.reject(new Bt(_t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):O.resolve(Ae)},error:Ae=>O.reject(Ae)}),ne=new Z_(gh(v.path),$,{includeMetadataChanges:!0,Nu:!0});return $m(a,ne)}(yield Hh(n),n.asyncQueue,e,t,i)})),i.promise}function Dy(n,e,t={}){const i=new Gr;return n.asyncQueue.enqueueAndForget((0,nn.Z)(function*(){return function(a,d,v,C,O){const $=new rg({next:Ae=>{d.enqueueAndForget(()=>zm(a,ne)),Ae.fromCache&&"server"===C.source?O.reject(new Bt(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):O.resolve(Ae)},error:Ae=>O.reject(Ae)}),ne=new Z_(v,$,{includeMetadataChanges:!0,Nu:!0});return $m(a,ne)}(yield Hh(n),n.asyncQueue,e,t,i)})),i.promise}class zE{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Fm(this,"async_queue_retry"),this.Wc=()=>{const t=kf();t&&g("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=kf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=kf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Gr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,nn.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Xc(t))throw t;g("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,T("INTERNAL UNHANDLED ERROR: ",function(d){let v=d.message||"";return d.stack&&(v=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),v}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const a=jm.createAndSchedule(this,e,t,i,d=>this.Yc(d));return this.qc.push(a),a}zc(){this.Kc&&We()}verifyOperationInProgress(){}Xc(){var e=this;return(0,nn.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Iy(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const a of["next","error","complete"])if(a in i&&"function"==typeof i[a])return!0;return!1}(n)}class WE{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ms extends Bp{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new zE,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||N0(this),this._firestoreClient.terminate()}}function co(n){return n._firestoreClient||N0(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function N0(n){var e;const t=n._freezeSettings(),i=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Mg(n._databaseId,d,n._persistenceKey,(C=t).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var d,C;n._firestoreClient=new LE(n._authCredentials,n._appCheckCredentials,n._queue,i)}function L0(n,e,t){const i=new Gr;return n.asyncQueue.enqueue((0,nn.Z)(function*(){try{yield by(n,t),yield k0(n,e),i.resolve()}catch(a){const d=a;if(!("FirebaseError"===(v=d).name?v.code===_t.FAILED_PRECONDITION||v.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw d;Q("Error enabling offline persistence. Falling back to persistence disabled: "+d),i.reject(d)}var v})).then(()=>i.promise)}function ug(n){if(n._initialized||n._terminated)throw new Bt(_t.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class du{constructor(e){this._byteString=e}static fromBase64String(e){try{return new du(Co.fromBase64String(e))}catch(t){throw new Bt(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new du(Co.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Bt(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jd{constructor(e){this._methodName=e}}class dg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bt(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bt(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gr(this._lat,e._lat)||gr(this._long,e._long)}}const tw=/^__.*__$/;class U0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ru(e,this.data,this.fieldMask,t,this.fieldTransforms):new df(e,this.data,t,this.fieldTransforms)}}class hg{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ru(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function H0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class jf{constructor(e,t,i,a,d,v){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=a,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=v||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new jf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:i,oa:!1});return a.ua(e),a}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:i,oa:!1});return a.na(),a}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return mg(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(H0(this.sa)&&tw.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class eC{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||Of(e)}da(e,t,i,a=!1){return new jf({sa:e,methodName:t,fa:i,path:Cs.emptyPath(),oa:!1,la:a},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function $d(n){const e=n._freezeSettings(),t=Of(n._databaseId);return new eC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $f(n,e,t,i,a,d={}){const v=n.da(d.merge||d.mergeFields?2:0,e,t,a);Oy("Data must be an object, but it was:",v,i);const C=ky(i,v);let O,$;if(d.merge)O=new bl(v.fieldMask),$=v.fieldTransforms;else if(d.mergeFields){const ne=[];for(const Ae of d.mergeFields){const gt=G0(e,Ae,t);if(!v.contains(gt))throw new Bt(_t.INVALID_ARGUMENT,`Field '${gt}' is specified in your field mask but missing from your input data.`);Py(ne,gt)||ne.push(gt)}O=new bl(ne),$=v.fieldTransforms.filter(Ae=>O.covers(Ae.field))}else O=null,$=v.fieldTransforms;return new U0(new ua(C),O,$)}class Gf extends jd{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gf}}function Ay(n,e,t){return new jf({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class fg extends jd{_toFieldTransform(e){return new Eh(e.path,new yh)}isEqual(e){return e instanceof fg}}class j0 extends jd{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Ay(this,e,!0),i=this._a.map(d=>zf(d,t)),a=new vh(i);return new Eh(e.path,a)}isEqual(e){return this===e}}class tC extends jd{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Ay(this,e,!0),i=this._a.map(d=>zf(d,t)),a=new uf(i);return new Eh(e.path,a)}isEqual(e){return this===e}}class nC extends jd{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new bh(e.It,Ug(e.It,this.wa));return new Eh(e.path,t)}isEqual(e){return this===e}}function My(n,e,t,i){const a=n.da(1,e,t);Oy("Data must be an object, but it was:",a,i);const d=[],v=ua.empty();Jc(i,(O,$)=>{const ne=pg(e,O,t);$=(0,ei.m9)($);const Ae=a.ca(ne);if($ instanceof Gf)d.push(ne);else{const gt=zf($,Ae);null!=gt&&(d.push(ne),v.set(ne,gt))}});const C=new bl(d);return new hg(v,C,a.fieldTransforms)}function xy(n,e,t,i,a,d){const v=n.da(1,e,t),C=[G0(e,i,t)],O=[a];if(d.length%2!=0)throw new Bt(_t.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let gt=0;gt<d.length;gt+=2)C.push(G0(e,d[gt])),O.push(d[gt+1]);const $=[],ne=ua.empty();for(let gt=C.length-1;gt>=0;--gt)if(!Py($,C[gt])){const Rt=C[gt];let kt=O[gt];kt=(0,ei.m9)(kt);const cn=v.ca(Rt);if(kt instanceof Gf)$.push(Rt);else{const _n=zf(kt,cn);null!=_n&&($.push(Rt),ne.set(Rt,_n))}}const Ae=new bl($);return new hg(ne,Ae,v.fieldTransforms)}function Ry(n,e,t,i=!1){return zf(t,n.da(i?4:3,e))}function zf(n,e){if($0(n=(0,ei.m9)(n)))return Oy("Unsupported field value:",e,n),ky(n,e);if(n instanceof jd)return function(t,i){if(!H0(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const a=[];let d=0;for(const v of t){let C=zf(v,i.aa(d));null==C&&(C={nullValue:"NULL_VALUE"}),a.push(C),d++}return{arrayValue:{values:a}}}(n,e)}return function(t,i){if(null===(t=(0,ei.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ug(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=os.fromDate(t);return{timestampValue:Th(i.It,a)}}if(t instanceof os){const a=new os(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Th(i.It,a)}}if(t instanceof dg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof du)return{bytesValue:Gb(i.It,t._byteString)};if(t instanceof ps){const a=i.databaseId,d=t.firestore._databaseId;if(!d.isEqual(a))throw i.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Qg(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${ng(t)}`)}(n,e)}function ky(n,e){const t={};return ap(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jc(n,(i,a)=>{const d=zf(a,e.ra(i));null!=d&&(t[i]=d)}),{mapValue:{fields:t}}}function $0(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof os||n instanceof dg||n instanceof du||n instanceof ps||n instanceof jd)}function Oy(n,e,t){if(!$0(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=ng(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function G0(n,e,t){if((e=(0,ei.m9)(e))instanceof hu)return e._internalPath;if("string"==typeof e)return pg(n,e);throw mg("Field path arguments must be of type string or ",n,!1,void 0,t)}const nw=new RegExp("[~\\*/\\[\\]]");function pg(n,e,t){if(e.search(nw)>=0)throw mg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hu(...e.split("."))._internalPath}catch{throw mg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mg(n,e,t,i,a){const d=i&&!i.isEmpty(),v=void 0!==a;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let O="";return(d||v)&&(O+=" (found",d&&(O+=` in field ${i}`),v&&(O+=` in document ${a}`),O+=")"),new Bt(_t.INVALID_ARGUMENT,C+n+O)}function Py(n,e){return n.some(t=>t.isEqual(e))}class Wf{constructor(e,t,i,a,d){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new ps(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rC extends Wf{data(){return super.data()}}function gg(n,e){return"string"==typeof e?pg(n,e):e instanceof hu?e._internalPath:e._delegate._internalPath}function z0(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Bt(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jp{}function Gd(n,...e){for(const t of e)n=t._apply(n);return n}class iC extends jp{constructor(e,t,i){super(),this.ma=e,this.ga=t,this.ya=i,this.type="where"}_apply(e){const t=$d(e.firestore),i=function(a,d,v,C,O,$,ne){let Ae;if(O.isKeyField()){if("array-contains"===$||"array-contains-any"===$)throw new Bt(_t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${$}' queries on documentId().`);if("in"===$||"not-in"===$){eb(ne,$);const Rt=[];for(const kt of ne)Rt.push(J0(C,a,kt));Ae={arrayValue:{values:Rt}}}else Ae=J0(C,a,ne)}else"in"!==$&&"not-in"!==$&&"array-contains-any"!==$||eb(ne,$),Ae=Ry(v,"where",ne,"in"===$||"not-in"===$);const gt=wo.create(O,$,Ae);return function(Rt,kt){if(kt.dt()){const _n=ec(Rt);if(null!==_n&&!_n.isEqual(kt.field))throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_n.toString()}' and '${kt.field.toString()}'`);const sr=Ng(Rt);null!==sr&&tb(0,kt.field,sr)}const cn=function(_n,sr){for(const xr of _n.filters)if(sr.indexOf(xr.op)>=0)return xr.op;return null}(Rt,function(_n){switch(_n){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(kt.op));if(null!==cn)throw new Bt(_t.INVALID_ARGUMENT,cn===kt.op?`Invalid query. You cannot use more than one '${kt.op.toString()}' filter.`:`Invalid query. You cannot use '${kt.op.toString()}' filters with '${cn.toString()}' filters.`)}(a,gt),gt}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new rl(e.firestore,e.converter,function(a,d){const v=a.filters.concat([d]);return new nu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),v,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,i))}}class oC extends jp{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(i,a,d){if(null!==i.startAt)throw new Bt(_t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Bt(_t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new mh(a,d);return function(C,O){if(null===Ng(C)){const $=ec(C);null!==$&&tb(0,$,O.field)}}(i,v),v}(e._query,this.ma,this.pa);return new rl(e.firestore,e.converter,function(i,a){const d=i.explicitOrderBy.concat([a]);return new nu(i.path,i.collectionGroup,d,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Ny extends jp{constructor(e,t,i){super(),this.type=e,this.Ia=t,this.Ta=i}_apply(e){return new rl(e.firestore,e.converter,lm(e._query,this.Ia,this.Ta))}}class Fy extends jp{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=X0(e,this.type,this.Ea,this.Aa);return new rl(e.firestore,e.converter,(a=t,new nu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)));var i,a}}class Z0 extends jp{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=X0(e,this.type,this.Ea,this.Aa);return new rl(e.firestore,e.converter,(a=t,new nu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)));var i,a}}function X0(n,e,t,i){if(t[0]=(0,ei.m9)(t[0]),t[0]instanceof Wf)return function(a,d,v,C,O){if(!C)throw new Bt(_t.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const $=[];for(const ne of _h(a))if(ne.field.isKeyField())$.push(jt(d,C.key));else{const Ae=C.data.field(ne.field);if(af(Ae))throw new Bt(_t.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ne.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ae){const gt=ne.field.canonicalString();throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${gt}' (used as the orderBy) does not exist.`)}$.push(Ae)}return new Sd($,O)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const a=$d(n.firestore);return function(d,v,C,O,$,ne){const Ae=d.explicitOrderBy;if($.length>Ae.length)throw new Bt(_t.INVALID_ARGUMENT,`Too many arguments provided to ${O}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const gt=[];for(let Rt=0;Rt<$.length;Rt++){const kt=$[Rt];if(Ae[Rt].field.isKeyField()){if("string"!=typeof kt)throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${O}(), but got a ${typeof kt}`);if(!Fg(d)&&-1!==kt.indexOf("/"))throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${O}() must be a plain document ID, but '${kt}' contains a slash.`);const cn=d.path.child(ni.fromString(kt));if(!kn.isDocumentKey(cn))throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${O}() must result in a valid document path, but '${cn}' is not because it contains an odd number of segments.`);const _n=new kn(cn);gt.push(jt(v,_n))}else{const cn=Ry(C,O,kt);gt.push(cn)}}return new Sd(gt,ne)}(n._query,n.firestore._databaseId,a,e,t,i)}}function J0(n,e,t){if("string"==typeof(t=(0,ei.m9)(t))){if(""===t)throw new Bt(_t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fg(e)&&-1!==t.indexOf("/"))throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ni.fromString(t));if(!kn.isDocumentKey(i))throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return jt(n,new kn(i))}if(t instanceof ps)return jt(n,t._key);throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ng(t)}.`)}function eb(n,e){if(!Array.isArray(n)||0===n.length)throw new Bt(_t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Bt(_t.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function tb(n,e,t){if(!t.isEqual(e))throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class jh{convertValue(e,t="none"){switch(_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return es(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw We()}}convertObject(e,t){const i={};return Jc(e.fields,(a,d)=>{i[a]=this.convertValue(d,t)}),i}convertGeoPoint(e){return new dg(es(e.latitude),es(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=cp(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){const t=cc(e);return new os(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ni.fromString(e);yt(Av(i));const a=new eu(i.get(1),i.get(3)),d=new kn(i.popFirst(5));return a.isEqual(t)||T(`Document ${d} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function _g(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Ly extends jh{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ps(this.firestore,null,t)}}class il{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qu extends Wf{constructor(e,t,i,a,d,v){super(e,t,i,a,v),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(gg("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class zd extends qu{data(e={}){return super.data(e)}}class pc{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new il(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new zd(this._firestore,this._userDataWriter,i.key,i,new il(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Bt(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let d=0;return i._snapshot.docChanges.map(v=>({type:"added",doc:new zd(i._firestore,i._userDataWriter,v.doc.key,v.doc,new il(i._snapshot.mutatedKeys.has(v.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:d++}))}{let d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(v=>a||3!==v.type).map(v=>{const C=new zd(i._firestore,i._userDataWriter,v.doc.key,v.doc,new il(i._snapshot.mutatedKeys.has(v.doc.key),i._snapshot.fromCache),i.query.converter);let O=-1,$=-1;return 0!==v.type&&(O=d.indexOf(v.doc.key),d=d.delete(v.doc.key)),1!==v.type&&(d=d.add(v.doc),$=d.indexOf(v.doc.key)),{type:aC(v.type),doc:C,oldIndex:O,newIndex:$}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function aC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}function nb(n,e){return n instanceof qu&&e instanceof qu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof pc&&e instanceof pc&&n._firestore===e._firestore&&Hf(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Lc extends jh{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ps(this.firestore,null,t)}}function vg(n,e,t){n=ai(n,ps);const i=ai(n.firestore,ms),a=_g(n.converter,e,t);return Wd(i,[$f($d(i),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Ps.none())])}function By(n,e,t,...i){n=ai(n,ps);const a=ai(n.firestore,ms),d=$d(a);let v;return v="string"==typeof(e=(0,ei.m9)(e))||e instanceof hu?xy(d,"updateDoc",n._key,e,t,i):My(d,"updateDoc",n._key,e),Wd(a,[v.toMutation(n._key,Ps.exists(!0))])}function fC(n,...e){var t,i,a;n=(0,ei.m9)(n);let d={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||Iy(e[v])||(d=e[v],v++);const C={includeMetadataChanges:d.includeMetadataChanges};if(Iy(e[v])){const Ae=e[v];e[v]=null===(t=Ae.next)||void 0===t?void 0:t.bind(Ae),e[v+1]=null===(i=Ae.error)||void 0===i?void 0:i.bind(Ae),e[v+2]=null===(a=Ae.complete)||void 0===a?void 0:a.bind(Ae)}let O,$,ne;if(n instanceof ps)$=ai(n.firestore,ms),ne=gh(n._key.path),O={next:Ae=>{e[v]&&e[v](bg($,n,Ae))},error:e[v+1],complete:e[v+2]};else{const Ae=ai(n,rl);$=ai(Ae.firestore,ms),ne=Ae._query;const gt=new Lc($);O={next:Rt=>{e[v]&&e[v](new pc($,gt,Ae,Rt))},error:e[v+1],complete:e[v+2]},z0(n._query)}return function(Ae,gt,Rt,kt){const cn=new rg(kt),_n=new Z_(gt,cn,Rt);return Ae.asyncQueue.enqueueAndForget((0,nn.Z)(function*(){return $m(yield Hh(Ae),_n)})),()=>{cn.bc(),Ae.asyncQueue.enqueueAndForget((0,nn.Z)(function*(){return zm(yield Hh(Ae),_n)}))}}(co($),ne,C,O)}function Wd(n,e){return function(t,i){const a=new Gr;return t.asyncQueue.enqueueAndForget((0,nn.Z)(function*(){return function b0(n,e,t){return qm.apply(this,arguments)}(yield Up(t),i,a)})),a.promise}(co(n),e)}function bg(n,e,t){const i=t.docs.get(e._key),a=new Lc(n);return new qu(n,a,e._key,i,new il(t.hasPendingWrites,t.fromCache),e.converter)}const pC={maxAttempts:5};class ab{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=$d(e)}set(e,t,i){this._verifyNotCommitted();const a=Kd(e,this._firestore),d=_g(a.converter,t,i),v=$f(this._dataReader,"WriteBatch.set",a._key,d,null!==a.converter,i);return this._mutations.push(v.toMutation(a._key,Ps.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const d=Kd(e,this._firestore);let v;return v="string"==typeof(t=(0,ei.m9)(t))||t instanceof hu?xy(this._dataReader,"WriteBatch.update",d._key,t,i,a):My(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(v.toMutation(d._key,Ps.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kd(e,this._firestore);return this._mutations=this._mutations.concat(new hf(t._key,Ps.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Bt(_t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kd(n,e){if((n=(0,ei.m9)(n)).firestore!==e)throw new Bt(_t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class mC extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=$d(e)}get(e){const t=Kd(e,this._firestore),i=new Ly(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return We();const d=a[0];if(d.isFoundDocument())return new Wf(this._firestore,i,d.key,d,t.converter);if(d.isNoDocument())return new Wf(this._firestore,i,t._key,null,t.converter);throw We()})}set(e,t,i){const a=Kd(e,this._firestore),d=_g(a.converter,t,i),v=$f(this._dataReader,"Transaction.set",a._key,d,null!==a.converter,i);return this._transaction.set(a._key,v),this}update(e,t,i,...a){const d=Kd(e,this._firestore);let v;return v="string"==typeof(t=(0,ei.m9)(t))||t instanceof hu?xy(this._dataReader,"Transaction.update",d._key,t,i,a):My(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,v),this}delete(e){const t=Kd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kd(e,this._firestore),i=new Lc(this._firestore);return super.get(e).then(a=>new qu(this._firestore,i,t._key,a._document,new il(!1,!1),t.converter))}}function jy(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Bt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function sl(){if(typeof Uint8Array>"u")throw new Bt("unimplemented","Uint8Arrays are not available in this environment.")}function $h(){if(!function lp(){return typeof atob<"u"}())throw new Bt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Nl=na.SDK_VERSION,(0,na._registerComponent)(new cl.wA("firestore",(t,{instanceIdentifier:i,options:a})=>{const d=t.getProvider("app").getImmediate(),v=new ms(new xc(t.getProvider("auth-internal")),new ip(t.getProvider("app-check-internal")),function(C,O){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new Bt(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(C.options.projectId,O)}(d,i),d);return a=Object.assign({useFetchStreams:e},a),v._setSettings(a),v},"PUBLIC").setMultipleInstances(!0)),(0,na.registerVersion)(Jh,"3.7.2",n),(0,na.registerVersion)(Jh,"3.7.2","esm2017")}();class Gp{constructor(e){this._delegate=e}static fromBase64String(e){return $h(),new Gp(du.fromBase64String(e))}static fromUint8Array(e){return sl(),new Gp(du.fromUint8Array(e))}toBase64(){return $h(),this._delegate.toBase64()}toUint8Array(){return sl(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $y(n){return function sw(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class ow{enableIndexedDbPersistence(e,t){return function F0(n,e){ug(n=ai(n,ms));const t=co(n),i=n._freezeSettings(),a=new tg;return L0(t,a,new hy(a,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ZE(n){ug(n=ai(n,ms));const e=co(n),t=n._freezeSettings(),i=new tg;return L0(e,i,new A0(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function QE(n){if(n._initialized&&!n._terminated)throw new Bt(_t.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,nn.Z)(function*(){try{yield(t=(0,nn.Z)(function*(i){if(!Ci.C())return Promise.resolve();const a=i+"main";yield Ci.delete(a)}),function(i){return t.apply(this,arguments)})(Rm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Gy{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof eu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Q("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function _y(n,e,t,i={}){var a;const d=(n=ai(n,Bp))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&Q("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let v,C;if("string"==typeof i.mockUserToken)v=i.mockUserToken,C=Ks.MOCK_USER;else{v=(0,ei.Sg)(i.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const O=i.mockUserToken.sub||i.mockUserToken.user_id;if(!O)throw new Bt(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Ks(O)}n._authCredentials=new np(new ca(v,C))}}(this._delegate,e,t,i)}enableNetwork(){return function Sy(n){return function BE(n){return n.asyncQueue.enqueue((0,nn.Z)(function*(){const e=yield O0(n),t=yield wy(n);return e.setNetworkEnabled(!0),function(i){const a=Gt(i);return a._u.delete(0),Mp(a)}(t)}))}(co(n=ai(n,ms)))}(this._delegate)}disableNetwork(){return function B0(n){return function VE(n){return n.asyncQueue.enqueue((0,nn.Z)(function*(){const e=yield O0(n),t=yield wy(n);return e.setNetworkEnabled(!1),(i=(0,nn.Z)(function*(a){const d=Gt(a);d._u.add(0),yield Pf(d),d.gu.set("Offline")}),function(a){return i.apply(this,arguments)})(t);var i}))}(co(n=ai(n,ms)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Vf("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ty(n){return function(e){const t=new Gr;return e.asyncQueue.enqueueAndForget((0,nn.Z)(function*(){return function IE(n,e){return ry.apply(this,arguments)}(yield Up(e),t)})),t.promise}(co(n=ai(n,ms)))}(this._delegate)}onSnapshotsInSync(e){return function Vy(n,e){return function jE(n,e){const t=new rg(e);return n.asyncQueue.enqueueAndForget((0,nn.Z)(function*(){return i=yield Hh(n),a=t,Gt(i).Ru.add(a),void a.next();var i,a})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,nn.Z)(function*(){return i=yield Hh(n),a=t,void Gt(i).Ru.delete(a);var i,a}))}}(co(n=ai(n,ms)),Iy(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Bt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qp(this,kE(this._delegate,e))}catch(t){throw wl(t,"collection()","Firestore.collection()")}}doc(e){try{return new rc(this,yy(this._delegate,e))}catch(t){throw wl(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ol(this,function ew(n,e){if(n=ai(n,Bp),fy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Bt(_t.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new rl(n,null,(t=e,new nu(ni.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw wl(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function lb(n,e,t){n=ai(n,ms);const i=Object.assign(Object.assign({},pC),t);return function(a){if(a.maxAttempts<1)throw new Bt(_t.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(a,d,v){const C=new Gr;return a.asyncQueue.enqueueAndForget((0,nn.Z)(function*(){const O=yield function P0(n){return og(n).then(e=>e.datastore)}(a);new FE(a.asyncQueue,O,v,d,C).run()})),C.promise}(co(n),a=>e(new mC(n,a)),i)}(this._delegate,t=>e(new pb(this,t)))}batch(){return co(this._delegate),new Eg(new ab(this._delegate,e=>Wd(this._delegate,e)))}loadBundle(e){return function XE(n,e){const t=co(n=ai(n,ms)),i=new WE;return function $E(n,e,t,i){const a=function(d,v){let C;return C="string"==typeof d?(new TextEncoder).encode(d):d,O=function(O,$){if(O instanceof Uint8Array)return x0(O,$);if(O instanceof ArrayBuffer)return x0(new Uint8Array(O),$);if(O instanceof ReadableStream)return O.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new R0(O,v);var O}(t,Of(e));n.asyncQueue.enqueueAndForget((0,nn.Z)(function*(){!function RE(n,e,t){const i=Gt(n);var a;(a=(0,nn.Z)(function*(d,v,C){try{const O=yield v.getMetadata();if(yield function(gt,Rt){const kt=Gt(gt),cn=da(Rt.createTime);return kt.persistence.runTransaction("hasNewerBundle","readonly",_n=>kt.Ns.getBundleMetadata(_n,Rt.id)).then(_n=>!!_n&&_n.createTime.compareTo(cn)>=0)}(d.localStore,O))return yield v.close(),C._completeWith({taskState:"Success",documentsLoaded:(gt=O).totalDocuments,bytesLoaded:gt.totalBytes,totalDocuments:gt.totalDocuments,totalBytes:gt.totalBytes}),Promise.resolve(new Set);C._updateProgress(g0(O));const $=new vE(O,d.localStore,v.It);let ne=yield v.mc();for(;ne;){const gt=yield $.Fu(ne);gt&&C._updateProgress(gt),ne=yield v.mc()}const Ae=yield $.complete();return yield nr(d,Ae.Lu,void 0),yield function(gt,Rt){const kt=Gt(gt);return kt.persistence.runTransaction("Save bundle","readwrite",cn=>kt.Ns.saveBundleMetadata(cn,Rt))}(d.localStore,O),C._completeWith(Ae.progress),Promise.resolve(Ae.Bu)}catch(O){return Q("SyncEngine",`Loading bundle failed with ${O}`),C._failWith(O),Promise.resolve(new Set)}var gt}),function(d,v,C){return a.apply(this,arguments)})(i,e,t).then(a=>{i.sharedClientState.notifyBundleLoaded(a)})}(yield Up(n),a,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function JE(n,e){return function GE(n,e){return n.asyncQueue.enqueue((0,nn.Z)(function*(){return function(t,i){const a=Gt(t);return a.persistence.runTransaction("Get named query","readonly",d=>a.Ns.getNamedQuery(d,i))}(yield Vp(n),e)}))}(co(n=ai(n,ms)),e).then(t=>t?new rl(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ol(this,t):null)}}class zp extends jh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gp(new du(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return rc.forKey(t,this.firestore,null)}}class pb{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new zp(e)}get(e){const t=qd(e);return this._delegate.get(t).then(i=>new zh(this._firestore,new qu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const a=qd(e);return i?(jy("Transaction.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const d=qd(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,i,...a),this}delete(e){const t=qd(e);return this._delegate.delete(t),this}}class Eg{constructor(e){this._delegate=e}set(e,t,i){const a=qd(e);return i?(jy("WriteBatch.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const d=qd(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,i,...a),this}delete(e){const t=qd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gh{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new zd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Kf(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Gh.INSTANCES;let a=i.get(e);a||(a=new WeakMap,i.set(e,a));let d=a.get(t);return d||(d=new Gh(e,new zp(e),t),a.set(t,d)),d}}Gh.INSTANCES=new WeakMap;class rc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zp(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Bt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new rc(t,new ps(t._delegate,i,new kn(e)))}static forKey(e,t,i){return new rc(t,new ps(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new qp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qp(this.firestore,kE(this._delegate,e))}catch(t){throw wl(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ei.m9)(e))instanceof ps&&vy(this._delegate,e)}set(e,t){t=jy("DocumentReference.set",t);try{return t?vg(this._delegate,e,t):vg(this._delegate,e)}catch(i){throw wl(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?By(this._delegate,e):By(this._delegate,e,t,...i)}catch(a){throw wl(a,"updateDoc()","DocumentReference.update()")}}delete(){return function dC(n){return Wd(ai(n.firestore,ms),[new hf(n._key,Ps.none())])}(this._delegate)}onSnapshot(...e){const t=mb(e),i=gb(e,a=>new zh(this.firestore,new qu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return fC(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function yg(n){n=ai(n,ps);const e=ai(n.firestore,ms),t=co(e),i=new Lc(e);return function UE(n,e){const t=new Gr;return n.asyncQueue.enqueueAndForget((0,nn.Z)(function*(){return(i=(0,nn.Z)(function*(a,d,v){try{const C=yield function(O,$){const ne=Gt(O);return ne.persistence.runTransaction("read document","readonly",Ae=>ne.localDocuments.getDocument(Ae,$))}(a,d);C.isFoundDocument()?v.resolve(C):C.isNoDocument()?v.resolve(null):v.reject(new Bt(_t.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const O=Bh(C,`Failed to get document '${d} from cache`);v.reject(O)}}),function(a,d,v){return i.apply(this,arguments)})(yield Vp(n),e,t);var i})),t.promise}(t,n._key).then(a=>new qu(e,i,n._key,a,new il(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function cC(n){n=ai(n,ps);const e=ai(n.firestore,ms);return cg(co(e),n._key,{source:"server"}).then(t=>bg(e,n,t))}(this._delegate):function lC(n){n=ai(n,ps);const e=ai(n.firestore,ms);return cg(co(e),n._key).then(t=>bg(e,n,t))}(this._delegate),t.then(i=>new zh(this.firestore,new qu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new rc(this.firestore,this._delegate.withConverter(e?Gh.getInstance(this.firestore,e):null))}}function wl(n,e,t){return n.message=n.message.replace(e,t),n}function mb(n){for(const e of n)if("object"==typeof e&&!$y(e))return e;return{}}function gb(n,e){var t,i;let a;return a=$y(n[0])?n[0]:$y(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:d=>{a.next&&a.next(e(d))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(i=a.complete)||void 0===i?void 0:i.bind(a)}}class zh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new rc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return nb(this._delegate,e._delegate)}}class Kf extends zh{data(e){const t=this._delegate.data(e);return function bn(n,e){n||We()}(void 0!==t),t}}class ol{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zp(e)}where(e,t,i){try{return new ol(this.firestore,Gd(this._delegate,function sC(n,e,t){const i=e,a=gg("where",n);return new iC(a,i,t)}(e,t,i)))}catch(a){throw wl(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ol(this.firestore,Gd(this._delegate,function $p(n,e="asc"){const t=e,i=gg("orderBy",n);return new oC(i,t)}(e,t)))}catch(i){throw wl(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ol(this.firestore,Gd(this._delegate,function W0(n){return py("limit",n),new Ny("limit",n,"F")}(e)))}catch(t){throw wl(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ol(this.firestore,Gd(this._delegate,function K0(n){return py("limitToLast",n),new Ny("limitToLast",n,"L")}(e)))}catch(t){throw wl(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ol(this.firestore,Gd(this._delegate,function q0(...n){return new Fy("startAt",n,!0)}(...e)))}catch(t){throw wl(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ol(this.firestore,Gd(this._delegate,function Y0(...n){return new Fy("startAfter",n,!1)}(...e)))}catch(t){throw wl(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ol(this.firestore,Gd(this._delegate,function rw(...n){return new Z0("endBefore",n,!1)}(...e)))}catch(t){throw wl(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ol(this.firestore,Gd(this._delegate,function Q0(...n){return new Z0("endAt",n,!0)}(...e)))}catch(t){throw wl(t,"endAt()","Query.endAt()")}}isEqual(e){return Hf(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function rb(n){n=ai(n,rl);const e=ai(n.firestore,ms),t=co(e),i=new Lc(e);return function HE(n,e){const t=new Gr;return n.asyncQueue.enqueueAndForget((0,nn.Z)(function*(){return(i=(0,nn.Z)(function*(a,d,v){try{const C=yield Af(a,d,!0),O=new v0(d,C.Hi),$=O.Wu(C.documents),ne=O.applyChanges($,!1);v.resolve(ne.snapshot)}catch(C){const O=Bh(C,`Failed to execute query '${d} against cache`);v.reject(O)}}),function(a,d,v){return i.apply(this,arguments)})(yield Vp(n),e,t);var i})),t.promise}(t,n._query).then(a=>new pc(e,i,n,a))}(this._delegate):"server"===e?.source?function ib(n){n=ai(n,rl);const e=ai(n.firestore,ms),t=co(e),i=new Lc(e);return Dy(t,n._query,{source:"server"}).then(a=>new pc(e,i,n,a))}(this._delegate):function uC(n){n=ai(n,rl);const e=ai(n.firestore,ms),t=co(e),i=new Lc(e);return z0(n._query),Dy(t,n._query).then(a=>new pc(e,i,n,a))}(this._delegate),t.then(i=>new Kp(this.firestore,new pc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=mb(e),i=gb(e,a=>new Kp(this.firestore,new pc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return fC(this._delegate,t,i)}withConverter(e){return new ol(this.firestore,this._delegate.withConverter(e?Gh.getInstance(this.firestore,e):null))}}class Cg{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Kf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Kp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ol(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Kf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Cg(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Kf(this._firestore,i))})}isEqual(e){return nb(this._delegate,e._delegate)}}class qp extends ol{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new rc(this.firestore,e):null}doc(e){try{return new rc(this.firestore,void 0===e?yy(this._delegate):yy(this._delegate,e))}catch(t){throw wl(t,"doc()","CollectionReference.doc()")}}add(e){return function hC(n,e){const t=ai(n.firestore,ms),i=yy(n),a=_g(n.converter,e);return Wd(t,[$f($d(n.firestore),"addDoc",i._key,a,null!==n.converter,{}).toMutation(i._key,Ps.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new rc(this.firestore,t))}isEqual(e){return vy(this._delegate,e._delegate)}withConverter(e){return new qp(this.firestore,this._delegate.withConverter(e?Gh.getInstance(this.firestore,e):null))}}function qd(n){return ai(n,ps)}class zy{constructor(...e){this._delegate=new hu(...e)}static documentId(){return new zy(Cs.keyField().canonicalString())}isEqual(e){return(e=(0,ei.m9)(e))instanceof hu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function cb(){return new fg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yd(e)}static delete(){const e=function Uy(){return new Gf("deleteField")}();return e._methodName="FieldValue.delete",new Yd(e)}static arrayUnion(...e){const t=function ub(...n){return new j0("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Yd(t)}static arrayRemove(...e){const t=function db(...n){return new tC("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Yd(t)}static increment(e){const t=function hb(n){return new nC("increment",n)}(e);return t._methodName="FieldValue.increment",new Yd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const qf={Firestore:Gy,GeoPoint:dg,Timestamp:os,Blob:Gp,Transaction:pb,WriteBatch:Eg,DocumentReference:rc,DocumentSnapshot:zh,Query:ol,QueryDocumentSnapshot:Kf,QuerySnapshot:Kp,CollectionReference:qp,FieldPath:zy,FieldValue:Yd,setLogLevel:function Wp(n){!function p(n){ac.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function _b(n){(function yC(n,e){n.INTERNAL.registerComponent(new cl.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(i,a)},"PUBLIC").setServiceProps(Object.assign({},qf)))})(n,(e,t)=>new Gy(e,t,new ow)),n.registerVersion("@firebase/firestore-compat","0.2.2")}(ja.Z);var Wy=A(440),aw=A(127);function bC(n,e){return function vC(n,e=vi.z){return new ta.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function Ky(n,e){return bC(n,e).pipe((0,kr.U)(t=>({payload:t,type:"query"})))}function wg(n,e){return Ky(n,e).pipe((0,ys.O)(void 0),Oo(),(0,kr.U)(([t,i])=>{const a=i.payload.docChanges(),d=a.map(v=>({type:v.type,payload:v}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((v,C)=>{const O=a.find(ne=>ne.doc.ref.isEqual(v.ref)),$=t?.payload.docs.find(ne=>ne.ref.isEqual(v.ref));O&&JSON.stringify(O.doc.metadata)===JSON.stringify(v.metadata)||!O&&$&&JSON.stringify($.metadata)===JSON.stringify(v.metadata)||d.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:v}})}),d}))}function qy(n,e,t){return wg(n,t).pipe((0,go.R)((i,a)=>function yb(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function vb(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Yy(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Yy(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Yy(n,e.oldIndex,1)}return n}(n,i))}),n}(i,a.map(d=>d.payload),e),[]),(0,Ea.x)(),(0,kr.U)(i=>i.map(a=>({type:a.type,payload:a}))))}function Yy(n,e,t,...i){const a=n.slice();return a.splice(e,t,...i),a}function Zy(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class bb{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=wg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,kr.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,ys.O)(void 0),Oo(),(0,mc.h)(([i,a])=>a.length>0||!i),(0,kr.U)(([i,a])=>a),Di.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,go.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Zy(e);return qy(this.query,t,this.afs.schedulers.outsideAngular).pipe(Di.iC)}valueChanges(e={}){return Ky(this.query,this.afs.schedulers.outsideAngular).pipe((0,kr.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Di.iC)}get(e){return(0,xs.D)(this.query.get(e)).pipe(Di.iC)}add(e){return this.ref.add(e)}doc(e){return new Eb(this.ref.doc(e),this.afs)}}class Eb{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:a,query:d}=Xy(i,t);return new bb(a,d,this.afs)}snapshotChanges(){return function EC(n,e){return bC(n,e).pipe((0,ys.O)(void 0),Oo(),(0,kr.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Di.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,kr.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,xs.D)(this.ref.get(e)).pipe(Di.iC)}}class Cb{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?wg(this.query,this.afs.schedulers.outsideAngular).pipe((0,kr.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,mc.h)(t=>t.length>0),Di.iC):wg(this.query,this.afs.schedulers.outsideAngular).pipe(Di.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,go.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Zy(e);return qy(this.query,t,this.afs.schedulers.outsideAngular).pipe(Di.iC)}valueChanges(e={}){return Ky(this.query,this.afs.schedulers.outsideAngular).pipe((0,kr.U)(i=>i.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Di.iC)}get(e){return(0,xs.D)(this.query.get(e)).pipe(Di.iC)}}const wb=new k.OlP("angularfire2.enableFirestorePersistence"),Qy=new k.OlP("angularfire2.firestore.persistenceSettings"),Db=new k.OlP("angularfire2.firestore.settings"),Ib=new k.OlP("angularfire2.firestore.use-emulator");function Xy(n,e=(t=>t)){return{query:e(n),ref:n}}let CC=(()=>{class n{constructor(t,i,a,d,v,C,O,$,ne,Ae,gt,Rt,kt,cn,_n,sr,xr){this.schedulers=O;const Er=(0,fi.on)(t,C,i),qr=ne;Ae&&(0,Ee.nw)(Er,C,gt,kt,cn,_n,Rt,sr),[this.firestore,this.persistenceEnabled$]=(0,fi.cc)(`${Er.name}.firestore`,"AngularFirestore",Er.name,()=>{const Lr=C.runOutsideAngular(()=>Er.firestore());if(d&&Lr.settings(d),qr&&Lr.useEmulator(...qr),a&&!(0,ya.PM)(v)){const Br=()=>{try{return(0,xs.D)(Lr.enablePersistence($||void 0).then(()=>!0,()=>!1))}catch(mi){return typeof console<"u"&&console.warn(mi),(0,bi.of)(!1)}};return[Lr,C.runOutsideAngular(Br)]}return[Lr,(0,bi.of)(!1)]},[d,qr,a])}collection(t,i){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:v}=Xy(a,i),C=this.schedulers.ngZone.run(()=>d);return new bb(C,v,this)}collectionGroup(t,i){const a=i||(v=>v),d=this.firestore.collectionGroup(t);return new Cb(a(d),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>i);return new Eb(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(fi.Dh),k.LFG(fi.xv,8),k.LFG(wb,8),k.LFG(Db,8),k.LFG(k.Lbi),k.LFG(k.R0b),k.LFG(Di.HU),k.LFG(Qy,8),k.LFG(Ib,8),k.LFG(Ee.zQ,8),k.LFG(Ee.Qv,8),k.LFG(Ee.L6,8),k.LFG(Ee._Q,8),k.LFG(Ee.rT,8),k.LFG(Ee.lh,8),k.LFG(Ee.f7,8),k.LFG(Wy.nm,8))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),wC=(()=>{class n{constructor(){aw.Z.registerVersion("angularfire",Di.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:wb,useValue:!0},{provide:Qy,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({providers:[CC]}),n})();var DC=A(898);let Tb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({imports:[ya.ez,b.Bz,DC.q,ae.u5]}),n})();var lw=A(7471);let cw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n,bootstrap:[Tt]}),n.\u0275inj=k.cJS({imports:[m.b2,Lt,Ar,fi.hO.initializeApp(Wr_firebase),wC,lw.JS,Ee.ww,DC.q,Tb]}),n})();(0,k.G48)(),m.q6().bootstrapModule(cw).catch(n=>console.error(n))},5867:(dn,ot,A)=>{A.d(ot,{C6:()=>m.getApps,Mq:()=>m.getApp});var m=A(9681);(0,m.registerVersion)("firebase","9.13.0","app")},127:(dn,ot,A)=>{A.d(ot,{Z:()=>m.Z});var m=A(3942);m.Z.registerVersion("firebase","9.13.0","app-compat")},1277:(dn,ot,A)=>{A.r(ot);var m=A(5861),k=A(3942),b=A(2090),ee=A(9681),Ee=A(1877),se=A(655),je=A(3475);const Je=function at(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},bt=function lt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new b.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Lt=new Ee.Yd("@firebase/auth");function Tt(E,...p){Lt.logLevel<=Ee.in.ERROR&&Lt.error(`Auth (${ee.SDK_VERSION}): ${E}`,...p)}function ze(E,...p){throw Le(E,...p)}function Se(E,...p){return Le(E,...p)}function ge(E,p,g){const T=Object.assign(Object.assign({},bt()),{[p]:g});return new b.LL("auth","Firebase",T).create(p,{appName:E.name})}function ue(E,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&ze(E,"argument-error"),ge(E,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(E,...p){if("string"!=typeof E){const g=p[0],T=[...p.slice(1)];return T[0]&&(T[0].appName=E.name),E._errorFactory.create(g,...T)}return ut.create(E,...p)}function R(E,p,...g){if(!E)throw Le(p,...g)}function Pe(E){const p="INTERNAL ASSERTION FAILED: "+E;throw Tt(p),new Error(p)}function ke(E,p){E||Pe(p)}const we=new Map;function Ze(E){ke(E instanceof Function,"Expected a class definition");let p=we.get(E);return p?(ke(p instanceof E,"Instance stored in cache mismatched with class"),p):(p=new E,we.set(E,p),p)}function Dt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function $t(){return"http:"===en()||"https:"===en()}function en(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class En{constructor(p,g){this.shortDelay=p,this.longDelay=g,ke(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,b.uI)()||(0,b.b$)()}get(){return function Zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($t()||(0,b.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dn(E,p){ke(E.emulator,"Emulator should always be set here");const{url:g}=E.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class vn{static initialize(p,g,T){this.fetchImpl=p,g&&(this.headersImpl=g),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vn=new En(3e4,6e4);function Mn(E,p){return E.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:E.tenantId}):p}function Cn(E,p,g,T){return br.apply(this,arguments)}function br(){return(br=(0,m.Z)(function*(E,p,g,T,Q={}){return dr(E,Q,(0,m.Z)(function*(){let fe={},We={};T&&("GET"===p?We=T:fe={body:JSON.stringify(T)});const yt=(0,b.xO)(Object.assign({key:E.config.apiKey},We)).slice(1),bn=yield E._getAdditionalHeaders();return bn["Content-Type"]="application/json",E.languageCode&&(bn["X-Firebase-Locale"]=E.languageCode),vn.fetch()(zn(E,E.config.apiHost,g,yt),Object.assign({method:p,headers:bn,referrerPolicy:"no-referrer"},fe))}))})).apply(this,arguments)}function dr(E,p,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,m.Z)(function*(E,p,g){E._canInitEmulator=!1;const T=Object.assign(Object.assign({},Jt),p);try{const Q=new hr(E),fe=yield Promise.race([g(),Q.promise]);Q.clearNetworkTimeout();const We=yield fe.json();if("needConfirmation"in We)throw Hn(E,"account-exists-with-different-credential",We);if(fe.ok&&!("errorMessage"in We))return We;{const yt=fe.ok?We.errorMessage:We.error.message,[bn,Gt]=yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===bn)throw Hn(E,"credential-already-in-use",We);if("EMAIL_EXISTS"===bn)throw Hn(E,"email-already-in-use",We);if("USER_DISABLED"===bn)throw Hn(E,"user-disabled",We);const _t=T[bn]||bn.toLowerCase().replace(/[_\s]+/g,"-");if(Gt)throw ge(E,_t,Gt);ze(E,_t)}}catch(Q){if(Q instanceof b.ZR)throw Q;ze(E,"network-request-failed")}})).apply(this,arguments)}function Un(E,p,g,T){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,m.Z)(function*(E,p,g,T,Q={}){const fe=yield Cn(E,p,g,T,Q);return"mfaPendingCredential"in fe&&ze(E,"multi-factor-auth-required",{_serverResponse:fe}),fe})).apply(this,arguments)}function zn(E,p,g,T){const Q=`${p}${g}?${T}`;return E.config.emulator?Dn(E.config,Q):`${E.config.apiScheme}://${Q}`}class hr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,T)=>{this.timer=setTimeout(()=>T(Se(this.auth,"network-request-failed")),Vn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(E,p,g){const T={appName:E.name};g.email&&(T.email=g.email),g.phoneNumber&&(T.phoneNumber=g.phoneNumber);const Q=Se(E,p,T);return Q.customData._tokenResponse=g,Q}function tn(){return(tn=(0,m.Z)(function*(E,p){return Cn(E,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Jn(E,p){return be.apply(this,arguments)}function be(){return(be=(0,m.Z)(function*(E,p){return Cn(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Z(E,p){return H.apply(this,arguments)}function H(){return(H=(0,m.Z)(function*(E,p){return Cn(E,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function J(E){if(E)try{const p=new Date(Number(E));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ot(){return(Ot=(0,m.Z)(function*(E,p=!1){const g=(0,b.m9)(E),T=yield g.getIdToken(p),Q=_e(T);R(Q&&Q.exp&&Q.auth_time&&Q.iat,g.auth,"internal-error");const fe="object"==typeof Q.firebase?Q.firebase:void 0,We=fe?.sign_in_provider;return{claims:Q,token:T,authTime:J(Ne(Q.auth_time)),issuedAtTime:J(Ne(Q.iat)),expirationTime:J(Ne(Q.exp)),signInProvider:We||null,signInSecondFactor:fe?.sign_in_second_factor||null}})).apply(this,arguments)}function Ne(E){return 1e3*Number(E)}function _e(E){var p;const[g,T,Q]=E.split(".");if(void 0===g||void 0===T||void 0===Q)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{const fe=(0,b.tV)(T);return fe?JSON.parse(fe):(Tt("Failed to decode base64 JWT payload"),null)}catch(fe){return Tt("Caught error parsing JWT payload as JSON",null===(p=fe)||void 0===p?void 0:p.toString()),null}}function te(E,p){return qe.apply(this,arguments)}function qe(){return(qe=(0,m.Z)(function*(E,p,g=!1){if(g)return p;try{return yield p}catch(T){throw T instanceof b.ZR&&It(T)&&E.auth.currentUser===E&&(yield E.auth.signOut()),T}})).apply(this,arguments)}function It({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class Nt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const Q=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const T=this.getInterval(p);this.timerId=setTimeout((0,m.Z)(function*(){yield g.iteration()}),T)}iteration(){var p=this;return(0,m.Z)(function*(){var g;try{yield p.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===(null===(g=T)||void 0===g?void 0:g.code)&&p.schedule(!0))}p.schedule()})()}}class mn{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=J(this.lastLoginAt),this.creationTime=J(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sn(E){return vt.apply(this,arguments)}function vt(){return(vt=(0,m.Z)(function*(E){var p;const g=E.auth,T=yield E.getIdToken(),Q=yield te(E,Z(g,{idToken:T}));R(Q?.users.length,g,"internal-error");const fe=Q.users[0];E._notifyReloadListener(fe);const We=null!==(p=fe.providerUserInfo)&&void 0!==p&&p.length?Yt(fe.providerUserInfo):[],yt=Mt(E.providerData,We),_t=!!E.isAnonymous&&!(E.email&&fe.passwordHash||yt?.length),Bt={uid:fe.localId,displayName:fe.displayName||null,photoURL:fe.photoUrl||null,email:fe.email||null,emailVerified:fe.emailVerified||!1,phoneNumber:fe.phoneNumber||null,tenantId:fe.tenantId||null,providerData:yt,metadata:new mn(fe.createdAt,fe.lastLoginAt),isAnonymous:_t};Object.assign(E,Bt)})).apply(this,arguments)}function Ye(){return(Ye=(0,m.Z)(function*(E){const p=(0,b.m9)(E);yield sn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Mt(E,p){return[...E.filter(T=>!p.some(Q=>Q.providerId===T.providerId)),...p]}function Yt(E){return E.map(p=>{var{providerId:g}=p,T=(0,se._T)(p,["providerId"]);return{providerId:g,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Ue(){return(Ue=(0,m.Z)(function*(E,p){const g=yield dr(E,{},(0,m.Z)(function*(){const T=(0,b.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:Q,apiKey:fe}=E.config,We=zn(E,Q,"/v1/token",`key=${fe}`),yt=yield E._getAdditionalHeaders();return yt["Content-Type"]="application/x-www-form-urlencoded",vn.fetch()(We,{method:"POST",headers:yt,body:T})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){R(p.idToken,"internal-error"),R(typeof p.idToken<"u","internal-error"),R(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function q(E){const p=_e(E);return R(p,"internal-error"),R(typeof p.exp<"u","internal-error"),R(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var T=this;return(0,m.Z)(function*(){return R(!T.accessToken||T.refreshToken,p,"user-token-expired"),g||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(p,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var T=this;return(0,m.Z)(function*(){const{accessToken:Q,refreshToken:fe,expiresIn:We}=yield function He(E,p){return Ue.apply(this,arguments)}(p,g);T.updateTokensAndExpiration(Q,fe,Number(We))})()}updateTokensAndExpiration(p,g,T){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(p,g){const{refreshToken:T,accessToken:Q,expirationTime:fe}=g,We=new Te;return T&&(R("string"==typeof T,"internal-error",{appName:p}),We.refreshToken=T),Q&&(R("string"==typeof Q,"internal-error",{appName:p}),We.accessToken=Q),fe&&(R("number"==typeof fe,"internal-error",{appName:p}),We.expirationTime=fe),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Te,this.toJSON())}_performRefresh(){return Pe("not implemented")}}function st(E,p){R("string"==typeof E||typeof E>"u","internal-error",{appName:p})}class Et{constructor(p){var{uid:g,auth:T,stsTokenManager:Q}=p,fe=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=T,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=fe.displayName||null,this.email=fe.email||null,this.emailVerified=fe.emailVerified||!1,this.phoneNumber=fe.phoneNumber||null,this.photoURL=fe.photoURL||null,this.isAnonymous=fe.isAnonymous||!1,this.tenantId=fe.tenantId||null,this.providerData=fe.providerData?[...fe.providerData]:[],this.metadata=new mn(fe.createdAt||void 0,fe.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,m.Z)(function*(){const T=yield te(g,g.stsTokenManager.getToken(g.auth,p));return R(T,g.auth,"internal-error"),g.accessToken!==T&&(g.accessToken=T,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),T})()}getIdTokenResult(p){return function rt(E){return Ot.apply(this,arguments)}(this,p)}reload(){return function et(E){return Ye.apply(this,arguments)}(this)}_assign(p){this!==p&&(R(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Et(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var T=this;return(0,m.Z)(function*(){let Q=!1;p.idToken&&p.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(p),Q=!0),g&&(yield sn(T)),yield T.auth._persistUserIfCurrent(T),Q&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var p=this;return(0,m.Z)(function*(){const g=yield p.getIdToken();return yield te(p,function Xn(E,p){return tn.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var T,Q,fe,We,yt,bn,Gt,_t;const Bt=null!==(T=g.displayName)&&void 0!==T?T:void 0,Gr=null!==(Q=g.email)&&void 0!==Q?Q:void 0,ca=null!==(fe=g.phoneNumber)&&void 0!==fe?fe:void 0,Oa=null!==(We=g.photoURL)&&void 0!==We?We:void 0,np=null!==(yt=g.tenantId)&&void 0!==yt?yt:void 0,xc=null!==(bn=g._redirectEventId)&&void 0!==bn?bn:void 0,ef=null!==(Gt=g.createdAt)&&void 0!==Gt?Gt:void 0,rp=null!==(_t=g.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:Cd,emailVerified:ip,isAnonymous:Jp,providerData:ch,stsTokenManager:wd}=g;R(Cd&&wd,p,"internal-error");const gr=Te.fromJSON(this.name,wd);R("string"==typeof Cd,p,"internal-error"),st(Bt,p.name),st(Gr,p.name),R("boolean"==typeof ip,p,"internal-error"),R("boolean"==typeof Jp,p,"internal-error"),st(ca,p.name),st(Oa,p.name),st(np,p.name),st(xc,p.name),st(ef,p.name),st(rp,p.name);const Xl=new Et({uid:Cd,auth:p,email:Gr,emailVerified:ip,displayName:Bt,isAnonymous:Jp,photoURL:Oa,phoneNumber:ca,tenantId:np,stsTokenManager:gr,createdAt:ef,lastLoginAt:rp});return ch&&Array.isArray(ch)&&(Xl.providerData=ch.map(uh=>Object.assign({},uh))),xc&&(Xl._redirectEventId=xc),Xl}static _fromIdTokenResponse(p,g,T=!1){return(0,m.Z)(function*(){const Q=new Te;Q.updateFromServerResponse(g);const fe=new Et({uid:g.localId,auth:p,stsTokenManager:Q,isAnonymous:T});return yield sn(fe),fe})()}}const Me=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(g,T){var Q=this;return(0,m.Z)(function*(){Q.storage[g]=T})()}_get(g){var T=this;return(0,m.Z)(function*(){const Q=T.storage[g];return void 0===Q?null:Q})()}_remove(g){var T=this;return(0,m.Z)(function*(){delete T.storage[g]})()}_addListener(g,T){}_removeListener(g,T){}}return E.type="NONE",E})();function it(E,p,g){return`firebase:${E}:${p}:${g}`}class Ht{constructor(p,g,T){this.persistence=p,this.auth=g,this.userKey=T;const{config:Q,name:fe}=this.auth;this.fullUserKey=it(this.userKey,Q.apiKey,fe),this.fullPersistenceKey=it("persistence",Q.apiKey,fe),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,m.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Et._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,m.Z)(function*(){if(g.persistence===p)return;const T=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,T?g.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,T="authUser"){return(0,m.Z)(function*(){if(!g.length)return new Ht(Ze(Me),p,T);const Q=(yield Promise.all(g.map(function(){var Gt=(0,m.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return Gt.apply(this,arguments)}}()))).filter(Gt=>Gt);let fe=Q[0]||Ze(Me);const We=it(T,p.config.apiKey,p.name);let yt=null;for(const Gt of g)try{const _t=yield Gt._get(We);if(_t){const Bt=Et._fromJSON(p,_t);Gt!==fe&&(yt=Bt),fe=Gt;break}}catch{}const bn=Q.filter(Gt=>Gt._shouldAllowMigration);return fe._shouldAllowMigration&&bn.length?(fe=bn[0],yt&&(yield fe._set(We,yt.toJSON())),yield Promise.all(g.map(function(){var Gt=(0,m.Z)(function*(_t){if(_t!==fe)try{yield _t._remove(We)}catch{}});return function(_t){return Gt.apply(this,arguments)}}())),new Ht(fe,p,T)):new Ht(fe,p,T)})()}}function dt(E){const p=E.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(fr(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(gn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ke(p))return"Blackberry";if(Fe(p))return"Webos";if(On(p))return"Safari";if((p.includes("chrome/")||er(p))&&!p.includes("edge/"))return"Chrome";if(rr(p))return"Android";{const T=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function gn(E=(0,b.z$)()){return/firefox\//i.test(E)}function On(E=(0,b.z$)()){const p=E.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function er(E=(0,b.z$)()){return/crios\//i.test(E)}function fr(E=(0,b.z$)()){return/iemobile/i.test(E)}function rr(E=(0,b.z$)()){return/android/i.test(E)}function Ke(E=(0,b.z$)()){return/blackberry/i.test(E)}function Fe(E=(0,b.z$)()){return/webos/i.test(E)}function Ce(E=(0,b.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Xe(E=(0,b.z$)()){return Ce(E)||rr(E)||Fe(E)||Ke(E)||/windows phone/i.test(E)||fr(E)}function Qt(E,p=[]){let g;switch(E){case"Browser":g=dt((0,b.z$)());break;case"Worker":g=`${dt((0,b.z$)())}-${E}`;break;default:g=E}const T=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ee.SDK_VERSION}/${T}`}class yn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const T=fe=>new Promise((We,yt)=>{try{We(p(fe))}catch(bn){yt(bn)}});T.onAbort=g,this.queue.push(T);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,m.Z)(function*(){var T;if(g.auth.currentUser===p)return;const Q=[];try{for(const fe of g.queue)yield fe(p),fe.onAbort&&Q.push(fe.onAbort)}catch(fe){Q.reverse();for(const We of Q)try{We()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(T=fe)||void 0===T?void 0:T.message})}})()}}class hn{constructor(p,g,T){this.app=p,this.heartbeatServiceProvider=g,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hr(this),this.idTokenSubscription=new Hr(this),this.beforeStateQueue=new yn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(p,g){var T=this;return g&&(this._popupRedirectResolver=Ze(g)),this._initializationPromise=this.queue((0,m.Z)(function*(){var Q,fe;if(!T._deleted&&(T.persistenceManager=yield Ht.create(T,p),!T._deleted)){if(null!==(Q=T._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(g),T.lastNotifiedUid=(null===(fe=T.currentUser)||void 0===fe?void 0:fe.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,m.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,m.Z)(function*(){var T;const Q=yield g.assertedPersistence.getCurrentUser();let fe=Q,We=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const yt=null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId,bn=fe?._redirectEventId,Gt=yield g.tryRedirectSignIn(p);(!yt||yt===bn)&&Gt?.user&&(fe=Gt.user,We=!0)}if(!fe)return g.directlySetCurrentUser(null);if(!fe._redirectEventId){if(We)try{yield g.beforeStateQueue.runMiddleware(fe)}catch(yt){fe=Q,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(yt))}return fe?g.reloadAndSetCurrentUserOrClear(fe):g.directlySetCurrentUser(null)}return R(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===fe._redirectEventId?g.directlySetCurrentUser(fe):g.reloadAndSetCurrentUserOrClear(fe)})()}tryRedirectSignIn(p){var g=this;return(0,m.Z)(function*(){let T=null;try{T=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,m.Z)(function*(){var T;try{yield sn(p)}catch(Q){if("auth/network-request-failed"!==(null===(T=Q)||void 0===T?void 0:T.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function qt(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var p=this;return(0,m.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,m.Z)(function*(){const T=p?(0,b.m9)(p):null;return T&&R(T.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(T&&T._clone(g))})()}_updateCurrentUser(p,g=!1){var T=this;return(0,m.Z)(function*(){if(!T._deleted)return p&&R(T.tenantId===p.tenantId,T,"tenant-id-mismatch"),g||(yield T.beforeStateQueue.runMiddleware(p)),T.queue((0,m.Z)(function*(){yield T.directlySetCurrentUser(p),T.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,m.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,m.Z)(function*(){yield g.assertedPersistence.setPersistence(Ze(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new b.LL("auth","Firebase",p())}onAuthStateChanged(p,g,T){return this.registerStateListener(this.authStateSubscription,p,g,T)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,T){return this.registerStateListener(this.idTokenSubscription,p,g,T)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var T=this;return(0,m.Z)(function*(){const Q=yield T.getOrInitRedirectPersistenceManager(g);return null===p?Q.removeCurrentUser():Q.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,m.Z)(function*(){if(!g.redirectPersistenceManager){const T=p&&Ze(p)||g._popupRedirectResolver;R(T,g,"argument-error"),g.redirectPersistenceManager=yield Ht.create(g,[Ze(T._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,m.Z)(function*(){var T,Q;return g._isInitialized&&(yield g.queue((0,m.Z)(function*(){}))),(null===(T=g._currentUser)||void 0===T?void 0:T._redirectEventId)===p?g._currentUser:(null===(Q=g.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,m.Z)(function*(){if(p===g.currentUser)return g.queue((0,m.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,T,Q){if(this._deleted)return()=>{};const fe="function"==typeof g?g:g.next.bind(g),We=this._isInitialized?Promise.resolve():this._initializationPromise;return R(We,this,"internal-error"),We.then(()=>fe(this.currentUser)),"function"==typeof g?p.addObserver(g,T,Q):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,m.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Qt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,m.Z)(function*(){var g;const T={"X-Client-Version":p.clientVersion};p.app.options.appId&&(T["X-Firebase-gmpid"]=p.app.options.appId);const Q=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return Q&&(T["X-Firebase-Client"]=Q),T})()}}function Sn(E){return(0,b.m9)(E)}class Hr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,b.ne)(g=>this.observer=g)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jr(E){const p=E.indexOf(":");return p<0?"":E.substr(0,p+1)}function yi(E){if(!E)return null;const p=Number(E);return isNaN(p)?null:p}class ii{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Pe("not implemented")}_getIdTokenResponse(p){return Pe("not implemented")}_linkToIdToken(p,g){return Pe("not implemented")}_getReauthenticationResolver(p){return Pe("not implemented")}}function Sr(E,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,m.Z)(function*(E,p){return Cn(E,"POST","/v1/accounts:resetPassword",Mn(E,p))})).apply(this,arguments)}function Mr(E,p){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,m.Z)(function*(E,p){return Cn(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Fi(E,p){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,m.Z)(function*(E,p){return Cn(E,"POST","/v1/accounts:update",Mn(E,p))})).apply(this,arguments)}function Qr(){return(Qr=(0,m.Z)(function*(E,p){return Un(E,"POST","/v1/accounts:signInWithPassword",Mn(E,p))})).apply(this,arguments)}function Xr(E,p){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,m.Z)(function*(E,p){return Cn(E,"POST","/v1/accounts:sendOobCode",Mn(E,p))})).apply(this,arguments)}function wr(E,p){return cs.apply(this,arguments)}function cs(){return(cs=(0,m.Z)(function*(E,p){return Xr(E,p)})).apply(this,arguments)}function di(E,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,m.Z)(function*(E,p){return Xr(E,p)})).apply(this,arguments)}function Wo(E,p){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,m.Z)(function*(E,p){return Xr(E,p)})).apply(this,arguments)}function Qs(E,p){return Si.apply(this,arguments)}function Si(){return(Si=(0,m.Z)(function*(E,p){return Xr(E,p)})).apply(this,arguments)}function fa(){return(fa=(0,m.Z)(function*(E,p){return Un(E,"POST","/v1/accounts:signInWithEmailLink",Mn(E,p))})).apply(this,arguments)}function Xs(){return(Xs=(0,m.Z)(function*(E,p){return Un(E,"POST","/v1/accounts:signInWithEmailLink",Mn(E,p))})).apply(this,arguments)}class qo extends ii{constructor(p,g,T,Q=null){super("password",T),this._email=p,this._password=g,this._tenantId=Q}static _fromEmailAndPassword(p,g){return new qo(p,g,"password")}static _fromEmailAndCode(p,g,T=null){return new qo(p,g,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,m.Z)(function*(){switch(g.signInMethod){case"password":return function _s(E,p){return Qr.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Fa(E,p){return fa.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:ze(p,"internal-error")}})()}_linkToIdToken(p,g){var T=this;return(0,m.Z)(function*(){switch(T.signInMethod){case"password":return Mr(p,{idToken:g,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function To(E,p){return Xs.apply(this,arguments)}(p,{idToken:g,email:T._email,oobCode:T._password});default:ze(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function hi(E,p){return mt.apply(this,arguments)}function mt(){return(mt=(0,m.Z)(function*(E,p){return Un(E,"POST","/v1/accounts:signInWithIdp",Mn(E,p))})).apply(this,arguments)}class St extends ii{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new St(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):ze("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:Q}=g,fe=(0,se._T)(g,["providerId","signInMethod"]);if(!T||!Q)return null;const We=new St(T,Q);return We.idToken=fe.idToken||void 0,We.accessToken=fe.accessToken||void 0,We.secret=fe.secret,We.nonce=fe.nonce,We.pendingToken=fe.pendingToken||null,We}_getIdTokenResponse(p){return hi(p,this.buildRequest())}_linkToIdToken(p,g){const T=this.buildRequest();return T.idToken=g,hi(p,T)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,hi(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,b.xO)(g)}return p}}function Ut(E,p){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,m.Z)(function*(E,p){return Cn(E,"POST","/v1/accounts:sendVerificationCode",Mn(E,p))})).apply(this,arguments)}function $n(){return($n=(0,m.Z)(function*(E,p){return Un(E,"POST","/v1/accounts:signInWithPhoneNumber",Mn(E,p))})).apply(this,arguments)}function Rr(){return(Rr=(0,m.Z)(function*(E,p){const g=yield Un(E,"POST","/v1/accounts:signInWithPhoneNumber",Mn(E,p));if(g.temporaryProof)throw Hn(E,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ji={USER_NOT_FOUND:"user-not-found"};function Ts(){return(Ts=(0,m.Z)(function*(E,p){return Un(E,"POST","/v1/accounts:signInWithPhoneNumber",Mn(E,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ji)})).apply(this,arguments)}class Cr extends ii{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Cr({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Cr({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function an(E,p){return $n.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function ar(E,p){return Rr.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ai(E,p){return Ts.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:T,verificationCode:Q}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:T,code:Q}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:T,phoneNumber:Q,temporaryProof:fe}=p;return T||g||Q||fe?new Cr({verificationId:g,verificationCode:T,phoneNumber:Q,temporaryProof:fe}):null}}class Js{constructor(p){var g,T,Q,fe,We,yt;const bn=(0,b.zd)((0,b.pd)(p)),Gt=null!==(g=bn.apiKey)&&void 0!==g?g:null,_t=null!==(T=bn.oobCode)&&void 0!==T?T:null,Bt=function Gn(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=bn.mode)&&void 0!==Q?Q:null);R(Gt&&_t&&Bt,"argument-error"),this.apiKey=Gt,this.operation=Bt,this.code=_t,this.continueUrl=null!==(fe=bn.continueUrl)&&void 0!==fe?fe:null,this.languageCode=null!==(We=bn.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(yt=bn.tenantId)&&void 0!==yt?yt:null}static parseLink(p){const g=function Mi(E){const p=(0,b.zd)((0,b.pd)(E)).link,g=p?(0,b.zd)((0,b.pd)(p)).deep_link_id:null,T=(0,b.zd)((0,b.pd)(E)).deep_link_id;return(T?(0,b.zd)((0,b.pd)(T)).link:null)||T||g||p||E}(p);try{return new Js(g)}catch{return null}}}let li=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(g,T){return qo._fromEmailAndPassword(g,T)}static credentialWithLink(g,T){const Q=Js.parseLink(T);return R(Q,"argument-error"),qo._fromEmailAndCode(g,Q.code,Q.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Yi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class eo extends Yi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Zi extends eo{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return R("providerId"in g&&"signInMethod"in g,"argument-error"),St._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return R(p.idToken||p.accessToken,"argument-error"),St._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Zi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Zi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:T,oauthTokenSecret:Q,pendingToken:fe,nonce:We,providerId:yt}=p;if(!T&&!Q&&!g&&!fe||!yt)return null;try{return new Zi(yt)._credential({idToken:g,accessToken:T,nonce:We,pendingToken:fe})}catch{return null}}}let uo=(()=>{class E extends eo{constructor(){super("facebook.com")}static credential(g){return St._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Qi=(()=>{class E extends eo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,T){return St._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:T})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:T,oauthAccessToken:Q}=g;if(!T&&!Q)return null;try{return E.credential(T,Q)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),So=(()=>{class E extends eo{constructor(){super("github.com")}static credential(g){return St._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Mo extends ii{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return hi(p,this.buildRequest())}_linkToIdToken(p,g){const T=this.buildRequest();return T.idToken=g,hi(p,T)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,hi(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:Q,pendingToken:fe}=g;return T&&Q&&fe&&T===Q?new Mo(T,fe):null}static _create(p,g){return new Mo(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ns extends Yi{constructor(p){R(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ns.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ns.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Mo.fromJSON(p);return R(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:T}=p;if(!g||!T)return null;try{return Mo._create(T,g)}catch{return null}}}let rs=(()=>{class E extends eo{constructor(){super("twitter.com")}static credential(g,T){return St._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:T})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:T,oauthTokenSecret:Q}=g;if(!T||!Q)return null;try{return E.credential(T,Q)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Fs(E,p){return ho.apply(this,arguments)}function ho(){return(ho=(0,m.Z)(function*(E,p){return Un(E,"POST","/v1/accounts:signUp",Mn(E,p))})).apply(this,arguments)}class ri{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,T,Q=!1){return(0,m.Z)(function*(){const fe=yield Et._fromIdTokenResponse(p,T,Q),We=lr(T);return new ri({user:fe,providerId:We,_tokenResponse:T,operationType:g})})()}static _forOperation(p,g,T){return(0,m.Z)(function*(){yield p._updateTokensIfNecessary(T,!0);const Q=lr(T);return new ri({user:p,providerId:Q,_tokenResponse:T,operationType:g})})()}}function lr(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Jr(){return(Jr=(0,m.Z)(function*(E){var p;const g=Sn(E);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new ri({user:g.currentUser,providerId:null,operationType:"signIn"});const T=yield Fs(g,{returnSecureToken:!0}),Q=yield ri._fromIdTokenResponse(g,"signIn",T,!0);return yield g._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Yo extends b.ZR{constructor(p,g,T,Q){var fe;super(g.code,g.message),this.operationType=T,this.user=Q,Object.setPrototypeOf(this,Yo.prototype),this.customData={appName:p.name,tenantId:null!==(fe=p.tenantId)&&void 0!==fe?fe:void 0,_serverResponse:g.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(p,g,T,Q){return new Yo(p,g,T,Q)}}function Ls(E,p,g,T){return("reauthenticate"===p?g._getReauthenticationResolver(E):g._getIdTokenResponse(E)).catch(fe=>{throw"auth/multi-factor-auth-required"===fe.code?Yo._fromErrorAndOperation(E,fe,p,T):fe})}function is(E){return new Set(E.map(({providerId:p})=>p).filter(p=>!!p))}function Zo(){return(Zo=(0,m.Z)(function*(E,p){const g=(0,b.m9)(E);yield Dr(!0,g,p);const{providerUserInfo:T}=yield Jn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),Q=is(T||[]);return g.providerData=g.providerData.filter(fe=>Q.has(fe.providerId)),Q.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function ui(E,p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,m.Z)(function*(E,p,g=!1){const T=yield te(E,p._linkToIdToken(E.auth,yield E.getIdToken()),g);return ri._forOperation(E,"link",T)})).apply(this,arguments)}function Dr(E,p,g){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,m.Z)(function*(E,p,g){yield sn(p);const Q=!1===E?"provider-already-linked":"no-such-provider";R(is(p.providerData).has(g)===E,p.auth,Q)})).apply(this,arguments)}function Ss(E,p){return $i.apply(this,arguments)}function $i(){return($i=(0,m.Z)(function*(E,p,g=!1){var T;const{auth:Q}=E,fe="reauthenticate";try{const We=yield te(E,Ls(Q,fe,p,E),g);R(We.idToken,Q,"internal-error");const yt=_e(We.idToken);R(yt,Q,"internal-error");const{sub:bn}=yt;return R(E.uid===bn,Q,"user-mismatch"),ri._forOperation(E,fe,We)}catch(We){throw"auth/user-not-found"===(null===(T=We)||void 0===T?void 0:T.code)&&ze(Q,"user-mismatch"),We}})).apply(this,arguments)}function Gi(E,p){return to.apply(this,arguments)}function to(){return(to=(0,m.Z)(function*(E,p,g=!1){const T="signIn",Q=yield Ls(E,T,p),fe=yield ri._fromIdTokenResponse(E,T,Q);return g||(yield E._updateCurrentUser(fe.user)),fe})).apply(this,arguments)}function zr(E,p){return cr.apply(this,arguments)}function cr(){return(cr=(0,m.Z)(function*(E,p){return Gi(Sn(E),p)})).apply(this,arguments)}function ga(E,p){return La.apply(this,arguments)}function La(){return(La=(0,m.Z)(function*(E,p){const g=(0,b.m9)(E);return yield Dr(!1,g,p.providerId),ui(g,p)})).apply(this,arguments)}function _a(E,p){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,m.Z)(function*(E,p){return Ss((0,b.m9)(E),p)})).apply(this,arguments)}function Ir(E,p){return xi.apply(this,arguments)}function xi(){return(xi=(0,m.Z)(function*(E,p){return Un(E,"POST","/v1/accounts:signInWithCustomToken",Mn(E,p))})).apply(this,arguments)}function xo(){return(xo=(0,m.Z)(function*(E,p){const g=Sn(E),T=yield Ir(g,{token:p,returnSecureToken:!0}),Q=yield ri._fromIdTokenResponse(g,"signIn",T);return yield g._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class rn{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ir._fromServerResponse(p,g):ze(p,"internal-error")}}class ir extends rn{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ir(g)}}function As(E,p,g){var T;R((null===(T=g.url)||void 0===T?void 0:T.length)>0,E,"invalid-continue-uri"),R(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(R(g.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(R(g.android.packageName.length>0,E,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Fn(){return(Fn=(0,m.Z)(function*(E,p,g){const T=(0,b.m9)(E),Q={requestType:"PASSWORD_RESET",email:p};g&&As(T,Q,g),yield di(T,Q)})).apply(this,arguments)}function j(){return(j=(0,m.Z)(function*(E,p,g){yield Sr((0,b.m9)(E),{oobCode:p,newPassword:g})})).apply(this,arguments)}function ie(){return(ie=(0,m.Z)(function*(E,p){yield Fi((0,b.m9)(E),{oobCode:p})})).apply(this,arguments)}function Pt(E,p){return An.apply(this,arguments)}function An(){return(An=(0,m.Z)(function*(E,p){const g=(0,b.m9)(E),T=yield Sr(g,{oobCode:p}),Q=T.requestType;switch(R(Q,g,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":R(T.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":R(T.mfaInfo,g,"internal-error");default:R(T.email,g,"internal-error")}let fe=null;return T.mfaInfo&&(fe=rn._fromServerResponse(Sn(g),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:fe},operation:Q}})).apply(this,arguments)}function Ri(){return(Ri=(0,m.Z)(function*(E,p){const{data:g}=yield Pt((0,b.m9)(E),p);return g.email})).apply(this,arguments)}function oi(){return(oi=(0,m.Z)(function*(E,p,g){const T=Sn(E),Q=yield Fs(T,{returnSecureToken:!0,email:p,password:g}),fe=yield ri._fromIdTokenResponse(T,"signIn",Q);return yield T._updateCurrentUser(fe.user),fe})).apply(this,arguments)}function Xo(){return(Xo=(0,m.Z)(function*(E,p,g){const T=(0,b.m9)(E),Q={requestType:"EMAIL_SIGNIN",email:p};R(g.handleCodeInApp,T,"argument-error"),g&&As(T,Q,g),yield Wo(T,Q)})).apply(this,arguments)}function po(){return(po=(0,m.Z)(function*(E,p,g){const T=(0,b.m9)(E),Q=li.credentialWithLink(p,g||Dt());return R(Q._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),zr(T,Q)})).apply(this,arguments)}function al(E,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,m.Z)(function*(E,p){return Cn(E,"POST","/v1/accounts:createAuthUri",Mn(E,p))})).apply(this,arguments)}function ko(){return(ko=(0,m.Z)(function*(E,p){const T={identifier:p,continueUri:$t()?Dt():"http://localhost"},{signinMethods:Q}=yield al((0,b.m9)(E),T);return Q||[]})).apply(this,arguments)}function va(){return(va=(0,m.Z)(function*(E,p){const g=(0,b.m9)(E),Q={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};p&&As(g.auth,Q,p);const{email:fe}=yield wr(g.auth,Q);fe!==E.email&&(yield E.reload())})).apply(this,arguments)}function ba(){return(ba=(0,m.Z)(function*(E,p,g){const T=(0,b.m9)(E),fe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:p};g&&As(T.auth,fe,g);const{email:We}=yield Qs(T.auth,fe);We!==E.email&&(yield E.reload())})).apply(this,arguments)}function ll(E,p){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,m.Z)(function*(E,p){return Cn(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ha(){return(Ha=(0,m.Z)(function*(E,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const T=(0,b.m9)(E),fe={idToken:yield T.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},We=yield te(T,ll(T.auth,fe));T.displayName=We.displayName||null,T.photoURL=We.photoUrl||null;const yt=T.providerData.find(({providerId:bn})=>"password"===bn);yt&&(yt.displayName=T.displayName,yt.photoURL=T.photoURL),yield T._updateTokensIfNecessary(We)})).apply(this,arguments)}function U(E,p,g){return le.apply(this,arguments)}function le(){return(le=(0,m.Z)(function*(E,p,g){const{auth:T}=E,fe={idToken:yield E.getIdToken(),returnSecureToken:!0};p&&(fe.email=p),g&&(fe.password=g);const We=yield te(E,Mr(T,fe));yield E._updateTokensIfNecessary(We,!0)})).apply(this,arguments)}class xt{constructor(p,g,T={}){this.isNewUser=p,this.providerId=g,this.profile=T}}class Wt extends xt{constructor(p,g,T,Q){super(p,g,T),this.username=Q}}class xn extends xt{constructor(p,g){super(p,"facebook.com",g)}}class Ar extends Wt{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Vr extends xt{constructor(p,g){super(p,"google.com",g)}}class Ur extends Wt{constructor(p,g,T){super(p,"twitter.com",g,T)}}function Pr(E){const{user:p,_tokenResponse:g}=E;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function tt(E){var p,g;if(!E)return null;const{providerId:T}=E,Q=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},fe=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!T&&E?.idToken){const We=null===(g=null===(p=_e(E.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(We)return new xt(fe,"anonymous"!==We&&"custom"!==We?We:null)}if(!T)return null;switch(T){case"facebook.com":return new xn(fe,Q);case"github.com":return new Ar(fe,Q);case"google.com":return new Vr(fe,Q);case"twitter.com":return new Ur(fe,Q,E.screenName||null);case"custom":case"anonymous":return new xt(fe,null);default:return new xt(fe,T,Q)}}(g)}class no{constructor(p,g,T){this.type=p,this.credential=g,this.auth=T}static _fromIdtoken(p,g){return new no("enroll",p,g)}static _fromMfaPendingCredential(p){return new no("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,T;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return no._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(T=p.multiFactorSession)&&void 0!==T&&T.idToken)return no._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Oo{constructor(p,g,T){this.session=p,this.hints=g,this.signInResolver=T}static _fromError(p,g){const T=Sn(p),Q=g.customData._serverResponse,fe=(Q.mfaInfo||[]).map(yt=>rn._fromServerResponse(T,yt));R(Q.mfaPendingCredential,T,"internal-error");const We=no._fromMfaPendingCredential(Q.mfaPendingCredential);return new Oo(We,fe,function(){var yt=(0,m.Z)(function*(bn){const Gt=yield bn._process(T,We);delete Q.mfaInfo,delete Q.mfaPendingCredential;const _t=Object.assign(Object.assign({},Q),{idToken:Gt.idToken,refreshToken:Gt.refreshToken});switch(g.operationType){case"signIn":const Bt=yield ri._fromIdTokenResponse(T,g.operationType,_t);return yield T._updateCurrentUser(Bt.user),Bt;case"reauthenticate":return R(g.user,T,"internal-error"),ri._forOperation(g.user,g.operationType,_t);default:ze(T,"internal-error")}});return function(bn){return yt.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,m.Z)(function*(){return g.signInResolver(p)})()}}function go(E,p){return Cn(E,"POST","/v2/accounts/mfaEnrollment:start",Mn(E,p))}class pu{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(T=>rn._fromServerResponse(p.auth,T)))})}static _fromUser(p){return new pu(p)}getSession(){var p=this;return(0,m.Z)(function*(){return no._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var T=this;return(0,m.Z)(function*(){const Q=p,fe=yield T.getSession(),We=yield te(T.user,Q._process(T.user.auth,fe,g));return yield T.user._updateTokensIfNecessary(We),T.user.reload()})()}unenroll(p){var g=this;return(0,m.Z)(function*(){var T;const Q="string"==typeof p?p:p.uid,fe=yield g.user.getIdToken(),We=yield te(g.user,function mc(E,p){return Cn(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Mn(E,p))}(g.user.auth,{idToken:fe,mfaEnrollmentId:Q}));g.enrolledFactors=g.enrolledFactors.filter(({uid:yt})=>yt!==Q),yield g.user._updateTokensIfNecessary(We);try{yield g.user.reload()}catch(yt){if("auth/user-token-expired"!==(null===(T=yt)||void 0===T?void 0:T.code))throw yt}})()}}const ja=new WeakMap,na="__sak";class cl{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(na,"1"),this.storage.removeItem(na),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bn=(()=>{class E extends cl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,T)=>this.onStorageEvent(g,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Hs(){const E=(0,b.z$)();return On(E)||Ce(E)}()&&function wt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Xe(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const T of Object.keys(this.listeners)){const Q=this.storage.getItem(T),fe=this.localCache[T];Q!==fe&&g(T,fe,Q)}}onStorageEvent(g,T=!1){if(!g.key)return void this.forAllChangedKeys((yt,bn,Gt)=>{this.notifyListeners(yt,Gt)});const Q=g.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const yt=this.storage.getItem(Q);if(g.newValue!==yt)null!==g.newValue?this.storage.setItem(Q,g.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===g.newValue&&!T)return}const fe=()=>{const yt=this.storage.getItem(Q);!T&&this.localCache[Q]===yt||this.notifyListeners(Q,yt)},We=this.storage.getItem(Q);!function de(){return(0,b.w1)()&&10===document.documentMode}()||We===g.newValue||g.newValue===g.oldValue?fe():setTimeout(fe,10)}notifyListeners(g,T){this.localCache[g]=T;const Q=this.listeners[g];if(Q)for(const fe of Array.from(Q))fe(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,T,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:T,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,T){var Q=()=>super._set,fe=this;return(0,m.Z)(function*(){yield Q().call(fe,g,T),fe.localCache[g]=JSON.stringify(T)})()}_get(g){var T=()=>super._get,Q=this;return(0,m.Z)(function*(){const fe=yield T().call(Q,g);return Q.localCache[g]=JSON.stringify(fe),fe})()}_remove(g){var T=()=>super._remove,Q=this;return(0,m.Z)(function*(){yield T().call(Q,g),delete Q.localCache[g]})()}}return E.type="LOCAL",E})(),Tn=(()=>{class E extends cl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,T){}_removeListener(g,T){}}return E.type="SESSION",E})();let dl=(()=>{class E{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const T=this.receivers.find(fe=>fe.isListeningto(g));if(T)return T;const Q=new E(g);return this.receivers.push(Q),Q}isListeningto(g){return this.eventTarget===g}handleEvent(g){var T=this;return(0,m.Z)(function*(){const Q=g,{eventId:fe,eventType:We,data:yt}=Q.data,bn=T.handlersMap[We];if(!bn?.size)return;Q.ports[0].postMessage({status:"ack",eventId:fe,eventType:We});const Gt=Array.from(bn).map(function(){var Bt=(0,m.Z)(function*(Gr){return Gr(Q.origin,yt)});return function(Gr){return Bt.apply(this,arguments)}}()),_t=yield function ss(E){return Promise.all(E.map(function(){var p=(0,m.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(T){return{fulfilled:!1,reason:T}}});return function(g){return p.apply(this,arguments)}}()))}(Gt);Q.ports[0].postMessage({status:"done",eventId:fe,eventType:We,response:_t})})()}_subscribe(g,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(T)}_unsubscribe(g,T){this.handlersMap[g]&&T&&this.handlersMap[g].delete(T),(!T||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function _o(E="",p=10){let g="";for(let T=0;T<p;T++)g+=Math.floor(10*Math.random());return E+g}class $a{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,T=50){var Q=this;return(0,m.Z)(function*(){const fe=typeof MessageChannel<"u"?new MessageChannel:null;if(!fe)throw new Error("connection_unavailable");let We,yt;return new Promise((bn,Gt)=>{const _t=_o("",20);fe.port1.start();const Bt=setTimeout(()=>{Gt(new Error("unsupported_event"))},T);yt={messageChannel:fe,onMessage(Gr){const ca=Gr;if(ca.data.eventId===_t)switch(ca.data.status){case"ack":clearTimeout(Bt),We=setTimeout(()=>{Gt(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),bn(ca.data.response);break;default:clearTimeout(Bt),clearTimeout(We),Gt(new Error("invalid_response"))}}},Q.handlers.add(yt),fe.port1.addEventListener("message",yt.onMessage),Q.target.postMessage({eventType:p,eventId:_t,data:g},[fe.port2])}).finally(()=>{yt&&Q.removeMessageHandler(yt)})})()}}function Ei(){return window}function hl(){return typeof Ei().WorkerGlobalScope<"u"&&"function"==typeof Ei().importScripts}function ki(){return(ki=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const us="firebaseLocalStorageDb",Ga="firebaseLocalStorage",Hl="fbase_key";class ra{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Or(E,p){return E.transaction([Ga],p?"readwrite":"readonly").objectStore(Ga)}function ia(){const E=indexedDB.open(us,1);return new Promise((p,g)=>{E.addEventListener("error",()=>{g(E.error)}),E.addEventListener("upgradeneeded",()=>{const T=E.result;try{T.createObjectStore(Ga,{keyPath:Hl})}catch(Q){g(Q)}}),E.addEventListener("success",(0,m.Z)(function*(){const T=E.result;T.objectStoreNames.contains(Ga)?p(T):(T.close(),yield function gc(){const E=indexedDB.deleteDatabase(us);return new ra(E).toPromise()}(),p(yield ia()))}))})}function ro(E,p,g){return za.apply(this,arguments)}function za(){return(za=(0,m.Z)(function*(E,p,g){const T=Or(E,!0).put({[Hl]:p,value:g});return new ra(T).toPromise()})).apply(this,arguments)}function Rs(){return(Rs=(0,m.Z)(function*(E,p){const g=Or(E,!1).get(p),T=yield new ra(g).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Po(E,p){const g=Or(E,!0).delete(p);return new ra(g).toPromise()}const yo=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,m.Z)(function*(){return g.db||(g.db=yield ia()),g.db})()}_withRetries(g){var T=this;return(0,m.Z)(function*(){let Q=0;for(;;)try{const fe=yield T._openDb();return yield g(fe)}catch(fe){if(Q++>3)throw fe;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,m.Z)(function*(){return hl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,m.Z)(function*(){g.receiver=dl._getInstance(function Li(){return hl()?self:null}()),g.receiver._subscribe("keyChanged",function(){var T=(0,m.Z)(function*(Q,fe){return{keyProcessed:(yield g._poll()).includes(fe.key)}});return function(Q,fe){return T.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var T=(0,m.Z)(function*(Q,fe){return["keyChanged"]});return function(Q,fe){return T.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,m.Z)(function*(){var T,Q;if(g.activeServiceWorker=yield function js(){return ki.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new $a(g.activeServiceWorker);const fe=yield g.sender._send("ping",{},800);!fe||(null===(T=fe[0])||void 0===T?void 0:T.fulfilled)&&(null===(Q=fe[0])||void 0===Q?void 0:Q.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var T=this;return(0,m.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function $s(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:g},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ia();return yield ro(g,na,"1"),yield Po(g,na),!0}catch{}return!1})()}_withPendingWrite(g){var T=this;return(0,m.Z)(function*(){T.pendingWrites++;try{yield g()}finally{T.pendingWrites--}})()}_set(g,T){var Q=this;return(0,m.Z)(function*(){return Q._withPendingWrite((0,m.Z)(function*(){return yield Q._withRetries(fe=>ro(fe,g,T)),Q.localCache[g]=T,Q.notifyServiceWorker(g)}))})()}_get(g){var T=this;return(0,m.Z)(function*(){const Q=yield T._withRetries(fe=>function fl(E,p){return Rs.apply(this,arguments)}(fe,g));return T.localCache[g]=Q,Q})()}_remove(g){var T=this;return(0,m.Z)(function*(){return T._withPendingWrite((0,m.Z)(function*(){return yield T._withRetries(Q=>Po(Q,g)),delete T.localCache[g],T.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,m.Z)(function*(){const T=yield g._withRetries(We=>{const yt=Or(We,!1).getAll();return new ra(yt).toPromise()});if(!T)return[];if(0!==g.pendingWrites)return[];const Q=[],fe=new Set;for(const{fbase_key:We,value:yt}of T)fe.add(We),JSON.stringify(g.localCache[We])!==JSON.stringify(yt)&&(g.notifyListeners(We,yt),Q.push(We));for(const We of Object.keys(g.localCache))g.localCache[We]&&!fe.has(We)&&(g.notifyListeners(We,null),Q.push(We));return Q})()}notifyListeners(g,T){this.localCache[g]=T;const Q=this.listeners[g];if(Q)for(const fe of Array.from(Q))fe(T)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function wa(E,p){return Cn(E,"POST","/v2/accounts/mfaSignIn:start",Mn(E,p))}function No(){return(No=(0,m.Z)(function*(E){return(yield Cn(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fo(E){return new Promise((p,g)=>{const T=document.createElement("script");T.setAttribute("src",E),T.onload=p,T.onerror=Q=>{const fe=Se("internal-error");fe.customData=Q,g(fe)},T.type="text/javascript",T.charset="UTF-8",function ds(){var E,p;return null!==(p=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==p?p:document}().appendChild(T)})}function pl(E){return`__${E}${Math.floor(1e6*Math.random())}`}const Ia=1e12;class ti{constructor(p){this.auth=p,this.counter=Ia,this._widgets=new Map}render(p,g){const T=this.counter;return this._widgets.set(T,new yu(p,this.auth.name,g||{})),this.counter++,T}reset(p){var g;const T=p||Ia;null===(g=this._widgets.get(T))||void 0===g||g.delete(),this._widgets.delete(T)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Ia))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,m.Z)(function*(){var T;return null===(T=g._widgets.get(p||Ia))||void 0===T||T.execute(),""})()}}class yu{constructor(p,g,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof p?document.getElementById(p):p;R(Q,"argument-error",{appName:g}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Zu(E){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<E;T++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Il=pl("rcb"),Qu=new En(3e4,6e4);class Ka{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Ei().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return R(function Xu(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Ei().grecaptcha):new Promise((T,Q)=>{const fe=Ei().setTimeout(()=>{Q(Se(p,"network-request-failed"))},Qu.get());Ei()[Il]=()=>{Ei().clearTimeout(fe),delete Ei()[Il];const yt=Ei().grecaptcha;if(!yt)return void Q(Se(p,"internal-error"));const bn=yt.render;yt.render=(Gt,_t)=>{const Bt=bn(Gt,_t);return this.counter++,Bt},this.hostLanguage=g,T(yt)},Fo(`https://www.google.com/recaptcha/api.js??${(0,b.xO)({onload:Il,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(fe),Q(Se(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Ei().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ta{load(p){return(0,m.Z)(function*(){return new ti(p)})()}clearedOneInstance(){}}const Bc="recaptcha",vu={theme:"light",type:"image"};class Bi{constructor(p,g=Object.assign({},vu),T){this.parameters=g,this.type=Bc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sn(T),this.isInvisible="invisible"===this.parameters.size,R(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof p?document.getElementById(p):p;R(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ta:new Ka,this.validateStartingState()}verify(){var p=this;return(0,m.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),T=p.getAssertedRecaptcha();return T.getResponse(g)||new Promise(fe=>{const We=yt=>{!yt||(p.tokenChangeListeners.delete(We),fe(yt))};p.tokenChangeListeners.add(We),p.isInvisible&&T.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){R(!this.parameters.sitekey,this.auth,"argument-error"),R(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),R(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(T=>T(g)),"function"==typeof p)p(g);else if("string"==typeof p){const T=Ei()[p];"function"==typeof T&&T(g)}}}assertNotDestroyed(){R(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,m.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const T=document.createElement("div");g.appendChild(T),g=T}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,m.Z)(function*(){R($t()&&!hl(),p.auth,"internal-error"),yield function oc(){let E=null;return new Promise(p=>{"complete"!==document.readyState?(E=()=>p(),window.addEventListener("load",E)):p()}).catch(p=>{throw E&&window.removeEventListener("load",E),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function vs(E){return No.apply(this,arguments)}(p.auth);R(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return R(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sa{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Cr._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Tl(){return(Tl=(0,m.Z)(function*(E,p,g){const T=Sn(E),Q=yield S(T,p,(0,b.m9)(g));return new Sa(Q,fe=>zr(T,fe))})).apply(this,arguments)}function Gs(){return(Gs=(0,m.Z)(function*(E,p,g){const T=(0,b.m9)(E);yield Dr(!1,T,"phone");const Q=yield S(T.auth,p,(0,b.m9)(g));return new Sa(Q,fe=>ga(T,fe))})).apply(this,arguments)}function ml(){return(ml=(0,m.Z)(function*(E,p,g){const T=(0,b.m9)(E),Q=yield S(T.auth,p,(0,b.m9)(g));return new Sa(Q,fe=>_a(T,fe))})).apply(this,arguments)}function S(E,p,g){return M.apply(this,arguments)}function M(){return(M=(0,m.Z)(function*(E,p,g){var T;const Q=yield g.verify();try{let fe;if(R("string"==typeof Q,E,"argument-error"),R(g.type===Bc,E,"argument-error"),fe="string"==typeof p?{phoneNumber:p}:p,"session"in fe){const We=fe.session;if("phoneNumber"in fe)return R("enroll"===We.type,E,"internal-error"),(yield go(E,{idToken:We.credential,phoneEnrollmentInfo:{phoneNumber:fe.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{R("signin"===We.type,E,"internal-error");const yt=(null===(T=fe.multiFactorHint)||void 0===T?void 0:T.uid)||fe.multiFactorUid;return R(yt,E,"missing-multi-factor-info"),(yield wa(E,{mfaPendingCredential:We.credential,mfaEnrollmentId:yt,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:We}=yield Ut(E,{phoneNumber:fe.phoneNumber,recaptchaToken:Q});return We}}finally{g._reset()}})).apply(this,arguments)}function B(){return(B=(0,m.Z)(function*(E,p){yield ui((0,b.m9)(E),p)})).apply(this,arguments)}let G=(()=>{class E{constructor(g){this.providerId=E.PROVIDER_ID,this.auth=Sn(g)}verifyPhoneNumber(g,T){return S(this.auth,g,(0,b.m9)(T))}static credential(g,T){return Cr._fromVerification(g,T)}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:T,temporaryProof:Q}=g;return T&&Q?Cr._fromTokenResponse(T,Q):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function oe(E,p){return p?Ze(p):(R(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class $e extends ii{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return hi(p,this._buildIdpRequest())}_linkToIdToken(p,g){return hi(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return hi(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Qe(E){return Gi(E.auth,new $e(E),E.bypassAuthState)}function zt(E){const{auth:p,user:g}=E;return R(g,p,"internal-error"),Ss(g,new $e(E),E.bypassAuthState)}function fn(E){return jn.apply(this,arguments)}function jn(){return(jn=(0,m.Z)(function*(E){const{auth:p,user:g}=E;return R(g,p,"internal-error"),ui(g,new $e(E),E.bypassAuthState)})).apply(this,arguments)}class Rn{constructor(p,g,T,Q,fe=!1){this.auth=p,this.resolver=T,this.user=Q,this.bypassAuthState=fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,m.Z)(function*(T,Q){p.pendingPromise={resolve:T,reject:Q};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(fe){p.reject(fe)}});return function(T,Q){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,m.Z)(function*(){const{urlResponse:T,sessionId:Q,postBody:fe,tenantId:We,error:yt,type:bn}=p;if(yt)return void g.reject(yt);const Gt={auth:g.auth,requestUri:T,sessionId:Q,tenantId:We||void 0,postBody:fe||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(bn)(Gt))}catch(_t){g.reject(_t)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Qe;case"linkViaPopup":case"linkViaRedirect":return fn;case"reauthViaPopup":case"reauthViaRedirect":return zt;default:ze(this.auth,"internal-error")}}resolve(p){ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $r=new En(2e3,1e4);function zs(){return(zs=(0,m.Z)(function*(E,p,g){const T=Sn(E);ue(E,p,Yi);const Q=oe(T,g);return new Lo(T,"signInViaPopup",p,Q).executeNotNull()})).apply(this,arguments)}function io(){return(io=(0,m.Z)(function*(E,p,g){const T=(0,b.m9)(E);ue(T.auth,p,Yi);const Q=oe(T.auth,g);return new Lo(T.auth,"reauthViaPopup",p,Q,T).executeNotNull()})).apply(this,arguments)}function hs(){return(hs=(0,m.Z)(function*(E,p,g){const T=(0,b.m9)(E);ue(T.auth,p,Yi);const Q=oe(T.auth,g);return new Lo(T.auth,"linkViaPopup",p,Q,T).executeNotNull()})).apply(this,arguments)}let Lo=(()=>{class E extends Rn{constructor(g,T,Q,fe,We){super(g,T,fe,We),this.provider=Q,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var g=this;return(0,m.Z)(function*(){const T=yield g.execute();return R(T,g.auth,"internal-error"),T})()}onExecution(){var g=this;return(0,m.Z)(function*(){ke(1===g.filter.length,"Popup operations only handle one event");const T=_o();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],T),g.authWindow.associatedEvent=T,g.resolver._originValidation(g.auth).catch(Q=>{g.reject(Q)}),g.resolver._isIframeWebStorageSupported(g.auth,Q=>{Q||g.reject(Se(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const g=()=>{var T,Q;this.pollId=null!==(Q=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,$r.get())};g()}}return E.currentPopupAction=null,E})();const oa=new Map;class Uc extends Rn{constructor(p,g,T=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,T),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,m.Z)(function*(){let T=oa.get(g.auth._key());if(!T){try{const fe=(yield function Hc(E,p){return Bo.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;T=()=>Promise.resolve(fe)}catch(Q){T=()=>Promise.reject(Q)}oa.set(g.auth._key(),T)}return g.bypassAuthState||oa.set(g.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,T=this;return(0,m.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(T,p);if("unknown"!==p.type){if(p.eventId){const Q=yield T.auth._redirectUserForId(p.eventId);if(Q)return T.user=Q,g().call(T,p);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function Bo(){return(Bo=(0,m.Z)(function*(E,p){const g=bu(p),T=aa(E);if(!(yield T._isAvailable()))return!1;const Q="true"===(yield T._get(g));return yield T._remove(g),Q})).apply(this,arguments)}function jl(E,p){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,m.Z)(function*(E,p){return aa(E)._set(bu(p),"true")})).apply(this,arguments)}function qa(E,p){oa.set(E._key(),p)}function aa(E){return Ze(E._redirectPersistence)}function bu(E){return it("pendingRedirect",E.config.apiKey,E.name)}function V(){return(V=(0,m.Z)(function*(E,p,g){const T=Sn(E);ue(E,p,Yi);const Q=oe(T,g);return yield jl(Q,T),Q._openRedirect(T,p,"signInViaRedirect")})).apply(this,arguments)}function Ge(){return(Ge=(0,m.Z)(function*(E,p,g){const T=(0,b.m9)(E);ue(T.auth,p,Yi);const Q=oe(T.auth,g);yield jl(Q,T.auth);const fe=yield Yn(T);return Q._openRedirect(T.auth,p,"reauthViaRedirect",fe)})).apply(this,arguments)}function ln(){return(ln=(0,m.Z)(function*(E,p,g){const T=(0,b.m9)(E);ue(T.auth,p,Yi);const Q=oe(T.auth,g);yield Dr(!1,T,p.providerId),yield jl(Q,T.auth);const fe=yield Yn(T);return Q._openRedirect(T.auth,p,"linkViaRedirect",fe)})).apply(this,arguments)}function Wn(){return(Wn=(0,m.Z)(function*(E,p){return yield Sn(E)._initializationPromise,tr(E,p,!1)})).apply(this,arguments)}function tr(E,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,m.Z)(function*(E,p,g=!1){const T=Sn(E),Q=oe(T,p),We=yield new Uc(T,Q,g).execute();return We&&!g&&(delete We.user._redirectEventId,yield T._persistUserIfCurrent(We.user),yield T._setRedirectUser(null,p)),We})).apply(this,arguments)}function Yn(E){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,m.Z)(function*(E){const p=_o(`${E.uid}:::`);return E._redirectEventId=p,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),p})).apply(this,arguments)}class Ya{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(p,T)&&(g=!0,this.sendToConsumer(p,T),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Ml(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Al(E);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var T;if(p.error&&!Al(p)){const Q=(null===(T=p.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";g.onError(Se(this.auth,Q))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const T=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&T}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vo(p))}saveEventToCache(p){this.cachedEventUids.add(Vo(p)),this.lastProcessedEventTime=Date.now()}}function Vo(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(p=>p).join("-")}function Al({type:E,error:p}){return"unknown"===E&&"auth/no-auth-event"===p?.code}function _l(E){return Za.apply(this,arguments)}function Za(){return(Za=(0,m.Z)(function*(E,p={}){return Cn(E,"GET","/v1/projects",p)})).apply(this,arguments)}const la=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yl=/^https?/;function Ju(){return(Ju=(0,m.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:p}=yield _l(E);for(const g of p)try{if(ed(g))return}catch{}ze(E,"unauthorized-domain")})).apply(this,arguments)}function ed(E){const p=Dt(),{protocol:g,hostname:T}=new URL(p);if(E.startsWith("chrome-extension://")){const We=new URL(E);return""===We.hostname&&""===T?"chrome-extension:"===g&&E.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&We.hostname===T}if(!yl.test(g))return!1;if(la.test(E))return T===E;const Q=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(T)}const jc=new En(3e4,6e4);function Eu(){const E=Ei().___jsl;if(E?.H)for(const p of Object.keys(E.H))if(E.H[p].r=E.H[p].r||[],E.H[p].L=E.H[p].L||[],E.H[p].r=[...E.H[p].L],E.CP)for(let g=0;g<E.CP.length;g++)E.CP[g]=null}let $l=null;function Ec(E){return $l=$l||function $c(E){return new Promise((p,g)=>{var T,Q,fe;function We(){Eu(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Eu(),g(Se(E,"network-request-failed"))},timeout:jc.get()})}if(null!==(Q=null===(T=Ei().gapi)||void 0===T?void 0:T.iframes)&&void 0!==Q&&Q.Iframe)p(gapi.iframes.getContext());else{if(null===(fe=Ei().gapi)||void 0===fe||!fe.load){const yt=pl("iframefcb");return Ei()[yt]=()=>{gapi.load?We():g(Se(E,"network-request-failed"))},Fo(`https://apis.google.com/js/api.js?onload=${yt}`).catch(bn=>g(bn))}We()}}).catch(p=>{throw $l=null,p})}(E),$l}const xl=new En(5e3,15e3),Qf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zc(E){const p=E.config;R(p.authDomain,E,"auth-domain-config-required");const g=p.emulator?Dn(p,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,T={apiKey:p.apiKey,appName:E.name,v:ee.SDK_VERSION},Q=Gc.get(E.config.apiHost);Q&&(T.eid=Q);const fe=E._getFrameworks();return fe.length&&(T.fw=fe.join(",")),`${g}?${(0,b.xO)(T).slice(1)}`}function Ma(){return Ma=(0,m.Z)(function*(E){const p=yield Ec(E),g=Ei().gapi;return R(g,E,"internal-error"),p.open({where:document.body,url:zc(E),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qf,dontclear:!0},T=>new Promise(function(){var Q=(0,m.Z)(function*(fe,We){yield T.restyle({setHideOnLeave:!1});const yt=Se(E,"network-request-failed"),bn=Ei().setTimeout(()=>{We(yt)},xl.get());function Gt(){Ei().clearTimeout(bn),fe(T)}T.ping(Gt).then(Gt,()=>{We(yt)})});return function(fe,We){return Q.apply(this,arguments)}}()))}),Ma.apply(this,arguments)}const Gl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vo(E,p,g,T,Q,fe){R(E.config.authDomain,E,"auth-domain-config-required"),R(E.config.apiKey,E,"invalid-api-key");const We={apiKey:E.config.apiKey,appName:E.name,authType:g,redirectUrl:T,v:ee.SDK_VERSION,eventId:Q};if(p instanceof Yi){p.setDefaultLanguage(E.languageCode),We.providerId=p.providerId||"",(0,b.xb)(p.getCustomParameters())||(We.customParameters=JSON.stringify(p.getCustomParameters()));for(const[bn,Gt]of Object.entries(fe||{}))We[bn]=Gt}if(p instanceof eo){const bn=p.getScopes().filter(Gt=>""!==Gt);bn.length>0&&(We.scopes=bn.join(","))}E.tenantId&&(We.tid=E.tenantId);const yt=We;for(const bn of Object.keys(yt))void 0===yt[bn]&&delete yt[bn];return`${function nd({config:E}){return E.emulator?Dn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,b.xO)(yt).slice(1)}`}const wu="webStorageSupport";class Uo extends class Kl{constructor(p){this.factorId=p}_process(p,g,T){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,T);case"signin":return this._finalizeSignIn(p,g.credential);default:return Pe("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Uo(p)}_finalizeEnroll(p,g,T){return function Ea(E,p){return Cn(E,"POST","/v2/accounts/mfaEnrollment:finalize",Mn(E,p))}(p,{idToken:g,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Wa(E,p){return Cn(E,"POST","/v2/accounts/mfaSignIn:finalize",Mn(E,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let so=(()=>{class E{constructor(){}static assertion(g){return Uo._fromCredential(g)}}return E.FACTOR_ID="phone",E})();var rd="@firebase/auth",Yh="0.20.11";class id{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,m.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(T=>{var Q;p((null===(Q=T)||void 0===Q?void 0:Q.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ja(){return window}function Yl(){return(Yl=(0,m.Z)(function*(E,p,g){var T;const{BuildInfo:Q}=Ja();ke(p.sessionId,"AuthEvent did not contain a session ID");const fe=yield ad(p.sessionId),We={};return Ce()?We.ibi=Q.packageName:rr()?We.apn=Q.packageName:ze(E,"operation-not-supported-in-this-environment"),Q.displayName&&(We.appDisplayName=Q.displayName),We.sessionId=fe,vo(E,g,p.type,void 0,null!==(T=p.eventId)&&void 0!==T?T:void 0,We)})).apply(this,arguments)}function Iu(){return(Iu=(0,m.Z)(function*(E){const{BuildInfo:p}=Ja(),g={};Ce()?g.iosBundleId=p.packageName:rr()?g.androidPackageName=p.packageName:ze(E,"operation-not-supported-in-this-environment"),yield _l(E,g)})).apply(this,arguments)}function od(){return(od=(0,m.Z)(function*(E,p,g){const{cordova:T}=Ja();let Q=()=>{};try{yield new Promise((fe,We)=>{let yt=null;function bn(){var Bt;fe();const Gr=null===(Bt=T.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof Gr&&Gr(),"function"==typeof g?.close&&g.close()}function Gt(){yt||(yt=window.setTimeout(()=>{We(Se(E,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===document?.visibilityState&&Gt()}p.addPassiveListener(bn),document.addEventListener("resume",Gt,!1),rr()&&document.addEventListener("visibilitychange",_t,!1),Q=()=>{p.removePassiveListener(bn),document.removeEventListener("resume",Gt,!1),document.removeEventListener("visibilitychange",_t,!1),yt&&window.clearTimeout(yt)}})}finally{Q()}})).apply(this,arguments)}function ad(E){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,m.Z)(function*(E){const p=Xp(E),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(Q=>Q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Xp(E){if(ke(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const p=new ArrayBuffer(E.length),g=new Uint8Array(p);for(let T=0;T<E.length;T++)g[T]=E.charCodeAt(T);return g}(0,b.Pz)("authIdTokenMaxAge"),function xa(E){(0,ee._registerComponent)(new je.wA("auth",(p,{options:g})=>{const T=p.getProvider("app").getImmediate(),Q=p.getProvider("heartbeat"),{apiKey:fe,authDomain:We}=T.options;return((yt,bn)=>{R(fe&&!fe.includes(":"),"invalid-api-key",{appName:yt.name}),R(!We?.includes(":"),"argument-error",{appName:yt.name});const Gt={apiKey:fe,authDomain:We,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qt(E)},_t=new hn(yt,bn,Gt);return function pt(E,p){const g=p?.persistence||[],T=(Array.isArray(g)?g:[g]).map(Ze);p?.errorMap&&E._updateErrorMap(p.errorMap),E._initializeWithPersistence(T,p?.popupRedirectResolver)}(_t,g),_t})(T,Q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,T)=>{p.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new je.wA("auth-internal",p=>{const g=Sn(p.getProvider("auth").getImmediate());return new id(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(rd,Yh,function Zh(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,ee.registerVersion)(rd,Yh,"esm2017")}("Browser");class Xh extends Ya{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,m.Z)(function*(){yield p.initPromise})()}}function wc(E){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,m.Z)(function*(E){const p=yield Ho()._get(Mu(E));return p&&(yield Ho()._remove(Mu(E))),p})).apply(this,arguments)}function ka(){const E=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const T=Math.floor(Math.random()*p.length);E.push(p.charAt(T))}return E.join("")}function Ho(){return Ze(Bn)}function Mu(E){return it("authEvent",E.config.apiKey,E.name)}function cd(E){if(!E?.includes("?"))return{};const[p,...g]=E.split("?");return(0,b.zd)(g.join("?"))}function dd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Se("no-auth-event")}}function xu(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function Rl(E=(0,b.z$)()){return!("file:"!==xu()&&"ionic:"!==xu()&&"capacitor:"!==xu()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function pd(){try{const E=self.localStorage,p=_o();if(E)return E.setItem(p,"1"),E.removeItem(p),!function Tc(E=(0,b.z$)()){return function fd(){return(0,b.w1)()&&11===document?.documentMode}()||function Ru(E=(0,b.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,b.hl)()}catch{return Es()&&(0,b.hl)()}return!1}function Es(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Sc(){return(function tp(){return"http:"===xu()||"https:"===xu()}()||(0,b.ru)()||Rl())&&!function Ic(){return(0,b.b$)()||(0,b.UG)()}()&&pd()&&!Es()}function el(){return Rl()&&typeof document<"u"}function jo(){return(jo=(0,m.Z)(function*(){return!!el()&&new Promise(E=>{const p=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),E(!0)})})})).apply(this,arguments)}const oo={LOCAL:"local",NONE:"none",SESSION:"session"},Zl=R,$o="persistence";function Yc(E){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,m.Z)(function*(E){yield E._initializationPromise;const p=ku(),g=it($o,E.config.apiKey,E.name);p&&p.setItem(g,E._getPersistence())})).apply(this,arguments)}function ku(){var E;try{return(null===(E=function kl(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const Ou=R;class Go{constructor(){this.browserResolver=Ze(class Oi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tn,this._completeRedirectFn=tr,this._overrideRedirectResult=qa}_openPopup(p,g,T,Q){var fe=this;return(0,m.Z)(function*(){var We;ke(null===(We=fe.eventManagers[p._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const yt=vo(p,g,T,Dt(),Q);return function Cu(E,p,g,T=500,Q=600){const fe=Math.max((window.screen.availHeight-Q)/2,0).toString(),We=Math.max((window.screen.availWidth-T)/2,0).toString();let yt="";const bn=Object.assign(Object.assign({},Gl),{width:T.toString(),height:Q.toString(),top:fe,left:We}),Gt=(0,b.z$)().toLowerCase();g&&(yt=er(Gt)?"_blank":g),gn(Gt)&&(p=p||"http://localhost",bn.scrollbars="yes");const _t=Object.entries(bn).reduce((Gr,[ca,Oa])=>`${Gr}${ca}=${Oa},`,"");if(function pe(E=(0,b.z$)()){var p;return Ce(E)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Gt)&&"_self"!==yt)return function qh(E,p){const g=document.createElement("a");g.href=E,g.target=p;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(T)}(p||"",yt),new zl(null);const Bt=window.open(p||"",yt,_t);R(Bt,E,"popup-blocked");try{Bt.focus()}catch{}return new zl(Bt)}(p,yt,_o())})()}_openRedirect(p,g,T,Q){var fe=this;return(0,m.Z)(function*(){return yield fe._originValidation(p),function zi(E){Ei().location.href=E}(vo(p,g,T,Dt(),Q)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:Q,promise:fe}=this.eventManagers[g];return Q?Promise.resolve(Q):(ke(fe,"If manager is not set, promise should be"),fe)}const T=this.initAndGetManager(p);return this.eventManagers[g]={promise:T},T.catch(()=>{delete this.eventManagers[g]}),T}initAndGetManager(p){var g=this;return(0,m.Z)(function*(){const T=yield function eh(E){return Ma.apply(this,arguments)}(p),Q=new Ya(p);return T.register("authEvent",fe=>(R(fe?.authEvent,p,"invalid-auth-event"),{status:Q.onEvent(fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:Q},g.iframes[p._key()]=T,Q})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(wu,{type:wu},Q=>{var fe;const We=null===(fe=Q?.[0])||void 0===fe?void 0:fe[wu];void 0!==We&&g(!!We),ze(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function bc(E){return Ju.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Xe()||On()||Ce()}}),this.cordovaResolver=Ze(class sh{constructor(){this._redirectPersistence=Tn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=tr,this._overrideRedirectResult=qa}_initialize(p){var g=this;return(0,m.Z)(function*(){const T=p._key();let Q=g.eventManagers.get(T);return Q||(Q=new Xh(p),g.eventManagers.set(T,Q),g.attachCallbackListeners(p,Q)),Q})()}_openPopup(p){ze(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,T,Q){var fe=this;return(0,m.Z)(function*(){!function rh(E){var p,g,T,Q,fe,We,yt,bn,Gt,_t;const Bt=Ja();R("function"==typeof(null===(p=Bt?.universalLinks)||void 0===p?void 0:p.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),R(typeof(null===(g=Bt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),R("function"==typeof(null===(fe=null===(Q=null===(T=Bt?.cordova)||void 0===T?void 0:T.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===fe?void 0:fe.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),R("function"==typeof(null===(bn=null===(yt=null===(We=Bt?.cordova)||void 0===We?void 0:We.plugins)||void 0===yt?void 0:yt.browsertab)||void 0===bn?void 0:bn.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),R("function"==typeof(null===(_t=null===(Gt=Bt?.cordova)||void 0===Gt?void 0:Gt.InAppBrowser)||void 0===_t?void 0:_t.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const We=yield fe._initialize(p);yield We.initialized(),We.resetRedirect(),function gl(){oa.clear()}(),yield fe._originValidation(p);const yt=function ld(E,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:ka(),postBody:null,tenantId:E.tenantId,error:Se(E,"no-auth-event")}}(p,T,Q);yield function Au(E,p){return Ho()._set(Mu(E),p)}(p,yt);const bn=yield function Ra(E,p,g){return Yl.apply(this,arguments)}(p,yt,g),Gt=yield function Tu(E){const{cordova:p}=Ja();return new Promise(g=>{p.plugins.browsertab.isAvailable(T=>{let Q=null;T?p.plugins.browsertab.openUrl(E):Q=p.InAppBrowser.open(E,function Ie(E=(0,b.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),g(Q)})})}(bn);return function Su(E,p,g){return od.apply(this,arguments)}(p,We,Gt)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function nh(E){return Iu.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:T,handleOpenURL:Q,BuildInfo:fe}=Ja(),We=setTimeout((0,m.Z)(function*(){yield wc(p),g.onEvent(dd())}),500),yt=function(){var _t=(0,m.Z)(function*(Bt){clearTimeout(We);const Gr=yield wc(p);let ca=null;Gr&&Bt?.url&&(ca=function ih(E,p){var g,T;const Q=function Vi(E){const p=cd(E),g=p.link?decodeURIComponent(p.link):void 0,T=cd(g).link,Q=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return cd(Q).link||Q||T||g||E}(p);if(Q.includes("/__/auth/callback")){const fe=cd(Q),We=fe.firebaseError?function Wi(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(fe.firebaseError)):null,yt=null===(T=null===(g=We?.code)||void 0===g?void 0:g.split("auth/"))||void 0===T?void 0:T[1],bn=yt?Se(yt):null;return bn?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:bn,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:Q,postBody:null}}return null}(Gr,Bt.url)),g.onEvent(ca||dd())});return function(Gr){return _t.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,yt);const bn=Q,Gt=`${fe.packageName.toLowerCase()}://`;Ja().handleOpenURL=function(){var _t=(0,m.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(Gt)&&yt({url:Bt}),"function"==typeof bn)try{bn(Bt)}catch(Gr){console.error(Gr)}});return function(Bt){return _t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Tn,this._completeRedirectFn=tr,this._overrideRedirectResult=qa}_initialize(p){var g=this;return(0,m.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,T,Q){var fe=this;return(0,m.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._openPopup(p,g,T,Q)})()}_openRedirect(p,g,T,Q){var fe=this;return(0,m.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._openRedirect(p,g,T,Q)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return el()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ou(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,m.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Ac(){return jo.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function md(E){return E.unwrap()}function bo(E){return Qc(E)}function Qc(E){const{_tokenResponse:p}=E instanceof b.ZR?E.customData:E;if(!p)return null;if(!(E instanceof b.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return G.credentialFromResult(E);const g=p.providerId;if(!g||"password"===g)return null;let T;switch(g){case"google.com":T=Qi;break;case"facebook.com":T=uo;break;case"github.com":T=So;break;case"twitter.com":T=rs;break;default:const{oauthIdToken:Q,oauthAccessToken:fe,oauthTokenSecret:We,pendingToken:yt,nonce:bn}=p;return fe||We||Q||yt?yt?g.startsWith("saml.")?Mo._create(g,yt):St._fromParams({providerId:g,signInMethod:g,pendingToken:yt,idToken:Q,accessToken:fe}):new Zi(g).credential({idToken:Q,accessToken:fe,rawNonce:bn}):null}return E instanceof b.ZR?T.credentialFromError(E):T.credentialFromResult(E)}function Ui(E,p){return p.catch(g=>{throw g instanceof b.ZR&&function Zc(E,p){var g,T;const Q=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(T=p)||void 0===T?void 0:T.code))p.resolver=new yd(E,function kr(E,p){var g;const T=(0,b.m9)(E),Q=p;return R(p.customData.operationType,T,"argument-error"),R(null===(g=Q.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,T,"argument-error"),Oo._fromError(T,Q)}(E,p));else if(Q){const fe=Qc(p),We=p;fe&&(We.credential=fe,We.tenantId=Q.tenantId||void 0,We.email=Q.email||void 0,We.phoneNumber=Q.phoneNumber||void 0)}}(E,g),g}).then(g=>{const Q=g.user;return{operationType:g.operationType,credential:bo(g),additionalUserInfo:Pr(g),user:Pl.getOrCreate(Q)}})}function gd(E,p){return _d.apply(this,arguments)}function _d(){return(_d=(0,m.Z)(function*(E,p){const g=yield p;return{verificationId:g.verificationId,confirm:T=>Ui(E,g.confirm(T))}})).apply(this,arguments)}class yd{constructor(p,g){this.resolver=g,this.auth=function Ol(E){return E.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ui(md(this.auth),this.resolver.resolveSignIn(p))}}class Pl{constructor(p){this._delegate=p,this.multiFactor=function nn(E){const p=(0,b.m9)(E);return ja.has(p)||ja.set(p,pu._fromUser(p)),ja.get(p)}(p)}static getOrCreate(p){return Pl.USER_MAP.has(p)||Pl.USER_MAP.set(p,new Pl(p)),Pl.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,m.Z)(function*(){return Ui(g.auth,ga(g._delegate,p))})()}linkWithPhoneNumber(p,g){var T=this;return(0,m.Z)(function*(){return gd(T.auth,function ks(E,p,g){return Gs.apply(this,arguments)}(T._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,m.Z)(function*(){return Ui(g.auth,function Vc(E,p,g){return hs.apply(this,arguments)}(g._delegate,p,Go))})()}linkWithRedirect(p){var g=this;return(0,m.Z)(function*(){return yield Yc(Sn(g.auth)),function Ct(E,p,g){return function Vt(E,p,g){return ln.apply(this,arguments)}(E,p,g)}(g._delegate,p,Go)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,m.Z)(function*(){return Ui(g.auth,_a(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return gd(this.auth,function yc(E,p,g){return ml.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Ui(this.auth,function Ws(E,p,g){return io.apply(this,arguments)}(this._delegate,p,Go))}reauthenticateWithRedirect(p){var g=this;return(0,m.Z)(function*(){return yield Yc(Sn(g.auth)),function W(E,p,g){return function re(E,p,g){return Ge.apply(this,arguments)}(E,p,g)}(g._delegate,p,Go)})()}sendEmailVerification(p){return function ea(E,p){return va.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,m.Z)(function*(){return yield function ci(E,p){return Zo.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function N(E,p){return U((0,b.m9)(E),p,null)}(this._delegate,p)}updatePassword(p){return function X(E,p){return U((0,b.m9)(E),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function I(E,p){return B.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Ua(E,p){return Ha.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function mo(E,p,g){return ba.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Pl.USER_MAP=new WeakMap;const ao=R;let vd=(()=>{class E{constructor(g,T){if(this.app=g,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Q}=g.options;ao(Q,"invalid-api-key",{appName:g.name}),ao(Q,"invalid-api-key",{appName:g.name});const fe=typeof window<"u"?Go:void 0;this._delegate=T.initialize({options:{persistence:bd(Q,g.name),popupRedirectResolver:fe}}),this._delegate._updateErrorMap(Je),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Pl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,T){!function Yr(E,p,g){const T=Sn(E);R(T._canInitEmulator,T,"emulator-config-failed"),R(/^https?:\/\//.test(p),T,"invalid-emulator-scheme");const Q=!!g?.disableWarnings,fe=jr(p),{host:We,port:yt}=function pr(E){const p=jr(E),g=/(\/\/)?([^?#/]+)/.exec(E.substr(p.length));if(!g)return{host:"",port:null};const T=g[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(T);if(Q){const fe=Q[1];return{host:fe,port:yi(T.substr(fe.length+1))}}{const[fe,We]=T.split(":");return{host:fe,port:yi(We)}}}(p);T.config.emulator={url:`${fe}//${We}${null===yt?"":`:${yt}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:We,port:yt,protocol:fe.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function wi(){function E(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,g,T)}applyActionCode(g){return function L(E,p){return ie.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Pt(this._delegate,g)}confirmPasswordReset(g,T){return function K(E,p,g){return j.apply(this,arguments)}(this._delegate,g,T)}createUserWithEmailAndPassword(g,T){var Q=this;return(0,m.Z)(function*(){return Ui(Q._delegate,function Ms(E,p,g){return oi.apply(this,arguments)}(Q._delegate,g,T))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ya(E,p){return ko.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function fo(E,p){return"EMAIL_SIGNIN"===Js.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,m.Z)(function*(){ao(Sc(),g._delegate,"operation-not-supported-in-this-environment");const T=yield function In(E,p){return Wn.apply(this,arguments)}(g._delegate,Go);return T?Ui(g._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function oh(E,p){Sn(E)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,T,Q){const{next:fe,error:We,complete:yt}=lh(g,T,Q);return this._delegate.onAuthStateChanged(fe,We,yt)}onIdTokenChanged(g,T,Q){const{next:fe,error:We,complete:yt}=lh(g,T,Q);return this._delegate.onIdTokenChanged(fe,We,yt)}sendSignInLinkToEmail(g,T){return function Va(E,p,g){return Xo.apply(this,arguments)}(this._delegate,g,T)}sendPasswordResetEmail(g,T){return function Ro(E,p,g){return Fn.apply(this,arguments)}(this._delegate,g,T||void 0)}setPersistence(g){var T=this;return(0,m.Z)(function*(){let Q;switch(function ah(E,p){Zl(Object.values(oo).includes(p),E,"invalid-persistence-type"),(0,b.b$)()?Zl(p!==oo.SESSION,E,"unsupported-persistence-type"):(0,b.UG)()?Zl(p===oo.NONE,E,"unsupported-persistence-type"):Es()?Zl(p===oo.NONE||p===oo.LOCAL&&(0,b.hl)(),E,"unsupported-persistence-type"):Zl(p===oo.NONE||pd(),E,"unsupported-persistence-type")}(T._delegate,g),g){case oo.SESSION:Q=Tn;break;case oo.LOCAL:Q=(yield Ze(yo)._isAvailable())?yo:Bn;break;case oo.NONE:Q=Me;break;default:return ze("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(Q)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ui(this._delegate,function ma(E){return Jr.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ui(this._delegate,zr(this._delegate,g))}signInWithCustomToken(g){return Ui(this._delegate,function Ba(E,p){return xo.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,T){return Ui(this._delegate,function Vs(E,p,g){return zr((0,b.m9)(E),li.credential(p,g))}(this._delegate,g,T))}signInWithEmailLink(g,T){return Ui(this._delegate,function Vl(E,p,g){return po.apply(this,arguments)}(this._delegate,g,T))}signInWithPhoneNumber(g,T){return gd(this._delegate,function _c(E,p,g){return Tl.apply(this,arguments)}(this._delegate,g,T))}signInWithPopup(g){var T=this;return(0,m.Z)(function*(){return ao(Sc(),T._delegate,"operation-not-supported-in-this-environment"),Ui(T._delegate,function bs(E,p,g){return zs.apply(this,arguments)}(T._delegate,g,Go))})()}signInWithRedirect(g){var T=this;return(0,m.Z)(function*(){return ao(Sc(),T._delegate,"operation-not-supported-in-this-environment"),yield Yc(T._delegate),function Ji(E,p,g){return function vc(E,p,g){return V.apply(this,arguments)}(E,p,g)}(T._delegate,g,Go)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function si(E,p){return Ri.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=oo,E})();function lh(E,p,g){let T=E;"function"!=typeof E&&({next:T,error:p,complete:g}=E);const Q=T;return{next:We=>Q(We&&Pl.getOrCreate(We)),error:p,complete:g}}function bd(E,p){const g=function Ql(E,p){const g=ku();if(!g)return[];const T=it($o,E,p);switch(g.getItem(T)){case oo.NONE:return[Me];case oo.LOCAL:return[yo,Tn];case oo.SESSION:return[Tn];default:return[]}}(E,p);if(typeof self<"u"&&!g.includes(yo)&&g.push(yo),typeof window<"u")for(const T of[Bn,Tn])g.includes(T)||g.push(T);return g.includes(Me)||g.push(Me),g}class Ed{constructor(){this.providerId="phone",this._delegate=new G(md(k.Z.auth()))}static credential(p,g){return G.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Ed.PHONE_SIGN_IN_METHOD=G.PHONE_SIGN_IN_METHOD,Ed.PROVIDER_ID=G.PROVIDER_ID;const Jh=R;class Ks{constructor(p,g,T=k.Z.app()){var Q;Jh(null===(Q=T.options)||void 0===Q?void 0:Q.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new Bi(p,g,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ac(E){E.INTERNAL.registerComponent(new je.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),T=p.getProvider("auth");return new vd(g,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:li,FacebookAuthProvider:uo,GithubAuthProvider:So,GoogleAuthProvider:Qi,OAuthProvider:Zi,SAMLAuthProvider:ns,PhoneAuthProvider:Ed,PhoneMultiFactorGenerator:so,RecaptchaVerifier:Ks,TwitterAuthProvider:rs,Auth:vd,AuthCredential:ii,Error:b.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.2.24")}(k.Z)},1135:(dn,ot,A)=>{A.d(ot,{X:()=>k});var m=A(7579);class k extends m.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const Ee=super._subscribe(ee);return!Ee.closed&&ee.next(this._value),Ee}getValue(){const{hasError:ee,thrownError:Ee,_value:se}=this;if(ee)throw Ee;return this._throwIfClosed(),se}next(ee){super.next(this._value=ee)}}},9751:(dn,ot,A)=>{A.d(ot,{y:()=>xe});var m=A(930),k=A(727),b=A(8822),ee=A(9635),Ee=A(2416),se=A(576),je=A(2806);let xe=(()=>{class me{constructor(lt){lt&&(this._subscribe=lt)}lift(lt){const Je=new me;return Je.source=this,Je.operator=lt,Je}subscribe(lt,Je,bt){const ut=function ye(me){return me&&me instanceof m.Lv||function ae(me){return me&&(0,se.m)(me.next)&&(0,se.m)(me.error)&&(0,se.m)(me.complete)}(me)&&(0,k.Nn)(me)}(lt)?lt:new m.Hp(lt,Je,bt);return(0,je.x)(()=>{const{operator:ct,source:Lt}=this;ut.add(ct?ct.call(ut,Lt):Lt?this._subscribe(ut):this._trySubscribe(ut))}),ut}_trySubscribe(lt){try{return this._subscribe(lt)}catch(Je){lt.error(Je)}}forEach(lt,Je){return new(Je=Oe(Je))((bt,ut)=>{const ct=new m.Hp({next:Lt=>{try{lt(Lt)}catch(Tt){ut(Tt),ct.unsubscribe()}},error:ut,complete:bt});this.subscribe(ct)})}_subscribe(lt){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(lt)}[b.L](){return this}pipe(...lt){return(0,ee.U)(lt)(this)}toPromise(lt){return new(lt=Oe(lt))((Je,bt)=>{let ut;this.subscribe(ct=>ut=ct,ct=>bt(ct),()=>Je(ut))})}}return me.create=at=>new me(at),me})();function Oe(me){var at;return null!==(at=me??Ee.v.Promise)&&void 0!==at?at:Promise}},7579:(dn,ot,A)=>{A.d(ot,{x:()=>je});var m=A(9751),k=A(727);const ee=(0,A(3888).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=A(8737),se=A(2806);let je=(()=>{class Oe extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const me=new xe(this,this);return me.operator=ye,me}_throwIfClosed(){if(this.closed)throw new ee}next(ye){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(ye)}})}error(ye){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:me}=this;for(;me.length;)me.shift().error(ye)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:me,isStopped:at,observers:lt}=this;return me||at?k.Lc:(this.currentObservers=null,lt.push(ye),new k.w0(()=>{this.currentObservers=null,(0,Ee.P)(lt,ye)}))}_checkFinalizedStatuses(ye){const{hasError:me,thrownError:at,isStopped:lt}=this;me?ye.error(at):lt&&ye.complete()}asObservable(){const ye=new m.y;return ye.source=this,ye}}return Oe.create=(ae,ye)=>new xe(ae,ye),Oe})();class xe extends je{constructor(ae,ye){super(),this.destination=ae,this.source=ye}next(ae){var ye,me;null===(me=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===me||me.call(ye,ae)}error(ae){var ye,me;null===(me=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===me||me.call(ye,ae)}complete(){var ae,ye;null===(ye=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===ye||ye.call(ae)}_subscribe(ae){var ye,me;return null!==(me=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(ae))&&void 0!==me?me:k.Lc}}},930:(dn,ot,A)=>{A.d(ot,{Hp:()=>bt,Lv:()=>me});var m=A(576),k=A(727),b=A(2416),ee=A(7849),Ee=A(5032);const se=Oe("C",void 0,void 0);function Oe(ze,Se,ge){return{kind:ze,value:Se,error:ge}}var ae=A(3410),ye=A(2806);class me extends k.w0{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,k.Nn)(Se)&&Se.add(this)):this.destination=Tt}static create(Se,ge,ue){return new bt(Se,ge,ue)}next(Se){this.isStopped?Lt(function xe(ze){return Oe("N",ze,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?Lt(function je(ze){return Oe("E",void 0,ze)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?Lt(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function lt(ze,Se){return at.call(ze,Se)}class Je{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:ge}=this;if(ge.next)try{ge.next(Se)}catch(ue){ut(ue)}}error(Se){const{partialObserver:ge}=this;if(ge.error)try{ge.error(Se)}catch(ue){ut(ue)}else ut(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(ge){ut(ge)}}}class bt extends me{constructor(Se,ge,ue){let Le;if(super(),(0,m.m)(Se)||!Se)Le={next:Se??void 0,error:ge??void 0,complete:ue??void 0};else{let R;this&&b.v.useDeprecatedNextContext?(R=Object.create(Se),R.unsubscribe=()=>this.unsubscribe(),Le={next:Se.next&&lt(Se.next,R),error:Se.error&&lt(Se.error,R),complete:Se.complete&&lt(Se.complete,R)}):Le=Se}this.destination=new Je(Le)}}function ut(ze){b.v.useDeprecatedSynchronousErrorHandling?(0,ye.O)(ze):(0,ee.h)(ze)}function Lt(ze,Se){const{onStoppedNotification:ge}=b.v;ge&&ae.z.setTimeout(()=>ge(ze,Se))}const Tt={closed:!0,next:Ee.Z,error:function ct(ze){throw ze},complete:Ee.Z}},727:(dn,ot,A)=>{A.d(ot,{Lc:()=>se,w0:()=>Ee,Nn:()=>je});var m=A(576);const b=(0,A(3888).d)(Oe=>function(ye){Oe(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((me,at)=>`${at+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var ee=A(8737);class Ee{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const lt of ye)lt.remove(this);else ye.remove(this);const{initialTeardown:me}=this;if((0,m.m)(me))try{me()}catch(lt){ae=lt instanceof b?lt.errors:[lt]}const{_finalizers:at}=this;if(at){this._finalizers=null;for(const lt of at)try{xe(lt)}catch(Je){ae=ae??[],Je instanceof b?ae=[...ae,...Je.errors]:ae.push(Je)}}if(ae)throw new b(ae)}}add(ae){var ye;if(ae&&ae!==this)if(this.closed)xe(ae);else{if(ae instanceof Ee){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(ae)}}_hasParent(ae){const{_parentage:ye}=this;return ye===ae||Array.isArray(ye)&&ye.includes(ae)}_addParent(ae){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(ae),ye):ye?[ye,ae]:ae}_removeParent(ae){const{_parentage:ye}=this;ye===ae?this._parentage=null:Array.isArray(ye)&&(0,ee.P)(ye,ae)}remove(ae){const{_finalizers:ye}=this;ye&&(0,ee.P)(ye,ae),ae instanceof Ee&&ae._removeParent(this)}}Ee.EMPTY=(()=>{const Oe=new Ee;return Oe.closed=!0,Oe})();const se=Ee.EMPTY;function je(Oe){return Oe instanceof Ee||Oe&&"closed"in Oe&&(0,m.m)(Oe.remove)&&(0,m.m)(Oe.add)&&(0,m.m)(Oe.unsubscribe)}function xe(Oe){(0,m.m)(Oe)?Oe():Oe.unsubscribe()}},2416:(dn,ot,A)=>{A.d(ot,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(dn,ot,A)=>{A.d(ot,{a:()=>ae});var m=A(9751),k=A(4742),b=A(8996),ee=A(4671),Ee=A(3268),se=A(3269),je=A(1810),xe=A(5403),Oe=A(9672);function ae(...at){const lt=(0,se.yG)(at),Je=(0,se.jO)(at),{args:bt,keys:ut}=(0,k.D)(at);if(0===bt.length)return(0,b.D)([],lt);const ct=new m.y(function ye(at,lt,Je=ee.y){return bt=>{me(lt,()=>{const{length:ut}=at,ct=new Array(ut);let Lt=ut,Tt=ut;for(let ze=0;ze<ut;ze++)me(lt,()=>{const Se=(0,b.D)(at[ze],lt);let ge=!1;Se.subscribe((0,xe.x)(bt,ue=>{ct[ze]=ue,ge||(ge=!0,Tt--),Tt||bt.next(Je(ct.slice()))},()=>{--Lt||bt.complete()}))},bt)},bt)}}(bt,lt,ut?Lt=>(0,je.n)(ut,Lt):ee.y));return Je?ct.pipe((0,Ee.Z)(Je)):ct}function me(at,lt,Je){at?(0,Oe.f)(Je,at,lt):lt()}},7272:(dn,ot,A)=>{A.d(ot,{z:()=>Ee});var m=A(8189),b=A(3269),ee=A(8996);function Ee(...se){return function k(){return(0,m.J)(1)}()((0,ee.D)(se,(0,b.yG)(se)))}},9770:(dn,ot,A)=>{A.d(ot,{P:()=>b});var m=A(9751),k=A(8421);function b(ee){return new m.y(Ee=>{(0,k.Xf)(ee()).subscribe(Ee)})}},515:(dn,ot,A)=>{A.d(ot,{E:()=>k});const k=new(A(9751).y)(Ee=>Ee.complete())},4128:(dn,ot,A)=>{A.d(ot,{D:()=>xe});var m=A(9751),k=A(4742),b=A(8421),ee=A(3269),Ee=A(5403),se=A(3268),je=A(1810);function xe(...Oe){const ae=(0,ee.jO)(Oe),{args:ye,keys:me}=(0,k.D)(Oe),at=new m.y(lt=>{const{length:Je}=ye;if(!Je)return void lt.complete();const bt=new Array(Je);let ut=Je,ct=Je;for(let Lt=0;Lt<Je;Lt++){let Tt=!1;(0,b.Xf)(ye[Lt]).subscribe((0,Ee.x)(lt,ze=>{Tt||(Tt=!0,ct--),bt[Lt]=ze},()=>ut--,void 0,()=>{(!ut||!Tt)&&(ct||lt.next(me?(0,je.n)(me,bt):bt),lt.complete())}))}});return ae?at.pipe((0,se.Z)(ae)):at}},8996:(dn,ot,A)=>{A.d(ot,{D:()=>Se});var m=A(8421),k=A(5363),b=A(9468),se=A(9751),xe=A(2202),Oe=A(576),ae=A(9672);function me(ge,ue){if(!ge)throw new Error("Iterable cannot be null");return new se.y(Le=>{(0,ae.f)(Le,ue,()=>{const R=ge[Symbol.asyncIterator]();(0,ae.f)(Le,ue,()=>{R.next().then(Pe=>{Pe.done?Le.complete():Le.next(Pe.value)})},0,!0)})})}var at=A(3670),lt=A(8239),Je=A(1144),bt=A(6495),ut=A(2206),ct=A(4532),Lt=A(3260);function Se(ge,ue){return ue?function ze(ge,ue){if(null!=ge){if((0,at.c)(ge))return function ee(ge,ue){return(0,m.Xf)(ge).pipe((0,b.R)(ue),(0,k.Q)(ue))}(ge,ue);if((0,Je.z)(ge))return function je(ge,ue){return new se.y(Le=>{let R=0;return ue.schedule(function(){R===ge.length?Le.complete():(Le.next(ge[R++]),Le.closed||this.schedule())})})}(ge,ue);if((0,lt.t)(ge))return function Ee(ge,ue){return(0,m.Xf)(ge).pipe((0,b.R)(ue),(0,k.Q)(ue))}(ge,ue);if((0,ut.D)(ge))return me(ge,ue);if((0,bt.T)(ge))return function ye(ge,ue){return new se.y(Le=>{let R;return(0,ae.f)(Le,ue,()=>{R=ge[xe.h](),(0,ae.f)(Le,ue,()=>{let Pe,ke;try{({value:Pe,done:ke}=R.next())}catch(we){return void Le.error(we)}ke?Le.complete():Le.next(Pe)},0,!0)}),()=>(0,Oe.m)(R?.return)&&R.return()})}(ge,ue);if((0,Lt.L)(ge))return function Tt(ge,ue){return me((0,Lt.Q)(ge),ue)}(ge,ue)}throw(0,ct.z)(ge)}(ge,ue):(0,m.Xf)(ge)}},4968:(dn,ot,A)=>{A.d(ot,{R:()=>ae});var m=A(8421),k=A(9751),b=A(5577),ee=A(1144),Ee=A(576),se=A(3268);const je=["addListener","removeListener"],xe=["addEventListener","removeEventListener"],Oe=["on","off"];function ae(Je,bt,ut,ct){if((0,Ee.m)(ut)&&(ct=ut,ut=void 0),ct)return ae(Je,bt,ut).pipe((0,se.Z)(ct));const[Lt,Tt]=function lt(Je){return(0,Ee.m)(Je.addEventListener)&&(0,Ee.m)(Je.removeEventListener)}(Je)?xe.map(ze=>Se=>Je[ze](bt,Se,ut)):function me(Je){return(0,Ee.m)(Je.addListener)&&(0,Ee.m)(Je.removeListener)}(Je)?je.map(ye(Je,bt)):function at(Je){return(0,Ee.m)(Je.on)&&(0,Ee.m)(Je.off)}(Je)?Oe.map(ye(Je,bt)):[];if(!Lt&&(0,ee.z)(Je))return(0,b.z)(ze=>ae(ze,bt,ut))((0,m.Xf)(Je));if(!Lt)throw new TypeError("Invalid event target");return new k.y(ze=>{const Se=(...ge)=>ze.next(1<ge.length?ge:ge[0]);return Lt(Se),()=>Tt(Se)})}function ye(Je,bt){return ut=>ct=>Je[ut](bt,ct)}},8421:(dn,ot,A)=>{A.d(ot,{Xf:()=>at});var m=A(655),k=A(1144),b=A(8239),ee=A(9751),Ee=A(3670),se=A(2206),je=A(4532),xe=A(6495),Oe=A(3260),ae=A(576),ye=A(7849),me=A(8822);function at(ze){if(ze instanceof ee.y)return ze;if(null!=ze){if((0,Ee.c)(ze))return function lt(ze){return new ee.y(Se=>{const ge=ze[me.L]();if((0,ae.m)(ge.subscribe))return ge.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,k.z)(ze))return function Je(ze){return new ee.y(Se=>{for(let ge=0;ge<ze.length&&!Se.closed;ge++)Se.next(ze[ge]);Se.complete()})}(ze);if((0,b.t)(ze))return function bt(ze){return new ee.y(Se=>{ze.then(ge=>{Se.closed||(Se.next(ge),Se.complete())},ge=>Se.error(ge)).then(null,ye.h)})}(ze);if((0,se.D)(ze))return ct(ze);if((0,xe.T)(ze))return function ut(ze){return new ee.y(Se=>{for(const ge of ze)if(Se.next(ge),Se.closed)return;Se.complete()})}(ze);if((0,Oe.L)(ze))return function Lt(ze){return ct((0,Oe.Q)(ze))}(ze)}throw(0,je.z)(ze)}function ct(ze){return new ee.y(Se=>{(function Tt(ze,Se){var ge,ue,Le,R;return(0,m.mG)(this,void 0,void 0,function*(){try{for(ge=(0,m.KL)(ze);!(ue=yield ge.next()).done;)if(Se.next(ue.value),Se.closed)return}catch(Pe){Le={error:Pe}}finally{try{ue&&!ue.done&&(R=ge.return)&&(yield R.call(ge))}finally{if(Le)throw Le.error}}Se.complete()})})(ze,Se).catch(ge=>Se.error(ge))})}},6451:(dn,ot,A)=>{A.d(ot,{T:()=>se});var m=A(8189),k=A(8421),b=A(515),ee=A(3269),Ee=A(8996);function se(...je){const xe=(0,ee.yG)(je),Oe=(0,ee._6)(je,1/0),ae=je;return ae.length?1===ae.length?(0,k.Xf)(ae[0]):(0,m.J)(Oe)((0,Ee.D)(ae,xe)):b.E}},9646:(dn,ot,A)=>{A.d(ot,{of:()=>b});var m=A(3269),k=A(8996);function b(...ee){const Ee=(0,m.yG)(ee);return(0,k.D)(ee,Ee)}},2843:(dn,ot,A)=>{A.d(ot,{_:()=>b});var m=A(9751),k=A(576);function b(ee,Ee){const se=(0,k.m)(ee)?ee:()=>ee,je=xe=>xe.error(se());return new m.y(Ee?xe=>Ee.schedule(je,0,xe):je)}},5403:(dn,ot,A)=>{A.d(ot,{x:()=>k});var m=A(930);function k(ee,Ee,se,je,xe){return new b(ee,Ee,se,je,xe)}class b extends m.Lv{constructor(Ee,se,je,xe,Oe,ae){super(Ee),this.onFinalize=Oe,this.shouldUnsubscribe=ae,this._next=se?function(ye){try{se(ye)}catch(me){Ee.error(me)}}:super._next,this._error=xe?function(ye){try{xe(ye)}catch(me){Ee.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=je?function(){try{je()}catch(ye){Ee.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},262:(dn,ot,A)=>{A.d(ot,{K:()=>ee});var m=A(8421),k=A(5403),b=A(4482);function ee(Ee){return(0,b.e)((se,je)=>{let ae,xe=null,Oe=!1;xe=se.subscribe((0,k.x)(je,void 0,void 0,ye=>{ae=(0,m.Xf)(Ee(ye,ee(Ee)(se))),xe?(xe.unsubscribe(),xe=null,ae.subscribe(je)):Oe=!0})),Oe&&(xe.unsubscribe(),xe=null,ae.subscribe(je))})}},4351:(dn,ot,A)=>{A.d(ot,{b:()=>b});var m=A(5577),k=A(576);function b(ee,Ee){return(0,k.m)(Ee)?(0,m.z)(ee,Ee,1):(0,m.z)(ee,1)}},8372:(dn,ot,A)=>{A.d(ot,{b:()=>ee});var m=A(4986),k=A(4482),b=A(5403);function ee(Ee,se=m.z){return(0,k.e)((je,xe)=>{let Oe=null,ae=null,ye=null;const me=()=>{if(Oe){Oe.unsubscribe(),Oe=null;const lt=ae;ae=null,xe.next(lt)}};function at(){const lt=ye+Ee,Je=se.now();if(Je<lt)return Oe=this.schedule(void 0,lt-Je),void xe.add(Oe);me()}je.subscribe((0,b.x)(xe,lt=>{ae=lt,ye=se.now(),Oe||(Oe=se.schedule(at,Ee),xe.add(Oe))},()=>{me(),xe.complete()},void 0,()=>{ae=Oe=null}))})}},6590:(dn,ot,A)=>{A.d(ot,{d:()=>b});var m=A(4482),k=A(5403);function b(ee){return(0,m.e)((Ee,se)=>{let je=!1;Ee.subscribe((0,k.x)(se,xe=>{je=!0,se.next(xe)},()=>{je||se.next(ee),se.complete()}))})}},1884:(dn,ot,A)=>{A.d(ot,{x:()=>ee});var m=A(4671),k=A(4482),b=A(5403);function ee(se,je=m.y){return se=se??Ee,(0,k.e)((xe,Oe)=>{let ae,ye=!0;xe.subscribe((0,b.x)(Oe,me=>{const at=je(me);(ye||!se(ae,at))&&(ye=!1,ae=at,Oe.next(me))}))})}function Ee(se,je){return se===je}},9300:(dn,ot,A)=>{A.d(ot,{h:()=>b});var m=A(4482),k=A(5403);function b(ee,Ee){return(0,m.e)((se,je)=>{let xe=0;se.subscribe((0,k.x)(je,Oe=>ee.call(Ee,Oe,xe++)&&je.next(Oe)))})}},8746:(dn,ot,A)=>{A.d(ot,{x:()=>k});var m=A(4482);function k(b){return(0,m.e)((ee,Ee)=>{try{ee.subscribe(Ee)}finally{Ee.add(b)}})}},590:(dn,ot,A)=>{A.d(ot,{P:()=>je});var m=A(6805),k=A(9300),b=A(5698),ee=A(6590),Ee=A(8068),se=A(4671);function je(xe,Oe){const ae=arguments.length>=2;return ye=>ye.pipe(xe?(0,k.h)((me,at)=>xe(me,at,ye)):se.y,(0,b.q)(1),ae?(0,ee.d)(Oe):(0,Ee.T)(()=>new m.K))}},4004:(dn,ot,A)=>{A.d(ot,{U:()=>b});var m=A(4482),k=A(5403);function b(ee,Ee){return(0,m.e)((se,je)=>{let xe=0;se.subscribe((0,k.x)(je,Oe=>{je.next(ee.call(Ee,Oe,xe++))}))})}},8189:(dn,ot,A)=>{A.d(ot,{J:()=>b});var m=A(5577),k=A(4671);function b(ee=1/0){return(0,m.z)(k.y,ee)}},5577:(dn,ot,A)=>{A.d(ot,{z:()=>xe});var m=A(4004),k=A(8421),b=A(4482),ee=A(9672),Ee=A(5403),je=A(576);function xe(Oe,ae,ye=1/0){return(0,je.m)(ae)?xe((me,at)=>(0,m.U)((lt,Je)=>ae(me,lt,at,Je))((0,k.Xf)(Oe(me,at))),ye):("number"==typeof ae&&(ye=ae),(0,b.e)((me,at)=>function se(Oe,ae,ye,me,at,lt,Je,bt){const ut=[];let ct=0,Lt=0,Tt=!1;const ze=()=>{Tt&&!ut.length&&!ct&&ae.complete()},Se=ue=>ct<me?ge(ue):ut.push(ue),ge=ue=>{lt&&ae.next(ue),ct++;let Le=!1;(0,k.Xf)(ye(ue,Lt++)).subscribe((0,Ee.x)(ae,R=>{at?.(R),lt?Se(R):ae.next(R)},()=>{Le=!0},void 0,()=>{if(Le)try{for(ct--;ut.length&&ct<me;){const R=ut.shift();Je?(0,ee.f)(ae,Je,()=>ge(R)):ge(R)}ze()}catch(R){ae.error(R)}}))};return Oe.subscribe((0,Ee.x)(ae,Se,()=>{Tt=!0,ze()})),()=>{bt?.()}}(me,at,Oe,ye)))}},5363:(dn,ot,A)=>{A.d(ot,{Q:()=>ee});var m=A(9672),k=A(4482),b=A(5403);function ee(Ee,se=0){return(0,k.e)((je,xe)=>{je.subscribe((0,b.x)(xe,Oe=>(0,m.f)(xe,Ee,()=>xe.next(Oe),se),()=>(0,m.f)(xe,Ee,()=>xe.complete(),se),Oe=>(0,m.f)(xe,Ee,()=>xe.error(Oe),se)))})}},5026:(dn,ot,A)=>{A.d(ot,{R:()=>ee});var m=A(4482),k=A(5403);function b(Ee,se,je,xe,Oe){return(ae,ye)=>{let me=je,at=se,lt=0;ae.subscribe((0,k.x)(ye,Je=>{const bt=lt++;at=me?Ee(at,Je,bt):(me=!0,Je),xe&&ye.next(at)},Oe&&(()=>{me&&ye.next(at),ye.complete()})))}}function ee(Ee,se){return(0,m.e)(b(Ee,se,arguments.length>=2,!0))}},3099:(dn,ot,A)=>{A.d(ot,{B:()=>Ee});var m=A(8421),k=A(7579),b=A(930),ee=A(4482);function Ee(je={}){const{connector:xe=(()=>new k.x),resetOnError:Oe=!0,resetOnComplete:ae=!0,resetOnRefCountZero:ye=!0}=je;return me=>{let at,lt,Je,bt=0,ut=!1,ct=!1;const Lt=()=>{lt?.unsubscribe(),lt=void 0},Tt=()=>{Lt(),at=Je=void 0,ut=ct=!1},ze=()=>{const Se=at;Tt(),Se?.unsubscribe()};return(0,ee.e)((Se,ge)=>{bt++,!ct&&!ut&&Lt();const ue=Je=Je??xe();ge.add(()=>{bt--,0===bt&&!ct&&!ut&&(lt=se(ze,ye))}),ue.subscribe(ge),!at&&bt>0&&(at=new b.Hp({next:Le=>ue.next(Le),error:Le=>{ct=!0,Lt(),lt=se(Tt,Oe,Le),ue.error(Le)},complete:()=>{ut=!0,Lt(),lt=se(Tt,ae),ue.complete()}}),(0,m.Xf)(Se).subscribe(at))})(me)}}function se(je,xe,...Oe){if(!0===xe)return void je();if(!1===xe)return;const ae=new b.Hp({next:()=>{ae.unsubscribe(),je()}});return xe(...Oe).subscribe(ae)}},5684:(dn,ot,A)=>{A.d(ot,{T:()=>k});var m=A(9300);function k(b){return(0,m.h)((ee,Ee)=>b<=Ee)}},8675:(dn,ot,A)=>{A.d(ot,{O:()=>ee});var m=A(7272),k=A(3269),b=A(4482);function ee(...Ee){const se=(0,k.yG)(Ee);return(0,b.e)((je,xe)=>{(se?(0,m.z)(Ee,je,se):(0,m.z)(Ee,je)).subscribe(xe)})}},9468:(dn,ot,A)=>{A.d(ot,{R:()=>k});var m=A(4482);function k(b,ee=0){return(0,m.e)((Ee,se)=>{se.add(b.schedule(()=>Ee.subscribe(se),ee))})}},3900:(dn,ot,A)=>{A.d(ot,{w:()=>ee});var m=A(8421),k=A(4482),b=A(5403);function ee(Ee,se){return(0,k.e)((je,xe)=>{let Oe=null,ae=0,ye=!1;const me=()=>ye&&!Oe&&xe.complete();je.subscribe((0,b.x)(xe,at=>{Oe?.unsubscribe();let lt=0;const Je=ae++;(0,m.Xf)(Ee(at,Je)).subscribe(Oe=(0,b.x)(xe,bt=>xe.next(se?se(at,bt,Je,lt++):bt),()=>{Oe=null,me()}))},()=>{ye=!0,me()}))})}},5698:(dn,ot,A)=>{A.d(ot,{q:()=>ee});var m=A(515),k=A(4482),b=A(5403);function ee(Ee){return Ee<=0?()=>m.E:(0,k.e)((se,je)=>{let xe=0;se.subscribe((0,b.x)(je,Oe=>{++xe<=Ee&&(je.next(Oe),Ee<=xe&&je.complete())}))})}},2722:(dn,ot,A)=>{A.d(ot,{R:()=>Ee});var m=A(4482),k=A(5403),b=A(8421),ee=A(5032);function Ee(se){return(0,m.e)((je,xe)=>{(0,b.Xf)(se).subscribe((0,k.x)(xe,()=>xe.complete(),ee.Z)),!xe.closed&&je.subscribe(xe)})}},2529:(dn,ot,A)=>{A.d(ot,{o:()=>b});var m=A(4482),k=A(5403);function b(ee,Ee=!1){return(0,m.e)((se,je)=>{let xe=0;se.subscribe((0,k.x)(je,Oe=>{const ae=ee(Oe,xe++);(ae||Ee)&&je.next(Oe),!ae&&je.complete()}))})}},8505:(dn,ot,A)=>{A.d(ot,{b:()=>Ee});var m=A(576),k=A(4482),b=A(5403),ee=A(4671);function Ee(se,je,xe){const Oe=(0,m.m)(se)||je||xe?{next:se,error:je,complete:xe}:se;return Oe?(0,k.e)((ae,ye)=>{var me;null===(me=Oe.subscribe)||void 0===me||me.call(Oe);let at=!0;ae.subscribe((0,b.x)(ye,lt=>{var Je;null===(Je=Oe.next)||void 0===Je||Je.call(Oe,lt),ye.next(lt)},()=>{var lt;at=!1,null===(lt=Oe.complete)||void 0===lt||lt.call(Oe),ye.complete()},lt=>{var Je;at=!1,null===(Je=Oe.error)||void 0===Je||Je.call(Oe,lt),ye.error(lt)},()=>{var lt,Je;at&&(null===(lt=Oe.unsubscribe)||void 0===lt||lt.call(Oe)),null===(Je=Oe.finalize)||void 0===Je||Je.call(Oe)}))}):ee.y}},8068:(dn,ot,A)=>{A.d(ot,{T:()=>ee});var m=A(6805),k=A(4482),b=A(5403);function ee(se=Ee){return(0,k.e)((je,xe)=>{let Oe=!1;je.subscribe((0,b.x)(xe,ae=>{Oe=!0,xe.next(ae)},()=>Oe?xe.complete():xe.error(se())))})}function Ee(){return new m.K}},4408:(dn,ot,A)=>{A.d(ot,{o:()=>Ee});var m=A(727);class k extends m.w0{constructor(je,xe){super()}schedule(je,xe=0){return this}}const b={setInterval(se,je,...xe){const{delegate:Oe}=b;return Oe?.setInterval?Oe.setInterval(se,je,...xe):setInterval(se,je,...xe)},clearInterval(se){const{delegate:je}=b;return(je?.clearInterval||clearInterval)(se)},delegate:void 0};var ee=A(8737);class Ee extends k{constructor(je,xe){super(je,xe),this.scheduler=je,this.work=xe,this.pending=!1}schedule(je,xe=0){var Oe;if(this.closed)return this;this.state=je;const ae=this.id,ye=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(ye,ae,xe)),this.pending=!0,this.delay=xe,this.id=null!==(Oe=this.id)&&void 0!==Oe?Oe:this.requestAsyncId(ye,this.id,xe),this}requestAsyncId(je,xe,Oe=0){return b.setInterval(je.flush.bind(je,this),Oe)}recycleAsyncId(je,xe,Oe=0){if(null!=Oe&&this.delay===Oe&&!1===this.pending)return xe;null!=xe&&b.clearInterval(xe)}execute(je,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Oe=this._execute(je,xe);if(Oe)return Oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(je,xe){let ae,Oe=!1;try{this.work(je)}catch(ye){Oe=!0,ae=ye||new Error("Scheduled action threw falsy error")}if(Oe)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:je,scheduler:xe}=this,{actions:Oe}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(Oe,this),null!=je&&(this.id=this.recycleAsyncId(xe,je,null)),this.delay=null,super.unsubscribe()}}}},7565:(dn,ot,A)=>{A.d(ot,{v:()=>b});var m=A(6063);class k{constructor(Ee,se=k.now){this.schedulerActionCtor=Ee,this.now=se}schedule(Ee,se=0,je){return new this.schedulerActionCtor(this,Ee).schedule(je,se)}}k.now=m.l.now;class b extends k{constructor(Ee,se=k.now){super(Ee,se),this.actions=[],this._active=!1}flush(Ee){const{actions:se}=this;if(this._active)return void se.push(Ee);let je;this._active=!0;do{if(je=Ee.execute(Ee.state,Ee.delay))break}while(Ee=se.shift());if(this._active=!1,je){for(;Ee=se.shift();)Ee.unsubscribe();throw je}}}},4986:(dn,ot,A)=>{A.d(ot,{P:()=>ee,z:()=>b});var m=A(4408);const b=new(A(7565).v)(m.o),ee=b},6063:(dn,ot,A)=>{A.d(ot,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(dn,ot,A)=>{A.d(ot,{z:()=>m});const m={setTimeout(k,b,...ee){const{delegate:Ee}=m;return Ee?.setTimeout?Ee.setTimeout(k,b,...ee):setTimeout(k,b,...ee)},clearTimeout(k){const{delegate:b}=m;return(b?.clearTimeout||clearTimeout)(k)},delegate:void 0}},2202:(dn,ot,A)=>{A.d(ot,{h:()=>k});const k=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dn,ot,A)=>{A.d(ot,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(dn,ot,A)=>{A.d(ot,{K:()=>k});const k=(0,A(3888).d)(b=>function(){b(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(dn,ot,A)=>{A.d(ot,{_6:()=>se,jO:()=>ee,yG:()=>Ee});var m=A(576),k=A(3532);function b(je){return je[je.length-1]}function ee(je){return(0,m.m)(b(je))?je.pop():void 0}function Ee(je){return(0,k.K)(b(je))?je.pop():void 0}function se(je,xe){return"number"==typeof b(je)?je.pop():xe}},4742:(dn,ot,A)=>{A.d(ot,{D:()=>Ee});const{isArray:m}=Array,{getPrototypeOf:k,prototype:b,keys:ee}=Object;function Ee(je){if(1===je.length){const xe=je[0];if(m(xe))return{args:xe,keys:null};if(function se(je){return je&&"object"==typeof je&&k(je)===b}(xe)){const Oe=ee(xe);return{args:Oe.map(ae=>xe[ae]),keys:Oe}}}return{args:je,keys:null}}},8737:(dn,ot,A)=>{function m(k,b){if(k){const ee=k.indexOf(b);0<=ee&&k.splice(ee,1)}}A.d(ot,{P:()=>m})},3888:(dn,ot,A)=>{function m(k){const ee=k(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}A.d(ot,{d:()=>m})},1810:(dn,ot,A)=>{function m(k,b){return k.reduce((ee,Ee,se)=>(ee[Ee]=b[se],ee),{})}A.d(ot,{n:()=>m})},2806:(dn,ot,A)=>{A.d(ot,{O:()=>ee,x:()=>b});var m=A(2416);let k=null;function b(Ee){if(m.v.useDeprecatedSynchronousErrorHandling){const se=!k;if(se&&(k={errorThrown:!1,error:null}),Ee(),se){const{errorThrown:je,error:xe}=k;if(k=null,je)throw xe}}else Ee()}function ee(Ee){m.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=Ee)}},9672:(dn,ot,A)=>{function m(k,b,ee,Ee=0,se=!1){const je=b.schedule(function(){ee(),se?k.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(k.add(je),!se)return je}A.d(ot,{f:()=>m})},4671:(dn,ot,A)=>{function m(k){return k}A.d(ot,{y:()=>m})},1144:(dn,ot,A)=>{A.d(ot,{z:()=>m});const m=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(dn,ot,A)=>{A.d(ot,{D:()=>k});var m=A(576);function k(b){return Symbol.asyncIterator&&(0,m.m)(b?.[Symbol.asyncIterator])}},576:(dn,ot,A)=>{function m(k){return"function"==typeof k}A.d(ot,{m:()=>m})},3670:(dn,ot,A)=>{A.d(ot,{c:()=>b});var m=A(8822),k=A(576);function b(ee){return(0,k.m)(ee[m.L])}},6495:(dn,ot,A)=>{A.d(ot,{T:()=>b});var m=A(2202),k=A(576);function b(ee){return(0,k.m)(ee?.[m.h])}},8239:(dn,ot,A)=>{A.d(ot,{t:()=>k});var m=A(576);function k(b){return(0,m.m)(b?.then)}},3260:(dn,ot,A)=>{A.d(ot,{L:()=>ee,Q:()=>b});var m=A(655),k=A(576);function b(Ee){return(0,m.FC)(this,arguments,function*(){const je=Ee.getReader();try{for(;;){const{value:xe,done:Oe}=yield(0,m.qq)(je.read());if(Oe)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(xe)}}finally{je.releaseLock()}})}function ee(Ee){return(0,k.m)(Ee?.getReader)}},3532:(dn,ot,A)=>{A.d(ot,{K:()=>k});var m=A(576);function k(b){return b&&(0,m.m)(b.schedule)}},4482:(dn,ot,A)=>{A.d(ot,{A:()=>k,e:()=>b});var m=A(576);function k(ee){return(0,m.m)(ee?.lift)}function b(ee){return Ee=>{if(k(Ee))return Ee.lift(function(se){try{return ee(se,this)}catch(je){this.error(je)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(dn,ot,A)=>{A.d(ot,{Z:()=>ee});var m=A(4004);const{isArray:k}=Array;function ee(Ee){return(0,m.U)(se=>function b(Ee,se){return k(se)?Ee(...se):Ee(se)}(Ee,se))}},5032:(dn,ot,A)=>{function m(){}A.d(ot,{Z:()=>m})},9635:(dn,ot,A)=>{A.d(ot,{U:()=>b,z:()=>k});var m=A(4671);function k(...ee){return b(ee)}function b(ee){return 0===ee.length?m.y:1===ee.length?ee[0]:function(se){return ee.reduce((je,xe)=>xe(je),se)}}},7849:(dn,ot,A)=>{A.d(ot,{h:()=>b});var m=A(2416),k=A(3410);function b(ee){k.z.setTimeout(()=>{const{onUnhandledError:Ee}=m.v;if(!Ee)throw ee;Ee(ee)})}},4532:(dn,ot,A)=>{function m(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(ot,{z:()=>m})},655:(dn,ot,A)=>{function ee(ke,we){var Ze={};for(var ve in ke)Object.prototype.hasOwnProperty.call(ke,ve)&&we.indexOf(ve)<0&&(Ze[ve]=ke[ve]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var pt=0;for(ve=Object.getOwnPropertySymbols(ke);pt<ve.length;pt++)we.indexOf(ve[pt])<0&&Object.prototype.propertyIsEnumerable.call(ke,ve[pt])&&(Ze[ve[pt]]=ke[ve[pt]])}return Ze}function xe(ke,we,Ze,ve){return new(Ze||(Ze=Promise))(function(Dt,$t){function en(En){try{qt(ve.next(En))}catch(Dn){$t(Dn)}}function Zt(En){try{qt(ve.throw(En))}catch(Dn){$t(Dn)}}function qt(En){En.done?Dt(En.value):function pt(Dt){return Dt instanceof Ze?Dt:new Ze(function($t){$t(Dt)})}(En.value).then(en,Zt)}qt((ve=ve.apply(ke,we||[])).next())})}function ut(ke){return this instanceof ut?(this.v=ke,this):new ut(ke)}function ct(ke,we,Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,ve=Ze.apply(ke,we||[]),Dt=[];return pt={},$t("next"),$t("throw"),$t("return"),pt[Symbol.asyncIterator]=function(){return this},pt;function $t(vn){ve[vn]&&(pt[vn]=function(Jt){return new Promise(function(Vn,Mn){Dt.push([vn,Jt,Vn,Mn])>1||en(vn,Jt)})})}function en(vn,Jt){try{!function Zt(vn){vn.value instanceof ut?Promise.resolve(vn.value.v).then(qt,En):Dn(Dt[0][2],vn)}(ve[vn](Jt))}catch(Vn){Dn(Dt[0][3],Vn)}}function qt(vn){en("next",vn)}function En(vn){en("throw",vn)}function Dn(vn,Jt){vn(Jt),Dt.shift(),Dt.length&&en(Dt[0][0],Dt[0][1])}}function Tt(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,we=ke[Symbol.asyncIterator];return we?we.call(ke):(ke=function me(ke){var we="function"==typeof Symbol&&Symbol.iterator,Ze=we&&ke[we],ve=0;if(Ze)return Ze.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&ve>=ke.length&&(ke=void 0),{value:ke&&ke[ve++],done:!ke}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),Ze={},ve("next"),ve("throw"),ve("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze);function ve(Dt){Ze[Dt]=ke[Dt]&&function($t){return new Promise(function(en,Zt){!function pt(Dt,$t,en,Zt){Promise.resolve(Zt).then(function(qt){Dt({value:qt,done:en})},$t)}(en,Zt,($t=ke[Dt]($t)).done,$t.value)})}}}A.d(ot,{FC:()=>ct,KL:()=>Tt,_T:()=>ee,mG:()=>xe,qq:()=>ut})},7340:(dn,ot,A)=>{A.d(ot,{IO:()=>Je,LC:()=>k,SB:()=>Oe,X$:()=>ee,ZE:()=>Lt,ZN:()=>ct,_j:()=>m,eR:()=>ye,jt:()=>Ee,k1:()=>Tt,l3:()=>b,oB:()=>xe,pV:()=>at,ru:()=>se,vP:()=>je});class m{}class k{}const b="*";function ee(ze,Se){return{type:7,name:ze,definitions:Se,options:{}}}function Ee(ze,Se=null){return{type:4,styles:Se,timings:ze}}function se(ze,Se=null){return{type:3,steps:ze,options:Se}}function je(ze,Se=null){return{type:2,steps:ze,options:Se}}function xe(ze){return{type:6,styles:ze,offset:null}}function Oe(ze,Se,ge){return{type:0,name:ze,styles:Se,options:ge}}function ye(ze,Se,ge=null){return{type:1,expr:ze,animation:Se,options:ge}}function at(ze=null){return{type:9,options:ze}}function Je(ze,Se,ge=null){return{type:11,selector:ze,animation:Se,options:ge}}function ut(ze){Promise.resolve().then(ze)}class ct{constructor(Se=0,ge=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Se+ge}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}onStart(Se){this._originalOnStartFns.push(Se),this._onStartFns.push(Se)}onDone(Se){this._originalOnDoneFns.push(Se),this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ut(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Se=>Se()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Se){this._position=this.totalTime?Se*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Se){const ge="start"==Se?this._onStartFns:this._onDoneFns;ge.forEach(ue=>ue()),ge.length=0}}class Lt{constructor(Se){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Se;let ge=0,ue=0,Le=0;const R=this.players.length;0==R?ut(()=>this._onFinish()):this.players.forEach(Pe=>{Pe.onDone(()=>{++ge==R&&this._onFinish()}),Pe.onDestroy(()=>{++ue==R&&this._onDestroy()}),Pe.onStart(()=>{++Le==R&&this._onStart()})}),this.totalTime=this.players.reduce((Pe,ke)=>Math.max(Pe,ke.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}init(){this.players.forEach(Se=>Se.init())}onStart(Se){this._onStartFns.push(Se)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Se=>Se()),this._onStartFns=[])}onDone(Se){this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Se=>Se.play())}pause(){this.players.forEach(Se=>Se.pause())}restart(){this.players.forEach(Se=>Se.restart())}finish(){this._onFinish(),this.players.forEach(Se=>Se.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Se=>Se.destroy()),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this.players.forEach(Se=>Se.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Se){const ge=Se*this.totalTime;this.players.forEach(ue=>{const Le=ue.totalTime?Math.min(1,ge/ue.totalTime):1;ue.setPosition(Le)})}getPosition(){const Se=this.players.reduce((ge,ue)=>null===ge||ue.totalTime>ge.totalTime?ue:ge,null);return null!=Se?Se.getPosition():0}beforeDestroy(){this.players.forEach(Se=>{Se.beforeDestroy&&Se.beforeDestroy()})}triggerCallback(Se){const ge="start"==Se?this._onStartFns:this._onDoneFns;ge.forEach(ue=>ue()),ge.length=0}}const Tt="!"},2687:(dn,ot,A)=>{A.d(ot,{Kd:()=>te,X6:()=>be,ic:()=>en,qV:()=>Kn,qm:()=>Mt,rt:()=>Yt,s1:()=>pt,tE:()=>mn,yG:()=>Z});var m=A(6895),k=A(4650),b=A(3353),ee=A(7579),Ee=A(727),se=A(1135),je=A(9646),xe=A(9521),Oe=A(8505),ae=A(8372),ye=A(9300),me=A(4004),at=A(5698),lt=A(5684),Je=A(1884),bt=A(2722),ut=A(1281),ct=A(9643),Lt=A(2289);class pt extends class ve{constructor(Ue){this._items=Ue,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ee.x,this._typeaheadSubscription=Ee.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Te=>Te.disabled,this._pressedLetters=[],this.tabOut=new ee.x,this.change=new ee.x,Ue instanceof k.n_E&&Ue.changes.subscribe(Te=>{if(this._activeItem){const Et=Te.toArray().indexOf(this._activeItem);Et>-1&&Et!==this._activeItemIndex&&(this._activeItemIndex=Et)}})}skipPredicate(Ue){return this._skipPredicateFn=Ue,this}withWrap(Ue=!0){return this._wrap=Ue,this}withVerticalOrientation(Ue=!0){return this._vertical=Ue,this}withHorizontalOrientation(Ue){return this._horizontal=Ue,this}withAllowedModifierKeys(Ue){return this._allowedModifierKeys=Ue,this}withTypeAhead(Ue=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Oe.b)(Te=>this._pressedLetters.push(Te)),(0,ae.b)(Ue),(0,ye.h)(()=>this._pressedLetters.length>0),(0,me.U)(()=>this._pressedLetters.join(""))).subscribe(Te=>{const st=this._getItemsArray();for(let Et=1;Et<st.length+1;Et++){const De=(this._activeItemIndex+Et)%st.length,Me=st[De];if(!this._skipPredicateFn(Me)&&0===Me.getLabel().toUpperCase().trim().indexOf(Te)){this.setActiveItem(De);break}}this._pressedLetters=[]}),this}withHomeAndEnd(Ue=!0){return this._homeAndEnd=Ue,this}setActiveItem(Ue){const Te=this._activeItem;this.updateActiveItem(Ue),this._activeItem!==Te&&this.change.next(this._activeItemIndex)}onKeydown(Ue){const Te=Ue.keyCode,Et=["altKey","ctrlKey","metaKey","shiftKey"].every(De=>!Ue[De]||this._allowedModifierKeys.indexOf(De)>-1);switch(Te){case xe.Mf:return void this.tabOut.next();case xe.JH:if(this._vertical&&Et){this.setNextItemActive();break}return;case xe.LH:if(this._vertical&&Et){this.setPreviousItemActive();break}return;case xe.SV:if(this._horizontal&&Et){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case xe.oh:if(this._horizontal&&Et){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case xe.Sd:if(this._homeAndEnd&&Et){this.setFirstItemActive();break}return;case xe.uR:if(this._homeAndEnd&&Et){this.setLastItemActive();break}return;default:return void((Et||(0,xe.Vb)(Ue,"shiftKey"))&&(Ue.key&&1===Ue.key.length?this._letterKeyStream.next(Ue.key.toLocaleUpperCase()):(Te>=xe.A&&Te<=xe.Z||Te>=xe.xE&&Te<=xe.aO)&&this._letterKeyStream.next(String.fromCharCode(Te))))}this._pressedLetters=[],Ue.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Ue){const Te=this._getItemsArray(),st="number"==typeof Ue?Ue:Te.indexOf(Ue);this._activeItem=Te[st]??null,this._activeItemIndex=st}_setActiveItemByDelta(Ue){this._wrap?this._setActiveInWrapMode(Ue):this._setActiveInDefaultMode(Ue)}_setActiveInWrapMode(Ue){const Te=this._getItemsArray();for(let st=1;st<=Te.length;st++){const Et=(this._activeItemIndex+Ue*st+Te.length)%Te.length;if(!this._skipPredicateFn(Te[Et]))return void this.setActiveItem(Et)}}_setActiveInDefaultMode(Ue){this._setActiveItemByIndex(this._activeItemIndex+Ue,Ue)}_setActiveItemByIndex(Ue,Te){const st=this._getItemsArray();if(st[Ue]){for(;this._skipPredicateFn(st[Ue]);)if(!st[Ue+=Te])return;this.setActiveItem(Ue)}}_getItemsArray(){return this._items instanceof k.n_E?this._items.toArray():this._items}}{setActiveItem(Ue){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Ue),this.activeItem&&this.activeItem.setActiveStyles()}}let en=(()=>{class He{constructor(Te){this._platform=Te}isDisabled(Te){return Te.hasAttribute("disabled")}isVisible(Te){return function qt(He){return!!(He.offsetWidth||He.offsetHeight||"function"==typeof He.getClientRects&&He.getClientRects().length)}(Te)&&"visible"===getComputedStyle(Te).visibility}isTabbable(Te){if(!this._platform.isBrowser)return!1;const st=function Zt(He){try{return He.frameElement}catch{return null}}(function Ln(He){return He.ownerDocument&&He.ownerDocument.defaultView||window}(Te));if(st&&(-1===Cn(st)||!this.isVisible(st)))return!1;let Et=Te.nodeName.toLowerCase(),De=Cn(Te);return Te.hasAttribute("contenteditable")?-1!==De:!("iframe"===Et||"object"===Et||this._platform.WEBKIT&&this._platform.IOS&&!function br(He){let Ue=He.nodeName.toLowerCase(),Te="input"===Ue&&He.type;return"text"===Te||"password"===Te||"select"===Ue||"textarea"===Ue}(Te))&&("audio"===Et?!!Te.hasAttribute("controls")&&-1!==De:"video"===Et?-1!==De&&(null!==De||this._platform.FIREFOX||Te.hasAttribute("controls")):Te.tabIndex>=0)}isFocusable(Te,st){return function dr(He){return!function Dn(He){return function Jt(He){return"input"==He.nodeName.toLowerCase()}(He)&&"hidden"==He.type}(He)&&(function En(He){let Ue=He.nodeName.toLowerCase();return"input"===Ue||"select"===Ue||"button"===Ue||"textarea"===Ue}(He)||function vn(He){return function Vn(He){return"a"==He.nodeName.toLowerCase()}(He)&&He.hasAttribute("href")}(He)||He.hasAttribute("contenteditable")||Mn(He))}(Te)&&!this.isDisabled(Te)&&(st?.ignoreVisibility||this.isVisible(Te))}}return He.\u0275fac=function(Te){return new(Te||He)(k.LFG(b.t4))},He.\u0275prov=k.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();function Mn(He){if(!He.hasAttribute("tabindex")||void 0===He.tabIndex)return!1;let Ue=He.getAttribute("tabindex");return!(!Ue||isNaN(parseInt(Ue,10)))}function Cn(He){if(!Mn(He))return null;const Ue=parseInt(He.getAttribute("tabindex")||"",10);return isNaN(Ue)?-1:Ue}class Un{constructor(Ue,Te,st,Et,De=!1){this._element=Ue,this._checker=Te,this._ngZone=st,this._document=Et,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,De||this.attachAnchors()}get enabled(){return this._enabled}set enabled(Ue){this._enabled=Ue,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ue,this._startAnchor),this._toggleAnchorTabIndex(Ue,this._endAnchor))}destroy(){const Ue=this._startAnchor,Te=this._endAnchor;Ue&&(Ue.removeEventListener("focus",this.startAnchorListener),Ue.remove()),Te&&(Te.removeEventListener("focus",this.endAnchorListener),Te.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Ue){return new Promise(Te=>{this._executeOnStable(()=>Te(this.focusInitialElement(Ue)))})}focusFirstTabbableElementWhenReady(Ue){return new Promise(Te=>{this._executeOnStable(()=>Te(this.focusFirstTabbableElement(Ue)))})}focusLastTabbableElementWhenReady(Ue){return new Promise(Te=>{this._executeOnStable(()=>Te(this.focusLastTabbableElement(Ue)))})}_getRegionBoundary(Ue){const Te=this._element.querySelectorAll(`[cdk-focus-region-${Ue}], [cdkFocusRegion${Ue}], [cdk-focus-${Ue}]`);return"start"==Ue?Te.length?Te[0]:this._getFirstTabbableElement(this._element):Te.length?Te[Te.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Ue){const Te=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Te){if(!this._checker.isFocusable(Te)){const st=this._getFirstTabbableElement(Te);return st?.focus(Ue),!!st}return Te.focus(Ue),!0}return this.focusFirstTabbableElement(Ue)}focusFirstTabbableElement(Ue){const Te=this._getRegionBoundary("start");return Te&&Te.focus(Ue),!!Te}focusLastTabbableElement(Ue){const Te=this._getRegionBoundary("end");return Te&&Te.focus(Ue),!!Te}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Ue){if(this._checker.isFocusable(Ue)&&this._checker.isTabbable(Ue))return Ue;const Te=Ue.children;for(let st=0;st<Te.length;st++){const Et=Te[st].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Te[st]):null;if(Et)return Et}return null}_getLastTabbableElement(Ue){if(this._checker.isFocusable(Ue)&&this._checker.isTabbable(Ue))return Ue;const Te=Ue.children;for(let st=Te.length-1;st>=0;st--){const Et=Te[st].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Te[st]):null;if(Et)return Et}return null}_createAnchor(){const Ue=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Ue),Ue.classList.add("cdk-visually-hidden"),Ue.classList.add("cdk-focus-trap-anchor"),Ue.setAttribute("aria-hidden","true"),Ue}_toggleAnchorTabIndex(Ue,Te){Ue?Te.setAttribute("tabindex","0"):Te.removeAttribute("tabindex")}toggleAnchors(Ue){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ue,this._startAnchor),this._toggleAnchorTabIndex(Ue,this._endAnchor))}_executeOnStable(Ue){this._ngZone.isStable?Ue():this._ngZone.onStable.pipe((0,at.q)(1)).subscribe(Ue)}}let Kn=(()=>{class He{constructor(Te,st,Et){this._checker=Te,this._ngZone=st,this._document=Et}create(Te,st=!1){return new Un(Te,this._checker,this._ngZone,this._document,st)}}return He.\u0275fac=function(Te){return new(Te||He)(k.LFG(en),k.LFG(k.R0b),k.LFG(m.K0))},He.\u0275prov=k.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();function be(He){return 0===He.buttons||0===He.offsetX&&0===He.offsetY}function Z(He){const Ue=He.touches&&He.touches[0]||He.changedTouches&&He.changedTouches[0];return!(!Ue||-1!==Ue.identifier||null!=Ue.radiusX&&1!==Ue.radiusX||null!=Ue.radiusY&&1!==Ue.radiusY)}const H=new k.OlP("cdk-input-modality-detector-options"),J={ignoreKeys:[xe.zL,xe.jx,xe.b2,xe.MW,xe.JU]},rt=(0,b.i$)({passive:!0,capture:!0});let Ot=(()=>{class He{constructor(Te,st,Et,De){this._platform=Te,this._mostRecentTarget=null,this._modality=new se.X(null),this._lastTouchMs=0,this._onKeydown=Me=>{this._options?.ignoreKeys?.some(it=>it===Me.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,b.sA)(Me))},this._onMousedown=Me=>{Date.now()-this._lastTouchMs<650||(this._modality.next(be(Me)?"keyboard":"mouse"),this._mostRecentTarget=(0,b.sA)(Me))},this._onTouchstart=Me=>{Z(Me)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,b.sA)(Me))},this._options={...J,...De},this.modalityDetected=this._modality.pipe((0,lt.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Je.x)()),Te.isBrowser&&st.runOutsideAngular(()=>{Et.addEventListener("keydown",this._onKeydown,rt),Et.addEventListener("mousedown",this._onMousedown,rt),Et.addEventListener("touchstart",this._onTouchstart,rt)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rt),document.removeEventListener("mousedown",this._onMousedown,rt),document.removeEventListener("touchstart",this._onTouchstart,rt))}}return He.\u0275fac=function(Te){return new(Te||He)(k.LFG(b.t4),k.LFG(k.R0b),k.LFG(m.K0),k.LFG(H,8))},He.\u0275prov=k.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();const Ne=new k.OlP("liveAnnouncerElement",{providedIn:"root",factory:function _e(){return null}}),q=new k.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let te=(()=>{class He{constructor(Te,st,Et,De){this._ngZone=st,this._defaultOptions=De,this._document=Et,this._liveElement=Te||this._createLiveElement()}announce(Te,...st){const Et=this._defaultOptions;let De,Me;return 1===st.length&&"number"==typeof st[0]?Me=st[0]:[De,Me]=st,this.clear(),clearTimeout(this._previousTimeout),De||(De=Et&&Et.politeness?Et.politeness:"polite"),null==Me&&Et&&(Me=Et.duration),this._liveElement.setAttribute("aria-live",De),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(it=>this._currentResolve=it)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Te,"number"==typeof Me&&(this._previousTimeout=setTimeout(()=>this.clear(),Me)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Te="cdk-live-announcer-element",st=this._document.getElementsByClassName(Te),Et=this._document.createElement("div");for(let De=0;De<st.length;De++)st[De].remove();return Et.classList.add(Te),Et.classList.add("cdk-visually-hidden"),Et.setAttribute("aria-atomic","true"),Et.setAttribute("aria-live","polite"),this._document.body.appendChild(Et),Et}}return He.\u0275fac=function(Te){return new(Te||He)(k.LFG(Ne,8),k.LFG(k.R0b),k.LFG(m.K0),k.LFG(q,8))},He.\u0275prov=k.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();const It=new k.OlP("cdk-focus-monitor-default-options"),Nt=(0,b.i$)({passive:!0,capture:!0});let mn=(()=>{class He{constructor(Te,st,Et,De,Me){this._ngZone=Te,this._platform=st,this._inputModalityDetector=Et,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ee.x,this._rootNodeFocusAndBlurListener=it=>{for(let dt=(0,b.sA)(it);dt;dt=dt.parentElement)"focus"===it.type?this._onFocus(it,dt):this._onBlur(it,dt)},this._document=De,this._detectionMode=Me?.detectionMode||0}monitor(Te,st=!1){const Et=(0,ut.fI)(Te);if(!this._platform.isBrowser||1!==Et.nodeType)return(0,je.of)(null);const De=(0,b.kV)(Et)||this._getDocument(),Me=this._elementInfo.get(Et);if(Me)return st&&(Me.checkChildren=!0),Me.subject;const it={checkChildren:st,subject:new ee.x,rootNode:De};return this._elementInfo.set(Et,it),this._registerGlobalListeners(it),it.subject}stopMonitoring(Te){const st=(0,ut.fI)(Te),Et=this._elementInfo.get(st);Et&&(Et.subject.complete(),this._setClasses(st),this._elementInfo.delete(st),this._removeGlobalListeners(Et))}focusVia(Te,st,Et){const De=(0,ut.fI)(Te);De===this._getDocument().activeElement?this._getClosestElementsInfo(De).forEach(([it,Ht])=>this._originChanged(it,st,Ht)):(this._setOrigin(st),"function"==typeof De.focus&&De.focus(Et))}ngOnDestroy(){this._elementInfo.forEach((Te,st)=>this.stopMonitoring(st))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Te){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Te)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Te&&this._isLastInteractionFromInputLabel(Te)?"mouse":"program"}_shouldBeAttributedToTouch(Te){return 1===this._detectionMode||!!Te?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Te,st){Te.classList.toggle("cdk-focused",!!st),Te.classList.toggle("cdk-touch-focused","touch"===st),Te.classList.toggle("cdk-keyboard-focused","keyboard"===st),Te.classList.toggle("cdk-mouse-focused","mouse"===st),Te.classList.toggle("cdk-program-focused","program"===st)}_setOrigin(Te,st=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Te,this._originFromTouchInteraction="touch"===Te&&st,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Te,st){const Et=this._elementInfo.get(st),De=(0,b.sA)(Te);!Et||!Et.checkChildren&&st!==De||this._originChanged(st,this._getFocusOrigin(De),Et)}_onBlur(Te,st){const Et=this._elementInfo.get(st);!Et||Et.checkChildren&&Te.relatedTarget instanceof Node&&st.contains(Te.relatedTarget)||(this._setClasses(st),this._emitOrigin(Et,null))}_emitOrigin(Te,st){Te.subject.observers.length&&this._ngZone.run(()=>Te.subject.next(st))}_registerGlobalListeners(Te){if(!this._platform.isBrowser)return;const st=Te.rootNode,Et=this._rootNodeFocusListenerCount.get(st)||0;Et||this._ngZone.runOutsideAngular(()=>{st.addEventListener("focus",this._rootNodeFocusAndBlurListener,Nt),st.addEventListener("blur",this._rootNodeFocusAndBlurListener,Nt)}),this._rootNodeFocusListenerCount.set(st,Et+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,bt.R)(this._stopInputModalityDetector)).subscribe(De=>{this._setOrigin(De,!0)}))}_removeGlobalListeners(Te){const st=Te.rootNode;if(this._rootNodeFocusListenerCount.has(st)){const Et=this._rootNodeFocusListenerCount.get(st);Et>1?this._rootNodeFocusListenerCount.set(st,Et-1):(st.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Nt),st.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Nt),this._rootNodeFocusListenerCount.delete(st))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Te,st,Et){this._setClasses(Te,st),this._emitOrigin(Et,st),this._lastFocusOrigin=st}_getClosestElementsInfo(Te){const st=[];return this._elementInfo.forEach((Et,De)=>{(De===Te||Et.checkChildren&&De.contains(Te))&&st.push([De,Et])}),st}_isLastInteractionFromInputLabel(Te){const{_mostRecentTarget:st,mostRecentModality:Et}=this._inputModalityDetector;if("mouse"!==Et||!st||st===Te||"INPUT"!==Te.nodeName&&"TEXTAREA"!==Te.nodeName||Te.disabled)return!1;const De=Te.labels;if(De)for(let Me=0;Me<De.length;Me++)if(De[Me].contains(st))return!0;return!1}}return He.\u0275fac=function(Te){return new(Te||He)(k.LFG(k.R0b),k.LFG(b.t4),k.LFG(Ot),k.LFG(m.K0,8),k.LFG(It,8))},He.\u0275prov=k.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();const vt="cdk-high-contrast-black-on-white",et="cdk-high-contrast-white-on-black",Ye="cdk-high-contrast-active";let Mt=(()=>{class He{constructor(Te,st){this._platform=Te,this._document=st,this._breakpointSubscription=(0,k.f3M)(Lt.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Te=this._document.createElement("div");Te.style.backgroundColor="rgb(1,2,3)",Te.style.position="absolute",this._document.body.appendChild(Te);const st=this._document.defaultView||window,Et=st&&st.getComputedStyle?st.getComputedStyle(Te):null,De=(Et&&Et.backgroundColor||"").replace(/ /g,"");switch(Te.remove(),De){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Te=this._document.body.classList;Te.remove(Ye,vt,et),this._hasCheckedHighContrastMode=!0;const st=this.getHighContrastMode();1===st?Te.add(Ye,vt):2===st&&Te.add(Ye,et)}}}return He.\u0275fac=function(Te){return new(Te||He)(k.LFG(b.t4),k.LFG(m.K0))},He.\u0275prov=k.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})(),Yt=(()=>{class He{constructor(Te){Te._applyBodyHighContrastModeCssClasses()}}return He.\u0275fac=function(Te){return new(Te||He)(k.LFG(Mt))},He.\u0275mod=k.oAB({type:He}),He.\u0275inj=k.cJS({imports:[ct.Q8]}),He})()},445:(dn,ot,A)=>{A.d(ot,{Is:()=>je,vT:()=>Oe});var m=A(4650),k=A(6895);const b=new m.OlP("cdk-dir-doc",{providedIn:"root",factory:function ee(){return(0,m.f3M)(k.K0)}}),Ee=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let je=(()=>{class ae{constructor(me){if(this.value="ltr",this.change=new m.vpe,me){const lt=me.documentElement?me.documentElement.dir:null;this.value=function se(ae){const ye=ae?.toLowerCase()||"";return"auto"===ye&&typeof navigator<"u"&&navigator?.language?Ee.test(navigator.language)?"rtl":"ltr":"rtl"===ye?"rtl":"ltr"}((me.body?me.body.dir:null)||lt||"ltr")}}ngOnDestroy(){this.change.complete()}}return ae.\u0275fac=function(me){return new(me||ae)(m.LFG(b,8))},ae.\u0275prov=m.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})(),Oe=(()=>{class ae{}return ae.\u0275fac=function(me){return new(me||ae)},ae.\u0275mod=m.oAB({type:ae}),ae.\u0275inj=m.cJS({}),ae})()},1281:(dn,ot,A)=>{A.d(ot,{Eq:()=>Ee,HM:()=>se,Ig:()=>k,fI:()=>je,su:()=>b});var m=A(4650);function k(Oe){return null!=Oe&&"false"!=`${Oe}`}function b(Oe,ae=0){return function ee(Oe){return!isNaN(parseFloat(Oe))&&!isNaN(Number(Oe))}(Oe)?Number(Oe):ae}function Ee(Oe){return Array.isArray(Oe)?Oe:[Oe]}function se(Oe){return null==Oe?"":"string"==typeof Oe?Oe:`${Oe}px`}function je(Oe){return Oe instanceof m.SBq?Oe.nativeElement:Oe}},9521:(dn,ot,A)=>{A.d(ot,{A:()=>Dn,JH:()=>Tt,JU:()=>se,K5:()=>Ee,LH:()=>ct,L_:()=>me,MW:()=>q,Mf:()=>b,SV:()=>Lt,Sd:()=>bt,Vb:()=>Ti,Z:()=>_e,aO:()=>$t,b2:()=>Xr,hY:()=>ye,jx:()=>je,oh:()=>ut,uR:()=>Je,xE:()=>Le,zL:()=>xe});const b=9,Ee=13,se=16,je=17,xe=18,ye=27,me=32,Je=35,bt=36,ut=37,ct=38,Lt=39,Tt=40,Le=48,$t=57,Dn=65,_e=90,q=91,Xr=224;function Ti(wr,...cs){return cs.length?cs.some(di=>wr[di]):wr.altKey||wr.shiftKey||wr.ctrlKey||wr.metaKey}},2289:(dn,ot,A)=>{A.d(ot,{Yg:()=>Tt,u3:()=>Se});var m=A(4650),k=A(1281),b=A(7579),ee=A(9841),Ee=A(7272),se=A(9751),je=A(5698),xe=A(5684),Oe=A(8372),ae=A(4004),ye=A(8675),me=A(2722),at=A(3353);const Je=new Set;let bt,ut=(()=>{class ge{constructor(Le){this._platform=Le,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Lt}matchMedia(Le){return(this._platform.WEBKIT||this._platform.BLINK)&&function ct(ge){if(!Je.has(ge))try{bt||(bt=document.createElement("style"),bt.setAttribute("type","text/css"),document.head.appendChild(bt)),bt.sheet&&(bt.sheet.insertRule(`@media ${ge} {body{ }}`,0),Je.add(ge))}catch(ue){console.error(ue)}}(Le),this._matchMedia(Le)}}return ge.\u0275fac=function(Le){return new(Le||ge)(m.LFG(at.t4))},ge.\u0275prov=m.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();function Lt(ge){return{matches:"all"===ge||""===ge,media:ge,addListener:()=>{},removeListener:()=>{}}}let Tt=(()=>{class ge{constructor(Le,R){this._mediaMatcher=Le,this._zone=R,this._queries=new Map,this._destroySubject=new b.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Le){return ze((0,k.Eq)(Le)).some(Pe=>this._registerQuery(Pe).mql.matches)}observe(Le){const Pe=ze((0,k.Eq)(Le)).map(we=>this._registerQuery(we).observable);let ke=(0,ee.a)(Pe);return ke=(0,Ee.z)(ke.pipe((0,je.q)(1)),ke.pipe((0,xe.T)(1),(0,Oe.b)(0))),ke.pipe((0,ae.U)(we=>{const Ze={matches:!1,breakpoints:{}};return we.forEach(({matches:ve,query:pt})=>{Ze.matches=Ze.matches||ve,Ze.breakpoints[pt]=ve}),Ze}))}_registerQuery(Le){if(this._queries.has(Le))return this._queries.get(Le);const R=this._mediaMatcher.matchMedia(Le),ke={observable:new se.y(we=>{const Ze=ve=>this._zone.run(()=>we.next(ve));return R.addListener(Ze),()=>{R.removeListener(Ze)}}).pipe((0,ye.O)(R),(0,ae.U)(({matches:we})=>({query:Le,matches:we})),(0,me.R)(this._destroySubject)),mql:R};return this._queries.set(Le,ke),ke}}return ge.\u0275fac=function(Le){return new(Le||ge)(m.LFG(ut),m.LFG(m.R0b))},ge.\u0275prov=m.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();function ze(ge){return ge.map(ue=>ue.split(",")).reduce((ue,Le)=>ue.concat(Le)).map(ue=>ue.trim())}const Se={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9643:(dn,ot,A)=>{A.d(ot,{Q8:()=>Oe,wD:()=>xe});var m=A(1281),k=A(4650),b=A(9751),ee=A(7579),Ee=A(8372);let se=(()=>{class ae{create(me){return typeof MutationObserver>"u"?null:new MutationObserver(me)}}return ae.\u0275fac=function(me){return new(me||ae)},ae.\u0275prov=k.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})(),je=(()=>{class ae{constructor(me){this._mutationObserverFactory=me,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((me,at)=>this._cleanupObserver(at))}observe(me){const at=(0,m.fI)(me);return new b.y(lt=>{const bt=this._observeElement(at).subscribe(lt);return()=>{bt.unsubscribe(),this._unobserveElement(at)}})}_observeElement(me){if(this._observedElements.has(me))this._observedElements.get(me).count++;else{const at=new ee.x,lt=this._mutationObserverFactory.create(Je=>at.next(Je));lt&&lt.observe(me,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(me,{observer:lt,stream:at,count:1})}return this._observedElements.get(me).stream}_unobserveElement(me){this._observedElements.has(me)&&(this._observedElements.get(me).count--,this._observedElements.get(me).count||this._cleanupObserver(me))}_cleanupObserver(me){if(this._observedElements.has(me)){const{observer:at,stream:lt}=this._observedElements.get(me);at&&at.disconnect(),lt.complete(),this._observedElements.delete(me)}}}return ae.\u0275fac=function(me){return new(me||ae)(k.LFG(se))},ae.\u0275prov=k.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})(),xe=(()=>{class ae{constructor(me,at,lt){this._contentObserver=me,this._elementRef=at,this._ngZone=lt,this.event=new k.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(me){this._disabled=(0,m.Ig)(me),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(me){this._debounce=(0,m.su)(me),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const me=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?me.pipe((0,Ee.b)(this.debounce)):me).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return ae.\u0275fac=function(me){return new(me||ae)(k.Y36(je),k.Y36(k.SBq),k.Y36(k.R0b))},ae.\u0275dir=k.lG2({type:ae,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),ae})(),Oe=(()=>{class ae{}return ae.\u0275fac=function(me){return new(me||ae)},ae.\u0275mod=k.oAB({type:ae}),ae.\u0275inj=k.cJS({providers:[se]}),ae})()},8184:(dn,ot,A)=>{A.d(ot,{Iu:()=>$t,U8:()=>tn,X_:()=>ue,Xj:()=>Dt,aV:()=>Ln,pI:()=>hr,xu:()=>zn});var m=A(1218),k=A(6895),b=A(4650),ee=A(1281),Ee=A(3353),se=A(445),je=A(4080),xe=A(7579),Oe=A(727),ae=A(6451),ye=A(5698),me=A(2722),at=A(2529),lt=A(9521);const Je=(0,Ee.Mq)();class bt{constructor(Z,H){this._viewportRuler=Z,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=H}attach(){}enable(){if(this._canBeEnabled()){const Z=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Z.style.left||"",this._previousHTMLStyles.top=Z.style.top||"",Z.style.left=(0,ee.HM)(-this._previousScrollPosition.left),Z.style.top=(0,ee.HM)(-this._previousScrollPosition.top),Z.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Z=this._document.documentElement,J=Z.style,Ve=this._document.body.style,rt=J.scrollBehavior||"",Ot=Ve.scrollBehavior||"";this._isEnabled=!1,J.left=this._previousHTMLStyles.left,J.top=this._previousHTMLStyles.top,Z.classList.remove("cdk-global-scrollblock"),Je&&(J.scrollBehavior=Ve.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Je&&(J.scrollBehavior=rt,Ve.scrollBehavior=Ot)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const H=this._document.body,J=this._viewportRuler.getViewportSize();return H.scrollHeight>J.height||H.scrollWidth>J.width}}class ct{constructor(Z,H,J,Ve){this._scrollDispatcher=Z,this._ngZone=H,this._viewportRuler=J,this._config=Ve,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Z){this._overlayRef=Z}enable(){if(this._scrollSubscription)return;const Z=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Z.subscribe(()=>{const H=this._viewportRuler.getViewportScrollPosition().top;Math.abs(H-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Z.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Lt{enable(){}disable(){}attach(){}}function Tt(be,Z){return Z.some(H=>be.bottom<H.top||be.top>H.bottom||be.right<H.left||be.left>H.right)}function ze(be,Z){return Z.some(H=>be.top<H.top||be.bottom>H.bottom||be.left<H.left||be.right>H.right)}class Se{constructor(Z,H,J,Ve){this._scrollDispatcher=Z,this._viewportRuler=H,this._ngZone=J,this._config=Ve,this._scrollSubscription=null}attach(Z){this._overlayRef=Z}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const H=this._overlayRef.overlayElement.getBoundingClientRect(),{width:J,height:Ve}=this._viewportRuler.getViewportSize();Tt(H,[{width:J,height:Ve,bottom:Ve,right:J,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ge=(()=>{class be{constructor(H,J,Ve,rt){this._scrollDispatcher=H,this._viewportRuler=J,this._ngZone=Ve,this.noop=()=>new Lt,this.close=Ot=>new ct(this._scrollDispatcher,this._ngZone,this._viewportRuler,Ot),this.block=()=>new bt(this._viewportRuler,this._document),this.reposition=Ot=>new Se(this._scrollDispatcher,this._viewportRuler,this._ngZone,Ot),this._document=rt}}return be.\u0275fac=function(H){return new(H||be)(b.LFG(m.mF),b.LFG(m.rL),b.LFG(b.R0b),b.LFG(k.K0))},be.\u0275prov=b.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();class ue{constructor(Z){if(this.scrollStrategy=new Lt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Z){const H=Object.keys(Z);for(const J of H)void 0!==Z[J]&&(this[J]=Z[J])}}}class Pe{constructor(Z,H){this.connectionPair=Z,this.scrollableViewProperties=H}}let Ze=(()=>{class be{constructor(H){this._attachedOverlays=[],this._document=H}ngOnDestroy(){this.detach()}add(H){this.remove(H),this._attachedOverlays.push(H)}remove(H){const J=this._attachedOverlays.indexOf(H);J>-1&&this._attachedOverlays.splice(J,1),0===this._attachedOverlays.length&&this.detach()}}return be.\u0275fac=function(H){return new(H||be)(b.LFG(k.K0))},be.\u0275prov=b.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),ve=(()=>{class be extends Ze{constructor(H,J){super(H),this._ngZone=J,this._keydownListener=Ve=>{const rt=this._attachedOverlays;for(let Ot=rt.length-1;Ot>-1;Ot--)if(rt[Ot]._keydownEvents.observers.length>0){const Ne=rt[Ot]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ne.next(Ve)):Ne.next(Ve);break}}}add(H){super.add(H),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return be.\u0275fac=function(H){return new(H||be)(b.LFG(k.K0),b.LFG(b.R0b,8))},be.\u0275prov=b.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),pt=(()=>{class be extends Ze{constructor(H,J,Ve){super(H),this._platform=J,this._ngZone=Ve,this._cursorStyleIsSet=!1,this._pointerDownListener=rt=>{this._pointerDownEventTarget=(0,Ee.sA)(rt)},this._clickListener=rt=>{const Ot=(0,Ee.sA)(rt),Ne="click"===rt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Ot;this._pointerDownEventTarget=null;const _e=this._attachedOverlays.slice();for(let q=_e.length-1;q>-1;q--){const te=_e[q];if(te._outsidePointerEvents.observers.length<1||!te.hasAttached())continue;if(te.overlayElement.contains(Ot)||te.overlayElement.contains(Ne))break;const qe=te._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>qe.next(rt)):qe.next(rt)}}}add(H){if(super.add(H),!this._isAttached){const J=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(J)):this._addEventListeners(J),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=J.style.cursor,J.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const H=this._document.body;H.removeEventListener("pointerdown",this._pointerDownListener,!0),H.removeEventListener("click",this._clickListener,!0),H.removeEventListener("auxclick",this._clickListener,!0),H.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(H.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(H){H.addEventListener("pointerdown",this._pointerDownListener,!0),H.addEventListener("click",this._clickListener,!0),H.addEventListener("auxclick",this._clickListener,!0),H.addEventListener("contextmenu",this._clickListener,!0)}}return be.\u0275fac=function(H){return new(H||be)(b.LFG(k.K0),b.LFG(Ee.t4),b.LFG(b.R0b,8))},be.\u0275prov=b.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),Dt=(()=>{class be{constructor(H,J){this._platform=J,this._document=H}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const H="cdk-overlay-container";if(this._platform.isBrowser||(0,Ee.Oy)()){const Ve=this._document.querySelectorAll(`.${H}[platform="server"], .${H}[platform="test"]`);for(let rt=0;rt<Ve.length;rt++)Ve[rt].remove()}const J=this._document.createElement("div");J.classList.add(H),(0,Ee.Oy)()?J.setAttribute("platform","test"):this._platform.isBrowser||J.setAttribute("platform","server"),this._document.body.appendChild(J),this._containerElement=J}}return be.\u0275fac=function(H){return new(H||be)(b.LFG(k.K0),b.LFG(Ee.t4))},be.\u0275prov=b.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();class $t{constructor(Z,H,J,Ve,rt,Ot,Ne,_e,q,te=!1){this._portalOutlet=Z,this._host=H,this._pane=J,this._config=Ve,this._ngZone=rt,this._keyboardDispatcher=Ot,this._document=Ne,this._location=_e,this._outsideClickDispatcher=q,this._animationsDisabled=te,this._backdropElement=null,this._backdropClick=new xe.x,this._attachments=new xe.x,this._detachments=new xe.x,this._locationChanges=Oe.w0.EMPTY,this._backdropClickHandler=qe=>this._backdropClick.next(qe),this._backdropTransitionendHandler=qe=>{this._disposeBackdrop(qe.target)},this._keydownEvents=new xe.x,this._outsidePointerEvents=new xe.x,Ve.scrollStrategy&&(this._scrollStrategy=Ve.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ve.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Z){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const H=this._portalOutlet.attach(Z);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ye.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof H?.onDestroy&&H.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),H}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Z=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Z}dispose(){const Z=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Z&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Z){Z!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Z,this.hasAttached()&&(Z.attach(this),this.updatePosition()))}updateSize(Z){this._config={...this._config,...Z},this._updateElementSize()}setDirection(Z){this._config={...this._config,direction:Z},this._updateElementDirection()}addPanelClass(Z){this._pane&&this._toggleClasses(this._pane,Z,!0)}removePanelClass(Z){this._pane&&this._toggleClasses(this._pane,Z,!1)}getDirection(){const Z=this._config.direction;return Z?"string"==typeof Z?Z:Z.value:"ltr"}updateScrollStrategy(Z){Z!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Z,this.hasAttached()&&(Z.attach(this),Z.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Z=this._pane.style;Z.width=(0,ee.HM)(this._config.width),Z.height=(0,ee.HM)(this._config.height),Z.minWidth=(0,ee.HM)(this._config.minWidth),Z.minHeight=(0,ee.HM)(this._config.minHeight),Z.maxWidth=(0,ee.HM)(this._config.maxWidth),Z.maxHeight=(0,ee.HM)(this._config.maxHeight)}_togglePointerEvents(Z){this._pane.style.pointerEvents=Z?"":"none"}_attachBackdrop(){const Z="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Z)})}):this._backdropElement.classList.add(Z)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Z=this._backdropElement;if(Z){if(this._animationsDisabled)return void this._disposeBackdrop(Z);Z.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Z.addEventListener("transitionend",this._backdropTransitionendHandler)}),Z.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Z)},500))}}_toggleClasses(Z,H,J){const Ve=(0,ee.Eq)(H||[]).filter(rt=>!!rt);Ve.length&&(J?Z.classList.add(...Ve):Z.classList.remove(...Ve))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const Z=this._ngZone.onStable.pipe((0,me.R)((0,ae.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Z.unsubscribe())})})}_disposeScrollStrategy(){const Z=this._scrollStrategy;Z&&(Z.disable(),Z.detach&&Z.detach())}_disposeBackdrop(Z){Z&&(Z.removeEventListener("click",this._backdropClickHandler),Z.removeEventListener("transitionend",this._backdropTransitionendHandler),Z.remove(),this._backdropElement===Z&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const en="cdk-overlay-connected-position-bounding-box",Zt=/([A-Za-z%]+)$/;class qt{constructor(Z,H,J,Ve,rt){this._viewportRuler=H,this._document=J,this._platform=Ve,this._overlayContainer=rt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xe.x,this._resizeSubscription=Oe.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Z)}get positions(){return this._preferredPositions}attach(Z){this._validatePositions(),Z.hostElement.classList.add(en),this._overlayRef=Z,this._boundingBox=Z.hostElement,this._pane=Z.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Z=this._originRect,H=this._overlayRect,J=this._viewportRect,Ve=this._containerRect,rt=[];let Ot;for(let Ne of this._preferredPositions){let _e=this._getOriginPoint(Z,Ve,Ne),q=this._getOverlayPoint(_e,H,Ne),te=this._getOverlayFit(q,H,J,Ne);if(te.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ne,_e);this._canFitWithFlexibleDimensions(te,q,J)?rt.push({position:Ne,origin:_e,overlayRect:H,boundingBoxRect:this._calculateBoundingBoxRect(_e,Ne)}):(!Ot||Ot.overlayFit.visibleArea<te.visibleArea)&&(Ot={overlayFit:te,overlayPoint:q,originPoint:_e,position:Ne,overlayRect:H})}if(rt.length){let Ne=null,_e=-1;for(const q of rt){const te=q.boundingBoxRect.width*q.boundingBoxRect.height*(q.position.weight||1);te>_e&&(_e=te,Ne=q)}return this._isPushed=!1,void this._applyPosition(Ne.position,Ne.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Ot.position,Ot.originPoint);this._applyPosition(Ot.position,Ot.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&En(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(en),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Z=this._lastPosition;if(Z){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const H=this._getOriginPoint(this._originRect,this._containerRect,Z);this._applyPosition(Z,H)}else this.apply()}withScrollableContainers(Z){return this._scrollables=Z,this}withPositions(Z){return this._preferredPositions=Z,-1===Z.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Z){return this._viewportMargin=Z,this}withFlexibleDimensions(Z=!0){return this._hasFlexibleDimensions=Z,this}withGrowAfterOpen(Z=!0){return this._growAfterOpen=Z,this}withPush(Z=!0){return this._canPush=Z,this}withLockedPosition(Z=!0){return this._positionLocked=Z,this}setOrigin(Z){return this._origin=Z,this}withDefaultOffsetX(Z){return this._offsetX=Z,this}withDefaultOffsetY(Z){return this._offsetY=Z,this}withTransformOriginOn(Z){return this._transformOriginSelector=Z,this}_getOriginPoint(Z,H,J){let Ve,rt;if("center"==J.originX)Ve=Z.left+Z.width/2;else{const Ot=this._isRtl()?Z.right:Z.left,Ne=this._isRtl()?Z.left:Z.right;Ve="start"==J.originX?Ot:Ne}return H.left<0&&(Ve-=H.left),rt="center"==J.originY?Z.top+Z.height/2:"top"==J.originY?Z.top:Z.bottom,H.top<0&&(rt-=H.top),{x:Ve,y:rt}}_getOverlayPoint(Z,H,J){let Ve,rt;return Ve="center"==J.overlayX?-H.width/2:"start"===J.overlayX?this._isRtl()?-H.width:0:this._isRtl()?0:-H.width,rt="center"==J.overlayY?-H.height/2:"top"==J.overlayY?0:-H.height,{x:Z.x+Ve,y:Z.y+rt}}_getOverlayFit(Z,H,J,Ve){const rt=vn(H);let{x:Ot,y:Ne}=Z,_e=this._getOffset(Ve,"x"),q=this._getOffset(Ve,"y");_e&&(Ot+=_e),q&&(Ne+=q);let It=0-Ne,Nt=Ne+rt.height-J.height,mn=this._subtractOverflows(rt.width,0-Ot,Ot+rt.width-J.width),sn=this._subtractOverflows(rt.height,It,Nt),vt=mn*sn;return{visibleArea:vt,isCompletelyWithinViewport:rt.width*rt.height===vt,fitsInViewportVertically:sn===rt.height,fitsInViewportHorizontally:mn==rt.width}}_canFitWithFlexibleDimensions(Z,H,J){if(this._hasFlexibleDimensions){const Ve=J.bottom-H.y,rt=J.right-H.x,Ot=Dn(this._overlayRef.getConfig().minHeight),Ne=Dn(this._overlayRef.getConfig().minWidth),q=Z.fitsInViewportHorizontally||null!=Ne&&Ne<=rt;return(Z.fitsInViewportVertically||null!=Ot&&Ot<=Ve)&&q}return!1}_pushOverlayOnScreen(Z,H,J){if(this._previousPushAmount&&this._positionLocked)return{x:Z.x+this._previousPushAmount.x,y:Z.y+this._previousPushAmount.y};const Ve=vn(H),rt=this._viewportRect,Ot=Math.max(Z.x+Ve.width-rt.width,0),Ne=Math.max(Z.y+Ve.height-rt.height,0),_e=Math.max(rt.top-J.top-Z.y,0),q=Math.max(rt.left-J.left-Z.x,0);let te=0,qe=0;return te=Ve.width<=rt.width?q||-Ot:Z.x<this._viewportMargin?rt.left-J.left-Z.x:0,qe=Ve.height<=rt.height?_e||-Ne:Z.y<this._viewportMargin?rt.top-J.top-Z.y:0,this._previousPushAmount={x:te,y:qe},{x:Z.x+te,y:Z.y+qe}}_applyPosition(Z,H){if(this._setTransformOrigin(Z),this._setOverlayElementStyles(H,Z),this._setBoundingBoxStyles(H,Z),Z.panelClass&&this._addPanelClasses(Z.panelClass),this._lastPosition=Z,this._positionChanges.observers.length){const J=this._getScrollVisibility(),Ve=new Pe(Z,J);this._positionChanges.next(Ve)}this._isInitialRender=!1}_setTransformOrigin(Z){if(!this._transformOriginSelector)return;const H=this._boundingBox.querySelectorAll(this._transformOriginSelector);let J,Ve=Z.overlayY;J="center"===Z.overlayX?"center":this._isRtl()?"start"===Z.overlayX?"right":"left":"start"===Z.overlayX?"left":"right";for(let rt=0;rt<H.length;rt++)H[rt].style.transformOrigin=`${J} ${Ve}`}_calculateBoundingBoxRect(Z,H){const J=this._viewportRect,Ve=this._isRtl();let rt,Ot,Ne,te,qe,It;if("top"===H.overlayY)Ot=Z.y,rt=J.height-Ot+this._viewportMargin;else if("bottom"===H.overlayY)Ne=J.height-Z.y+2*this._viewportMargin,rt=J.height-Ne+this._viewportMargin;else{const Nt=Math.min(J.bottom-Z.y+J.top,Z.y),mn=this._lastBoundingBoxSize.height;rt=2*Nt,Ot=Z.y-Nt,rt>mn&&!this._isInitialRender&&!this._growAfterOpen&&(Ot=Z.y-mn/2)}if("end"===H.overlayX&&!Ve||"start"===H.overlayX&&Ve)It=J.width-Z.x+this._viewportMargin,te=Z.x-this._viewportMargin;else if("start"===H.overlayX&&!Ve||"end"===H.overlayX&&Ve)qe=Z.x,te=J.right-Z.x;else{const Nt=Math.min(J.right-Z.x+J.left,Z.x),mn=this._lastBoundingBoxSize.width;te=2*Nt,qe=Z.x-Nt,te>mn&&!this._isInitialRender&&!this._growAfterOpen&&(qe=Z.x-mn/2)}return{top:Ot,left:qe,bottom:Ne,right:It,width:te,height:rt}}_setBoundingBoxStyles(Z,H){const J=this._calculateBoundingBoxRect(Z,H);!this._isInitialRender&&!this._growAfterOpen&&(J.height=Math.min(J.height,this._lastBoundingBoxSize.height),J.width=Math.min(J.width,this._lastBoundingBoxSize.width));const Ve={};if(this._hasExactPosition())Ve.top=Ve.left="0",Ve.bottom=Ve.right=Ve.maxHeight=Ve.maxWidth="",Ve.width=Ve.height="100%";else{const rt=this._overlayRef.getConfig().maxHeight,Ot=this._overlayRef.getConfig().maxWidth;Ve.height=(0,ee.HM)(J.height),Ve.top=(0,ee.HM)(J.top),Ve.bottom=(0,ee.HM)(J.bottom),Ve.width=(0,ee.HM)(J.width),Ve.left=(0,ee.HM)(J.left),Ve.right=(0,ee.HM)(J.right),Ve.alignItems="center"===H.overlayX?"center":"end"===H.overlayX?"flex-end":"flex-start",Ve.justifyContent="center"===H.overlayY?"center":"bottom"===H.overlayY?"flex-end":"flex-start",rt&&(Ve.maxHeight=(0,ee.HM)(rt)),Ot&&(Ve.maxWidth=(0,ee.HM)(Ot))}this._lastBoundingBoxSize=J,En(this._boundingBox.style,Ve)}_resetBoundingBoxStyles(){En(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){En(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Z,H){const J={},Ve=this._hasExactPosition(),rt=this._hasFlexibleDimensions,Ot=this._overlayRef.getConfig();if(Ve){const te=this._viewportRuler.getViewportScrollPosition();En(J,this._getExactOverlayY(H,Z,te)),En(J,this._getExactOverlayX(H,Z,te))}else J.position="static";let Ne="",_e=this._getOffset(H,"x"),q=this._getOffset(H,"y");_e&&(Ne+=`translateX(${_e}px) `),q&&(Ne+=`translateY(${q}px)`),J.transform=Ne.trim(),Ot.maxHeight&&(Ve?J.maxHeight=(0,ee.HM)(Ot.maxHeight):rt&&(J.maxHeight="")),Ot.maxWidth&&(Ve?J.maxWidth=(0,ee.HM)(Ot.maxWidth):rt&&(J.maxWidth="")),En(this._pane.style,J)}_getExactOverlayY(Z,H,J){let Ve={top:"",bottom:""},rt=this._getOverlayPoint(H,this._overlayRect,Z);return this._isPushed&&(rt=this._pushOverlayOnScreen(rt,this._overlayRect,J)),"bottom"===Z.overlayY?Ve.bottom=this._document.documentElement.clientHeight-(rt.y+this._overlayRect.height)+"px":Ve.top=(0,ee.HM)(rt.y),Ve}_getExactOverlayX(Z,H,J){let Ot,Ve={left:"",right:""},rt=this._getOverlayPoint(H,this._overlayRect,Z);return this._isPushed&&(rt=this._pushOverlayOnScreen(rt,this._overlayRect,J)),Ot=this._isRtl()?"end"===Z.overlayX?"left":"right":"end"===Z.overlayX?"right":"left","right"===Ot?Ve.right=this._document.documentElement.clientWidth-(rt.x+this._overlayRect.width)+"px":Ve.left=(0,ee.HM)(rt.x),Ve}_getScrollVisibility(){const Z=this._getOriginRect(),H=this._pane.getBoundingClientRect(),J=this._scrollables.map(Ve=>Ve.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ze(Z,J),isOriginOutsideView:Tt(Z,J),isOverlayClipped:ze(H,J),isOverlayOutsideView:Tt(H,J)}}_subtractOverflows(Z,...H){return H.reduce((J,Ve)=>J-Math.max(Ve,0),Z)}_getNarrowedViewportRect(){const Z=this._document.documentElement.clientWidth,H=this._document.documentElement.clientHeight,J=this._viewportRuler.getViewportScrollPosition();return{top:J.top+this._viewportMargin,left:J.left+this._viewportMargin,right:J.left+Z-this._viewportMargin,bottom:J.top+H-this._viewportMargin,width:Z-2*this._viewportMargin,height:H-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Z,H){return"x"===H?Z.offsetX??this._offsetX:Z.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(Z){this._pane&&(0,ee.Eq)(Z).forEach(H=>{""!==H&&-1===this._appliedPanelClasses.indexOf(H)&&(this._appliedPanelClasses.push(H),this._pane.classList.add(H))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Z=>{this._pane.classList.remove(Z)}),this._appliedPanelClasses=[])}_getOriginRect(){const Z=this._origin;if(Z instanceof b.SBq)return Z.nativeElement.getBoundingClientRect();if(Z instanceof Element)return Z.getBoundingClientRect();const H=Z.width||0,J=Z.height||0;return{top:Z.y,bottom:Z.y+J,left:Z.x,right:Z.x+H,height:J,width:H}}}function En(be,Z){for(let H in Z)Z.hasOwnProperty(H)&&(be[H]=Z[H]);return be}function Dn(be){if("number"!=typeof be&&null!=be){const[Z,H]=be.split(Zt);return H&&"px"!==H?null:parseFloat(Z)}return be||null}function vn(be){return{top:Math.floor(be.top),right:Math.floor(be.right),bottom:Math.floor(be.bottom),left:Math.floor(be.left),width:Math.floor(be.width),height:Math.floor(be.height)}}const Mn="cdk-global-overlay-wrapper";class Cn{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Z){const H=Z.getConfig();this._overlayRef=Z,this._width&&!H.width&&Z.updateSize({width:this._width}),this._height&&!H.height&&Z.updateSize({height:this._height}),Z.hostElement.classList.add(Mn),this._isDisposed=!1}top(Z=""){return this._bottomOffset="",this._topOffset=Z,this._alignItems="flex-start",this}left(Z=""){return this._xOffset=Z,this._xPosition="left",this}bottom(Z=""){return this._topOffset="",this._bottomOffset=Z,this._alignItems="flex-end",this}right(Z=""){return this._xOffset=Z,this._xPosition="right",this}start(Z=""){return this._xOffset=Z,this._xPosition="start",this}end(Z=""){return this._xOffset=Z,this._xPosition="end",this}width(Z=""){return this._overlayRef?this._overlayRef.updateSize({width:Z}):this._width=Z,this}height(Z=""){return this._overlayRef?this._overlayRef.updateSize({height:Z}):this._height=Z,this}centerHorizontally(Z=""){return this.left(Z),this._xPosition="center",this}centerVertically(Z=""){return this.top(Z),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Z=this._overlayRef.overlayElement.style,H=this._overlayRef.hostElement.style,J=this._overlayRef.getConfig(),{width:Ve,height:rt,maxWidth:Ot,maxHeight:Ne}=J,_e=!("100%"!==Ve&&"100vw"!==Ve||Ot&&"100%"!==Ot&&"100vw"!==Ot),q=!("100%"!==rt&&"100vh"!==rt||Ne&&"100%"!==Ne&&"100vh"!==Ne),te=this._xPosition,qe=this._xOffset,It="rtl"===this._overlayRef.getConfig().direction;let Nt="",mn="",sn="";_e?sn="flex-start":"center"===te?(sn="center",It?mn=qe:Nt=qe):It?"left"===te||"end"===te?(sn="flex-end",Nt=qe):("right"===te||"start"===te)&&(sn="flex-start",mn=qe):"left"===te||"start"===te?(sn="flex-start",Nt=qe):("right"===te||"end"===te)&&(sn="flex-end",mn=qe),Z.position=this._cssPosition,Z.marginLeft=_e?"0":Nt,Z.marginTop=q?"0":this._topOffset,Z.marginBottom=this._bottomOffset,Z.marginRight=_e?"0":mn,H.justifyContent=sn,H.alignItems=q?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Z=this._overlayRef.overlayElement.style,H=this._overlayRef.hostElement,J=H.style;H.classList.remove(Mn),J.justifyContent=J.alignItems=Z.marginTop=Z.marginBottom=Z.marginLeft=Z.marginRight=Z.position="",this._overlayRef=null,this._isDisposed=!0}}let br=(()=>{class be{constructor(H,J,Ve,rt){this._viewportRuler=H,this._document=J,this._platform=Ve,this._overlayContainer=rt}global(){return new Cn}flexibleConnectedTo(H){return new qt(H,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return be.\u0275fac=function(H){return new(H||be)(b.LFG(m.rL),b.LFG(k.K0),b.LFG(Ee.t4),b.LFG(Dt))},be.\u0275prov=b.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),dr=0,Ln=(()=>{class be{constructor(H,J,Ve,rt,Ot,Ne,_e,q,te,qe,It,Nt){this.scrollStrategies=H,this._overlayContainer=J,this._componentFactoryResolver=Ve,this._positionBuilder=rt,this._keyboardDispatcher=Ot,this._injector=Ne,this._ngZone=_e,this._document=q,this._directionality=te,this._location=qe,this._outsideClickDispatcher=It,this._animationsModuleType=Nt}create(H){const J=this._createHostElement(),Ve=this._createPaneElement(J),rt=this._createPortalOutlet(Ve),Ot=new ue(H);return Ot.direction=Ot.direction||this._directionality.value,new $t(rt,J,Ve,Ot,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(H){const J=this._document.createElement("div");return J.id="cdk-overlay-"+dr++,J.classList.add("cdk-overlay-pane"),H.appendChild(J),J}_createHostElement(){const H=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(H),H}_createPortalOutlet(H){return this._appRef||(this._appRef=this._injector.get(b.z2F)),new je.u0(H,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return be.\u0275fac=function(H){return new(H||be)(b.LFG(ge),b.LFG(Dt),b.LFG(b._Vd),b.LFG(br),b.LFG(ve),b.LFG(b.zs3),b.LFG(b.R0b),b.LFG(k.K0),b.LFG(se.Is),b.LFG(k.Ye),b.LFG(pt),b.LFG(b.QbO,8))},be.\u0275prov=b.Yz7({token:be,factory:be.\u0275fac}),be})();const Un=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Kn=new b.OlP("cdk-connected-overlay-scroll-strategy");let zn=(()=>{class be{constructor(H){this.elementRef=H}}return be.\u0275fac=function(H){return new(H||be)(b.Y36(b.SBq))},be.\u0275dir=b.lG2({type:be,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),be})(),hr=(()=>{class be{constructor(H,J,Ve,rt,Ot){this._overlay=H,this._dir=Ot,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Oe.w0.EMPTY,this._attachSubscription=Oe.w0.EMPTY,this._detachSubscription=Oe.w0.EMPTY,this._positionSubscription=Oe.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new b.vpe,this.positionChange=new b.vpe,this.attach=new b.vpe,this.detach=new b.vpe,this.overlayKeydown=new b.vpe,this.overlayOutsideClick=new b.vpe,this._templatePortal=new je.UE(J,Ve),this._scrollStrategyFactory=rt,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(H){this._offsetX=H,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(H){this._offsetY=H,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(H){this._hasBackdrop=(0,ee.Ig)(H)}get lockPosition(){return this._lockPosition}set lockPosition(H){this._lockPosition=(0,ee.Ig)(H)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(H){this._flexibleDimensions=(0,ee.Ig)(H)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(H){this._growAfterOpen=(0,ee.Ig)(H)}get push(){return this._push}set push(H){this._push=(0,ee.Ig)(H)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(H){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),H.origin&&this.open&&this._position.apply()),H.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Un);const H=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=H.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=H.detachments().subscribe(()=>this.detach.emit()),H.keydownEvents().subscribe(J=>{this.overlayKeydown.next(J),J.keyCode===lt.hY&&!this.disableClose&&!(0,lt.Vb)(J)&&(J.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(J=>{this.overlayOutsideClick.next(J)})}_buildConfig(){const H=this._position=this.positionStrategy||this._createPositionStrategy(),J=new ue({direction:this._dir,positionStrategy:H,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(J.width=this.width),(this.height||0===this.height)&&(J.height=this.height),(this.minWidth||0===this.minWidth)&&(J.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(J.minHeight=this.minHeight),this.backdropClass&&(J.backdropClass=this.backdropClass),this.panelClass&&(J.panelClass=this.panelClass),J}_updatePositionStrategy(H){const J=this.positions.map(Ve=>({originX:Ve.originX,originY:Ve.originY,overlayX:Ve.overlayX,overlayY:Ve.overlayY,offsetX:Ve.offsetX||this.offsetX,offsetY:Ve.offsetY||this.offsetY,panelClass:Ve.panelClass||void 0}));return H.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(J).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const H=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(H),H}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof zn?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(H=>{this.backdropClick.emit(H)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,at.o)(()=>this.positionChange.observers.length>0)).subscribe(H=>{this.positionChange.emit(H),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return be.\u0275fac=function(H){return new(H||be)(b.Y36(Ln),b.Y36(b.Rgc),b.Y36(b.s_b),b.Y36(Kn),b.Y36(se.Is,8))},be.\u0275dir=b.lG2({type:be,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[b.TTD]}),be})();const Xn={provide:Kn,deps:[Ln],useFactory:function Hn(be){return()=>be.scrollStrategies.reposition()}};let tn=(()=>{class be{}return be.\u0275fac=function(H){return new(H||be)},be.\u0275mod=b.oAB({type:be}),be.\u0275inj=b.cJS({providers:[Ln,Xn],imports:[se.vT,je.eL,m.Cl,m.Cl]}),be})()},3353:(dn,ot,A)=>{A.d(ot,{Mq:()=>lt,Oy:()=>ze,ht:()=>Lt,i$:()=>ye,kV:()=>ct,qK:()=>xe,sA:()=>Tt,t4:()=>ee});var m=A(4650),k=A(6895);let b;try{b=typeof Intl<"u"&&Intl.v8BreakIterator}catch{b=!1}let se,ee=(()=>{class Se{constructor(ue){this._platformId=ue,this.isBrowser=this._platformId?(0,k.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!b)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Se.\u0275fac=function(ue){return new(ue||Se)(m.LFG(m.Lbi))},Se.\u0275prov=m.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})();const je=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function xe(){if(se)return se;if("object"!=typeof document||!document)return se=new Set(je),se;let Se=document.createElement("input");return se=new Set(je.filter(ge=>(Se.setAttribute("type",ge),Se.type===ge))),se}let Oe,at,bt;function ye(Se){return function ae(){if(null==Oe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Oe=!0}))}finally{Oe=Oe||!1}return Oe}()?Se:!!Se.capture}function lt(){if(null==at){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return at=!1,at;if("scrollBehavior"in document.documentElement.style)at=!0;else{const Se=Element.prototype.scrollTo;at=!!Se&&!/\{\s*\[native code\]\s*\}/.test(Se.toString())}}return at}function ct(Se){if(function ut(){if(null==bt){const Se=typeof document<"u"?document.head:null;bt=!(!Se||!Se.createShadowRoot&&!Se.attachShadow)}return bt}()){const ge=Se.getRootNode?Se.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ge instanceof ShadowRoot)return ge}return null}function Lt(){let Se=typeof document<"u"&&document?document.activeElement:null;for(;Se&&Se.shadowRoot;){const ge=Se.shadowRoot.activeElement;if(ge===Se)break;Se=ge}return Se}function Tt(Se){return Se.composedPath?Se.composedPath()[0]:Se.target}function ze(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(dn,ot,A)=>{A.d(ot,{C5:()=>ae,Pl:()=>Lt,UE:()=>ye,eL:()=>ze,en:()=>at,u0:()=>Je});var m=A(4650),k=A(6895);class Oe{attach(ue){return this._attachedHost=ue,ue.attach(this)}detach(){let ue=this._attachedHost;null!=ue&&(this._attachedHost=null,ue.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(ue){this._attachedHost=ue}}class ae extends Oe{constructor(ue,Le,R,Pe){super(),this.component=ue,this.viewContainerRef=Le,this.injector=R,this.componentFactoryResolver=Pe}}class ye extends Oe{constructor(ue,Le,R,Pe){super(),this.templateRef=ue,this.viewContainerRef=Le,this.context=R,this.injector=Pe}get origin(){return this.templateRef.elementRef}attach(ue,Le=this.context){return this.context=Le,super.attach(ue)}detach(){return this.context=void 0,super.detach()}}class me extends Oe{constructor(ue){super(),this.element=ue instanceof m.SBq?ue.nativeElement:ue}}class at{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(ue){return ue instanceof ae?(this._attachedPortal=ue,this.attachComponentPortal(ue)):ue instanceof ye?(this._attachedPortal=ue,this.attachTemplatePortal(ue)):this.attachDomPortal&&ue instanceof me?(this._attachedPortal=ue,this.attachDomPortal(ue)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(ue){this._disposeFn=ue}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Je extends at{constructor(ue,Le,R,Pe,ke){super(),this.outletElement=ue,this._componentFactoryResolver=Le,this._appRef=R,this._defaultInjector=Pe,this.attachDomPortal=we=>{const Ze=we.element,ve=this._document.createComment("dom-portal");Ze.parentNode.insertBefore(ve,Ze),this.outletElement.appendChild(Ze),this._attachedPortal=we,super.setDisposeFn(()=>{ve.parentNode&&ve.parentNode.replaceChild(Ze,ve)})},this._document=ke}attachComponentPortal(ue){const R=(ue.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ue.component);let Pe;return ue.viewContainerRef?(Pe=ue.viewContainerRef.createComponent(R,ue.viewContainerRef.length,ue.injector||ue.viewContainerRef.injector),this.setDisposeFn(()=>Pe.destroy())):(Pe=R.create(ue.injector||this._defaultInjector||m.zs3.NULL),this._appRef.attachView(Pe.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Pe.hostView),Pe.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Pe)),this._attachedPortal=ue,Pe}attachTemplatePortal(ue){let Le=ue.viewContainerRef,R=Le.createEmbeddedView(ue.templateRef,ue.context,{injector:ue.injector});return R.rootNodes.forEach(Pe=>this.outletElement.appendChild(Pe)),R.detectChanges(),this.setDisposeFn(()=>{let Pe=Le.indexOf(R);-1!==Pe&&Le.remove(Pe)}),this._attachedPortal=ue,R}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(ue){return ue.hostView.rootNodes[0]}}let Lt=(()=>{class ge extends at{constructor(Le,R,Pe){super(),this._componentFactoryResolver=Le,this._viewContainerRef=R,this._isInitialized=!1,this.attached=new m.vpe,this.attachDomPortal=ke=>{const we=ke.element,Ze=this._document.createComment("dom-portal");ke.setAttachedHost(this),we.parentNode.insertBefore(Ze,we),this._getRootNode().appendChild(we),this._attachedPortal=ke,super.setDisposeFn(()=>{Ze.parentNode&&Ze.parentNode.replaceChild(we,Ze)})},this._document=Pe}get portal(){return this._attachedPortal}set portal(Le){this.hasAttached()&&!Le&&!this._isInitialized||(this.hasAttached()&&super.detach(),Le&&super.attach(Le),this._attachedPortal=Le||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(Le){Le.setAttachedHost(this);const R=null!=Le.viewContainerRef?Le.viewContainerRef:this._viewContainerRef,ke=(Le.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Le.component),we=R.createComponent(ke,R.length,Le.injector||R.injector);return R!==this._viewContainerRef&&this._getRootNode().appendChild(we.hostView.rootNodes[0]),super.setDisposeFn(()=>we.destroy()),this._attachedPortal=Le,this._attachedRef=we,this.attached.emit(we),we}attachTemplatePortal(Le){Le.setAttachedHost(this);const R=this._viewContainerRef.createEmbeddedView(Le.templateRef,Le.context,{injector:Le.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Le,this._attachedRef=R,this.attached.emit(R),R}_getRootNode(){const Le=this._viewContainerRef.element.nativeElement;return Le.nodeType===Le.ELEMENT_NODE?Le:Le.parentNode}}return ge.\u0275fac=function(Le){return new(Le||ge)(m.Y36(m._Vd),m.Y36(m.s_b),m.Y36(k.K0))},ge.\u0275dir=m.lG2({type:ge,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[m.qOj]}),ge})(),ze=(()=>{class ge{}return ge.\u0275fac=function(Le){return new(Le||ge)},ge.\u0275mod=m.oAB({type:ge}),ge.\u0275inj=m.cJS({}),ge})()},1218:(dn,ot,A)=>{A.d(ot,{ZD:()=>rt,mF:()=>Un,Cl:()=>Ot,rL:()=>hr});var m=A(1281),k=A(4650),b=A(7579),ee=A(9646),Ee=A(9751),se=A(4968),je=A(4408),xe=A(727);const Oe={schedule(Ne){let _e=requestAnimationFrame,q=cancelAnimationFrame;const{delegate:te}=Oe;te&&(_e=te.requestAnimationFrame,q=te.cancelAnimationFrame);const qe=_e(It=>{q=void 0,Ne(It)});return new xe.w0(()=>q?.(qe))},requestAnimationFrame(...Ne){const{delegate:_e}=Oe;return(_e?.requestAnimationFrame||requestAnimationFrame)(...Ne)},cancelAnimationFrame(...Ne){const{delegate:_e}=Oe;return(_e?.cancelAnimationFrame||cancelAnimationFrame)(...Ne)},delegate:void 0};var ye=A(7565);new class me extends ye.v{flush(_e){this._active=!0;const q=this._scheduled;this._scheduled=void 0;const{actions:te}=this;let qe;_e=_e||te.shift();do{if(qe=_e.execute(_e.state,_e.delay))break}while((_e=te[0])&&_e.id===q&&te.shift());if(this._active=!1,qe){for(;(_e=te[0])&&_e.id===q&&te.shift();)_e.unsubscribe();throw qe}}}(class ae extends je.o{constructor(_e,q){super(_e,q),this.scheduler=_e,this.work=q}requestAsyncId(_e,q,te=0){return null!==te&&te>0?super.requestAsyncId(_e,q,te):(_e.actions.push(this),_e._scheduled||(_e._scheduled=Oe.requestAnimationFrame(()=>_e.flush(void 0))))}recycleAsyncId(_e,q,te=0){var qe;if(null!=te?te>0:this.delay>0)return super.recycleAsyncId(_e,q,te);const{actions:It}=_e;null!=q&&(null===(qe=It[It.length-1])||void 0===qe?void 0:qe.id)!==q&&(Oe.cancelAnimationFrame(q),_e._scheduled=void 0)}});let bt,Je=1;const ut={};function ct(Ne){return Ne in ut&&(delete ut[Ne],!0)}const Lt={setImmediate(Ne){const _e=Je++;return ut[_e]=!0,bt||(bt=Promise.resolve()),bt.then(()=>ct(_e)&&Ne()),_e},clearImmediate(Ne){ct(Ne)}},{setImmediate:ze,clearImmediate:Se}=Lt,ge={setImmediate(...Ne){const{delegate:_e}=ge;return(_e?.setImmediate||ze)(...Ne)},clearImmediate(Ne){const{delegate:_e}=ge;return(_e?.clearImmediate||Se)(Ne)},delegate:void 0};new class Le extends ye.v{flush(_e){this._active=!0;const q=this._scheduled;this._scheduled=void 0;const{actions:te}=this;let qe;_e=_e||te.shift();do{if(qe=_e.execute(_e.state,_e.delay))break}while((_e=te[0])&&_e.id===q&&te.shift());if(this._active=!1,qe){for(;(_e=te[0])&&_e.id===q&&te.shift();)_e.unsubscribe();throw qe}}}(class ue extends je.o{constructor(_e,q){super(_e,q),this.scheduler=_e,this.work=q}requestAsyncId(_e,q,te=0){return null!==te&&te>0?super.requestAsyncId(_e,q,te):(_e.actions.push(this),_e._scheduled||(_e._scheduled=ge.setImmediate(_e.flush.bind(_e,void 0))))}recycleAsyncId(_e,q,te=0){var qe;if(null!=te?te>0:this.delay>0)return super.recycleAsyncId(_e,q,te);const{actions:It}=_e;null!=q&&(null===(qe=It[It.length-1])||void 0===qe?void 0:qe.id)!==q&&(ge.clearImmediate(q),_e._scheduled=void 0)}});var ke=A(4986),we=A(4482),Ze=A(8421),ve=A(5403),Dt=A(3532);function Zt(Ne,_e=ke.z){return function pt(Ne){return(0,we.e)((_e,q)=>{let te=!1,qe=null,It=null,Nt=!1;const mn=()=>{if(It?.unsubscribe(),It=null,te){te=!1;const vt=qe;qe=null,q.next(vt)}Nt&&q.complete()},sn=()=>{It=null,Nt&&q.complete()};_e.subscribe((0,ve.x)(q,vt=>{te=!0,qe=vt,It||(0,Ze.Xf)(Ne(vt)).subscribe(It=(0,ve.x)(q,mn,sn))},()=>{Nt=!0,(!te||!It||It.closed)&&q.complete()}))})}(()=>function en(Ne=0,_e,q=ke.P){let te=-1;return null!=_e&&((0,Dt.K)(_e)?q=_e:te=_e),new Ee.y(qe=>{let It=function $t(Ne){return Ne instanceof Date&&!isNaN(Ne)}(Ne)?+Ne-q.now():Ne;It<0&&(It=0);let Nt=0;return q.schedule(function(){qe.closed||(qe.next(Nt++),0<=te?this.schedule(void 0,te):qe.complete())},It)})}(Ne,_e))}var qt=A(9300),En=A(3353),Dn=A(6895),vn=A(445);let Un=(()=>{class Ne{constructor(q,te,qe){this._ngZone=q,this._platform=te,this._scrolled=new b.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=qe}register(q){this.scrollContainers.has(q)||this.scrollContainers.set(q,q.elementScrolled().subscribe(()=>this._scrolled.next(q)))}deregister(q){const te=this.scrollContainers.get(q);te&&(te.unsubscribe(),this.scrollContainers.delete(q))}scrolled(q=20){return this._platform.isBrowser?new Ee.y(te=>{this._globalSubscription||this._addGlobalListener();const qe=q>0?this._scrolled.pipe(Zt(q)).subscribe(te):this._scrolled.subscribe(te);return this._scrolledCount++,()=>{qe.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ee.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((q,te)=>this.deregister(te)),this._scrolled.complete()}ancestorScrolled(q,te){const qe=this.getAncestorScrollContainers(q);return this.scrolled(te).pipe((0,qt.h)(It=>!It||qe.indexOf(It)>-1))}getAncestorScrollContainers(q){const te=[];return this.scrollContainers.forEach((qe,It)=>{this._scrollableContainsElement(It,q)&&te.push(It)}),te}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(q,te){let qe=(0,m.fI)(te),It=q.getElementRef().nativeElement;do{if(qe==It)return!0}while(qe=qe.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const q=this._getWindow();return(0,se.R)(q.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Ne.\u0275fac=function(q){return new(q||Ne)(k.LFG(k.R0b),k.LFG(En.t4),k.LFG(Dn.K0,8))},Ne.\u0275prov=k.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})(),hr=(()=>{class Ne{constructor(q,te,qe){this._platform=q,this._change=new b.x,this._changeListener=It=>{this._change.next(It)},this._document=qe,te.runOutsideAngular(()=>{if(q.isBrowser){const It=this._getWindow();It.addEventListener("resize",this._changeListener),It.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const q=this._getWindow();q.removeEventListener("resize",this._changeListener),q.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const q={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),q}getViewportRect(){const q=this.getViewportScrollPosition(),{width:te,height:qe}=this.getViewportSize();return{top:q.top,left:q.left,bottom:q.top+qe,right:q.left+te,height:qe,width:te}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const q=this._document,te=this._getWindow(),qe=q.documentElement,It=qe.getBoundingClientRect();return{top:-It.top||q.body.scrollTop||te.scrollY||qe.scrollTop||0,left:-It.left||q.body.scrollLeft||te.scrollX||qe.scrollLeft||0}}change(q=20){return q>0?this._change.pipe(Zt(q)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const q=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:q.innerWidth,height:q.innerHeight}:{width:0,height:0}}}return Ne.\u0275fac=function(q){return new(q||Ne)(k.LFG(En.t4),k.LFG(k.R0b),k.LFG(Dn.K0,8))},Ne.\u0275prov=k.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})(),rt=(()=>{class Ne{}return Ne.\u0275fac=function(q){return new(q||Ne)},Ne.\u0275mod=k.oAB({type:Ne}),Ne.\u0275inj=k.cJS({}),Ne})(),Ot=(()=>{class Ne{}return Ne.\u0275fac=function(q){return new(q||Ne)},Ne.\u0275mod=k.oAB({type:Ne}),Ne.\u0275inj=k.cJS({imports:[vn.vT,rt,vn.vT,rt]}),Ne})()},6895:(dn,ot,A)=>{A.d(ot,{Do:()=>Tt,ED:()=>Qs,EM:()=>Yo,HT:()=>Ee,JF:()=>ui,K0:()=>je,Mx:()=>Ni,NF:()=>ho,O5:()=>wr,Ov:()=>Xt,PM:()=>ri,RF:()=>Wo,S$:()=>ut,Ts:()=>Mi,V_:()=>ae,Ye:()=>ze,b0:()=>Lt,bD:()=>Ns,ez:()=>Mo,mk:()=>Mr,n9:()=>Ko,q:()=>b,sg:()=>Qr,w_:()=>se});var m=A(4650);let k=null;function b(){return k}function Ee(N){k||(k=N)}class se{}const je=new m.OlP("DocumentToken");let xe=(()=>{class N{historyGo(U){throw new Error("Not implemented")}}return N.\u0275fac=function(U){return new(U||N)},N.\u0275prov=m.Yz7({token:N,factory:function(){return function Oe(){return(0,m.LFG)(ye)}()},providedIn:"platform"}),N})();const ae=new m.OlP("Location Initialized");let ye=(()=>{class N extends xe{constructor(U){super(),this._doc=U,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return b().getBaseHref(this._doc)}onPopState(U){const le=b().getGlobalEventTarget(this._doc,"window");return le.addEventListener("popstate",U,!1),()=>le.removeEventListener("popstate",U)}onHashChange(U){const le=b().getGlobalEventTarget(this._doc,"window");return le.addEventListener("hashchange",U,!1),()=>le.removeEventListener("hashchange",U)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(U){this.location.pathname=U}pushState(U,le,tt){me()?this._history.pushState(U,le,tt):this.location.hash=tt}replaceState(U,le,tt){me()?this._history.replaceState(U,le,tt):this.location.hash=tt}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return N.\u0275fac=function(U){return new(U||N)(m.LFG(je))},N.\u0275prov=m.Yz7({token:N,factory:function(){return function at(){return new ye((0,m.LFG)(je))}()},providedIn:"platform"}),N})();function me(){return!!window.history.pushState}function lt(N,X){if(0==N.length)return X;if(0==X.length)return N;let U=0;return N.endsWith("/")&&U++,X.startsWith("/")&&U++,2==U?N+X.substring(1):1==U?N+X:N+"/"+X}function Je(N){const X=N.match(/#|\?|$/),U=X&&X.index||N.length;return N.slice(0,U-("/"===N[U-1]?1:0))+N.slice(U)}function bt(N){return N&&"?"!==N[0]?"?"+N:N}let ut=(()=>{class N{historyGo(U){throw new Error("Not implemented")}}return N.\u0275fac=function(U){return new(U||N)},N.\u0275prov=m.Yz7({token:N,factory:function(){return(0,m.f3M)(Lt)},providedIn:"root"}),N})();const ct=new m.OlP("appBaseHref");let Lt=(()=>{class N extends ut{constructor(U,le){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=le??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return lt(this._baseHref,U)}path(U=!1){const le=this._platformLocation.pathname+bt(this._platformLocation.search),tt=this._platformLocation.hash;return tt&&U?`${le}${tt}`:le}pushState(U,le,tt,xt){const Wt=this.prepareExternalUrl(tt+bt(xt));this._platformLocation.pushState(U,le,Wt)}replaceState(U,le,tt,xt){const Wt=this.prepareExternalUrl(tt+bt(xt));this._platformLocation.replaceState(U,le,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return N.\u0275fac=function(U){return new(U||N)(m.LFG(xe),m.LFG(ct,8))},N.\u0275prov=m.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Tt=(()=>{class N extends ut{constructor(U,le){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=le&&(this._baseHref=le)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let le=this._platformLocation.hash;return null==le&&(le="#"),le.length>0?le.substring(1):le}prepareExternalUrl(U){const le=lt(this._baseHref,U);return le.length>0?"#"+le:le}pushState(U,le,tt,xt){let Wt=this.prepareExternalUrl(tt+bt(xt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.pushState(U,le,Wt)}replaceState(U,le,tt,xt){let Wt=this.prepareExternalUrl(tt+bt(xt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.replaceState(U,le,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return N.\u0275fac=function(U){return new(U||N)(m.LFG(xe),m.LFG(ct,8))},N.\u0275prov=m.Yz7({token:N,factory:N.\u0275fac}),N})(),ze=(()=>{class N{constructor(U){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const le=this._locationStrategy.getBaseHref();this._baseHref=Je(ue(le)),this._locationStrategy.onPopState(tt=>{this._subject.emit({url:this.path(!0),pop:!0,state:tt.state,type:tt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,le=""){return this.path()==this.normalize(U+bt(le))}normalize(U){return N.stripTrailingSlash(function ge(N,X){return N&&X.startsWith(N)?X.substring(N.length):X}(this._baseHref,ue(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,le="",tt=null){this._locationStrategy.pushState(tt,"",U,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+bt(le)),tt)}replaceState(U,le="",tt=null){this._locationStrategy.replaceState(tt,"",U,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+bt(le)),tt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(le=>{this._notifyUrlChangeListeners(le.url,le.state)})),()=>{const le=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(le,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",le){this._urlChangeListeners.forEach(tt=>tt(U,le))}subscribe(U,le,tt){return this._subject.subscribe({next:U,error:le,complete:tt})}}return N.normalizeQueryParams=bt,N.joinWithSlash=lt,N.stripTrailingSlash=Je,N.\u0275fac=function(U){return new(U||N)(m.LFG(ut))},N.\u0275prov=m.Yz7({token:N,factory:function(){return function Se(){return new ze((0,m.LFG)(ut))}()},providedIn:"root"}),N})();function ue(N){return N.replace(/\/index.html$/,"")}function Ni(N,X){X=encodeURIComponent(X);for(const U of N.split(";")){const le=U.indexOf("="),[tt,xt]=-1==le?[U,""]:[U.slice(0,le),U.slice(le+1)];if(tt.trim()===X)return decodeURIComponent(xt)}return null}let Mr=(()=>{class N{constructor(U,le,tt,xt){this._iterableDiffers=U,this._keyValueDiffers=le,this._ngEl=tt,this._renderer=xt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(U){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof U?U.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(U){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof U?U.split(/\s+/):U,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const U=this._iterableDiffer.diff(this._rawClass);U&&this._applyIterableChanges(U)}else if(this._keyValueDiffer){const U=this._keyValueDiffer.diff(this._rawClass);U&&this._applyKeyValueChanges(U)}}_applyKeyValueChanges(U){U.forEachAddedItem(le=>this._toggleClass(le.key,le.currentValue)),U.forEachChangedItem(le=>this._toggleClass(le.key,le.currentValue)),U.forEachRemovedItem(le=>{le.previousValue&&this._toggleClass(le.key,!1)})}_applyIterableChanges(U){U.forEachAddedItem(le=>{if("string"!=typeof le.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(le.item)}`);this._toggleClass(le.item,!0)}),U.forEachRemovedItem(le=>this._toggleClass(le.item,!1))}_applyClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(le=>this._toggleClass(le,!0)):Object.keys(U).forEach(le=>this._toggleClass(le,!!U[le])))}_removeClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(le=>this._toggleClass(le,!1)):Object.keys(U).forEach(le=>this._toggleClass(le,!1)))}_toggleClass(U,le){(U=U.trim())&&U.split(/\s+/g).forEach(tt=>{le?this._renderer.addClass(this._ngEl.nativeElement,tt):this._renderer.removeClass(this._ngEl.nativeElement,tt)})}}return N.\u0275fac=function(U){return new(U||N)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},N.\u0275dir=m.lG2({type:N,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),N})();class _s{constructor(X,U,le,tt){this.$implicit=X,this.ngForOf=U,this.index=le,this.count=tt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qr=(()=>{class N{constructor(U,le,tt){this._viewContainer=U,this._template=le,this._differs=tt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const le=this._viewContainer;U.forEachOperation((tt,xt,Wt)=>{if(null==tt.previousIndex)le.createEmbeddedView(this._template,new _s(tt.item,this._ngForOf,-1,-1),null===Wt?void 0:Wt);else if(null==Wt)le.remove(null===xt?void 0:xt);else if(null!==xt){const xn=le.get(xt);le.move(xn,Wt),Xr(xn,tt)}});for(let tt=0,xt=le.length;tt<xt;tt++){const xn=le.get(tt).context;xn.index=tt,xn.count=xt,xn.ngForOf=this._ngForOf}U.forEachIdentityChange(tt=>{Xr(le.get(tt.currentIndex),tt)})}static ngTemplateContextGuard(U,le){return!0}}return N.\u0275fac=function(U){return new(U||N)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},N.\u0275dir=m.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),N})();function Xr(N,X){N.context.$implicit=X.item}let wr=(()=>{class N{constructor(U,le){this._viewContainer=U,this._context=new cs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=le}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){di("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){di("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,le){return!0}}return N.\u0275fac=function(U){return new(U||N)(m.Y36(m.s_b),m.Y36(m.Rgc))},N.\u0275dir=m.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),N})();class cs{constructor(){this.$implicit=null,this.ngIf=null}}function di(N,X){if(X&&!X.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,m.AaK)(X)}'.`)}class ts{constructor(X,U){this._viewContainerRef=X,this._templateRef=U,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(X){X&&!this._created?this.create():!X&&this._created&&this.destroy()}}let Wo=(()=>{class N{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(U){this._ngSwitch=U,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(U){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(U)}_matchCase(U){const le=U==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||le,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),le}_updateDefaultCases(U){if(this._defaultViews&&U!==this._defaultUsed){this._defaultUsed=U;for(let le=0;le<this._defaultViews.length;le++)this._defaultViews[le].enforceState(U)}}}return N.\u0275fac=function(U){return new(U||N)},N.\u0275dir=m.lG2({type:N,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),N})(),Ko=(()=>{class N{constructor(U,le,tt){this.ngSwitch=tt,tt._addCase(),this._view=new ts(U,le)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return N.\u0275fac=function(U){return new(U||N)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(Wo,9))},N.\u0275dir=m.lG2({type:N,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),N})(),Qs=(()=>{class N{constructor(U,le,tt){tt._addDefault(new ts(U,le))}}return N.\u0275fac=function(U){return new(U||N)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(Wo,9))},N.\u0275dir=m.lG2({type:N,selectors:[["","ngSwitchDefault",""]],standalone:!0}),N})();class mt{createSubscription(X,U){return X.subscribe({next:U,error:le=>{throw le}})}dispose(X){X.unsubscribe()}}class ft{createSubscription(X,U){return X.then(U,le=>{throw le})}dispose(X){}}const St=new ft,Ut=new mt;let Xt=(()=>{class N{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,le=>this._updateLatestValue(U,le))}_selectStrategy(U){if((0,m.QGY)(U))return St;if((0,m.F4k)(U))return Ut;throw function hi(N,X){return new m.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,le){U===this._obj&&(this._latestValue=le,this._ref.markForCheck())}}return N.\u0275fac=function(U){return new(U||N)(m.Y36(m.sBO,16))},N.\u0275pipe=m.Yjl({name:"async",type:N,pure:!1,standalone:!0}),N})(),Mi=(()=>{class N{transform(U){return JSON.stringify(U,null,2)}}return N.\u0275fac=function(U){return new(U||N)},N.\u0275pipe=m.Yjl({name:"json",type:N,pure:!1,standalone:!0}),N})(),Mo=(()=>{class N{}return N.\u0275fac=function(U){return new(U||N)},N.\u0275mod=m.oAB({type:N}),N.\u0275inj=m.cJS({}),N})();const Ns="browser";function ho(N){return N===Ns}function ri(N){return"server"===N}let Yo=(()=>{class N{}return N.\u0275prov=(0,m.Yz7)({token:N,providedIn:"root",factory:()=>new Ls((0,m.LFG)(je),window)}),N})();class Ls{constructor(X,U){this.document=X,this.window=U,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const U=function ci(N,X){const U=N.getElementById(X)||N.getElementsByName(X)[0];if(U)return U;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const le=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let tt=le.currentNode;for(;tt;){const xt=tt.shadowRoot;if(xt){const Wt=xt.getElementById(X)||xt.querySelector(`[name="${X}"]`);if(Wt)return Wt}tt=le.nextNode()}}return null}(this.document,X);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(X){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=X)}}scrollToElement(X){const U=X.getBoundingClientRect(),le=U.left+this.window.pageXOffset,tt=U.top+this.window.pageYOffset,xt=this.offset();this.window.scrollTo(le-xt[0],tt-xt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const X=is(this.window.history)||is(Object.getPrototypeOf(this.window.history));return!(!X||!X.writable&&!X.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function is(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class ui{}},4650:(dn,ot,A)=>{A.d(ot,{$8M:()=>Wa,$Z:()=>ff,AFp:()=>ne,ALo:()=>Y0,AaK:()=>xe,AsE:()=>Vd,BQk:()=>Mf,CHM:()=>As,CRH:()=>hb,CZH:()=>$,CqO:()=>xf,D6c:()=>aD,DdM:()=>Py,EJc:()=>Br,EiD:()=>Ho,EpF:()=>R_,F$t:()=>e0,F4k:()=>Sp,FYo:()=>Q,FiY:()=>In,G48:()=>$w,Gf:()=>ub,GfV:()=>bn,Gpc:()=>ye,Gre:()=>p0,Hsn:()=>t0,Ikx:()=>Fp,JOm:()=>lc,JVY:()=>Yh,KtG:()=>Ro,L6k:()=>id,LAX:()=>xa,LFG:()=>Ji,LSH:()=>sh,Lbi:()=>cn,Lck:()=>dg,MAs:()=>Fh,MMx:()=>jf,NdJ:()=>Rf,O4$:()=>xn,OlP:()=>ti,Oqu:()=>Bd,PXZ:()=>Lw,Q6J:()=>wp,QGY:()=>Tp,QP$:()=>er,QbO:()=>xr,Qsj:()=>fe,R0b:()=>Is,RDi:()=>zc,Rgc:()=>pc,SBq:()=>p,Sil:()=>Sb,Suo:()=>db,TTD:()=>eo,TgZ:()=>Dp,Udp:()=>Nf,VKq:()=>Wf,WFA:()=>Ap,X6Q:()=>jw,XFs:()=>tn,Xpm:()=>He,Xts:()=>Ic,Y36:()=>Dh,YKP:()=>jd,YNc:()=>Qv,Yjl:()=>Ht,Yz7:()=>Jt,Z0I:()=>br,ZZ4:()=>OC,_Bn:()=>hu,_UZ:()=>A_,_Vd:()=>Nl,_c5:()=>sD,_uU:()=>Bh,aQg:()=>PC,c2e:()=>Er,cJS:()=>Mn,cg1:()=>Hd,d8E:()=>ny,dDg:()=>Ow,dqk:()=>q,eBb:()=>Zh,eFA:()=>pw,ekj:()=>kp,eoX:()=>dw,f3M:()=>V,g9A:()=>kt,h0i:()=>Hp,hGG:()=>oD,hij:()=>Np,iGM:()=>cb,ifc:()=>_e,ip1:()=>O,jDz:()=>$d,kL8:()=>Qm,kcU:()=>Vr,lG2:()=>it,lcZ:()=>Q0,lqb:()=>Go,lri:()=>Ig,mCW:()=>Du,n5z:()=>_u,n_E:()=>zd,oAB:()=>Et,oxw:()=>P_,pB0:()=>Wc,q3G:()=>Vi,q4F:()=>Gt,qLn:()=>hh,qOj:()=>E_,qZA:()=>Ip,qzn:()=>so,rWj:()=>uw,sBO:()=>Gw,sIi:()=>Df,s_b:()=>yg,soG:()=>Lr,tb:()=>_n,tp0:()=>tr,uIk:()=>w_,vHH:()=>Je,vpe:()=>il,wAp:()=>nr,xp6:()=>Bg,ynx:()=>Pm,z2F:()=>xb,z3N:()=>Uo,zSh:()=>Yc,zs3:()=>Ad});var m=A(7579),k=A(727),b=A(9751),ee=A(6451),Ee=A(3099);function se(r){for(let s in r)if(r[s]===se)return s;throw Error("Could not find renamed property on target object.")}function je(r,s){for(const o in s)s.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=s[o])}function xe(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(xe).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Oe(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const ae=se({__forward_ref__:se});function ye(r){return r.__forward_ref__=ye,r.toString=function(){return xe(this())},r}function me(r){return at(r)?r():r}function at(r){return"function"==typeof r&&r.hasOwnProperty(ae)&&r.__forward_ref__===ye}class Je extends Error{constructor(s,o){super(function bt(r,s){return`NG0${Math.abs(r)}${s?": "+s.trim():""}`}(s,o)),this.code=s}}function ut(r){return"string"==typeof r?r:null==r?"":String(r)}function Se(r,s){throw new Je(-201,!1)}function Zt(r,s){null==r&&function qt(r,s,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,r,null,"!=")}function Jt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Mn(r){return{providers:r.providers||[],imports:r.imports||[]}}function Cn(r){return dr(r,zn)||dr(r,Hn)}function br(r){return null!==Cn(r)}function dr(r,s){return r.hasOwnProperty(s)?r[s]:null}function Kn(r){return r&&(r.hasOwnProperty(hr)||r.hasOwnProperty(Xn))?r[hr]:null}const zn=se({\u0275prov:se}),hr=se({\u0275inj:se}),Hn=se({ngInjectableDef:se}),Xn=se({ngInjectorDef:se});var tn=(()=>((tn=tn||{})[tn.Default=0]="Default",tn[tn.Host=1]="Host",tn[tn.Self=2]="Self",tn[tn.SkipSelf=4]="SkipSelf",tn[tn.Optional=8]="Optional",tn))();let Jn;function Z(r){const s=Jn;return Jn=r,s}function H(r,s,o){const l=Cn(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&tn.Optional?null:void 0!==s?s:void Se(xe(r))}function Ve(r){return{toString:r}.toString()}var rt=(()=>((rt=rt||{})[rt.OnPush=0]="OnPush",rt[rt.Default=1]="Default",rt))(),_e=(()=>{return(r=_e||(_e={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",_e;var r})();const q=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),It={},Nt=[],mn=se({\u0275cmp:se}),sn=se({\u0275dir:se}),vt=se({\u0275pipe:se}),et=se({\u0275mod:se}),Ye=se({\u0275fac:se}),Mt=se({__NG_ELEMENT_ID__:se});let Yt=0;function He(r){return Ve(()=>{const o=!0===r.standalone,l={},f={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===rt.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||Nt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||_e.Emulated,id:"c"+Yt++,styles:r.styles||Nt,_:null,setInput:null,schemas:r.schemas||null,tView:null},y=r.dependencies,w=r.features;return f.inputs=Me(r.inputs,l),f.outputs=Me(r.outputs),w&&w.forEach(x=>x(f)),f.directiveDefs=y?()=>("function"==typeof y?y():y).map(Te).filter(st):null,f.pipeDefs=y?()=>("function"==typeof y?y():y).map(On).filter(st):null,f})}function Te(r){return dt(r)||gn(r)}function st(r){return null!==r}function Et(r){return Ve(()=>({type:r.type,bootstrap:r.bootstrap||Nt,declarations:r.declarations||Nt,imports:r.imports||Nt,exports:r.exports||Nt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Me(r,s){if(null==r)return It;const o={};for(const l in r)if(r.hasOwnProperty(l)){let f=r[l],y=f;Array.isArray(f)&&(y=f[1],f=f[0]),o[f]=l,s&&(s[f]=y)}return o}const it=He;function Ht(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function dt(r){return r[mn]||null}function gn(r){return r[sn]||null}function On(r){return r[vt]||null}function er(r){const s=dt(r)||gn(r)||On(r);return null!==s&&s.standalone}function fr(r,s){const o=r[et]||null;if(!o&&!0===s)throw new Error(`Type ${xe(r)} does not have '\u0275mod' property.`);return o}function di(r){return Array.isArray(r)&&"object"==typeof r[1]}function ts(r){return Array.isArray(r)&&!0===r[1]}function Wo(r){return 0!=(8&r.flags)}function Ko(r){return 2==(2&r.flags)}function Qs(r){return 1==(1&r.flags)}function Si(r){return null!==r.template}function Fa(r){return 0!=(256&r[2])}function li(r,s){return r.hasOwnProperty(Ye)?r[Ye]:null}class Yi{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function eo(){return Zi}function Zi(r){return r.type.prototype.ngOnChanges&&(r.setInput=Qi),uo}function uo(){const r=Ao(this),s=r?.current;if(s){const o=r.previous;if(o===It)r.previous=s;else for(let l in s)o[l]=s[l];r.current=null,this.ngOnChanges(s)}}function Qi(r,s,o,l){const f=Ao(r)||function Mo(r,s){return r[So]=s}(r,{previous:It,current:null}),y=f.current||(f.current={}),w=f.previous,x=this.declaredInputs[o],F=w[x];y[x]=new Yi(F&&F.currentValue,s,w===It),r[l]=s}eo.ngInherit=!0;const So="__ngSimpleChanges__";function Ao(r){return r[So]||null}function Jr(r){for(;Array.isArray(r);)r=r[0];return r}function is(r,s){return Jr(s[r])}function ci(r,s){return Jr(s[r.index])}function ui(r,s){return r.data[s]}function Bs(r,s){return r[s]}function Dr(r,s){const o=s[r];return di(o)?o:o[0]}function Ss(r){return 64==(64&r[2])}function Gi(r,s){return null==s?null:r[s]}function to(r){r[18]=0}function zr(r,s){r[5]+=s;let o=r,l=r[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const cr={lFrame:Ua(null),bindingsEnabled:!0};function xi(){return cr.bindingsEnabled}function rn(){return cr.lFrame.lView}function ir(){return cr.lFrame.tView}function As(r){return cr.lFrame.contextLView=r,r[8]}function Ro(r){return cr.lFrame.contextLView=null,r}function Fn(){let r=K();for(;null!==r&&64===r.type;)r=r.parent;return r}function K(){return cr.lFrame.currentTNode}function L(r,s){const o=cr.lFrame;o.currentTNode=r,o.isParent=s}function ie(){return cr.lFrame.isParent}function Pt(){cr.lFrame.isParent=!1}function oi(){const r=cr.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Xo(){return cr.lFrame.bindingIndex++}function fo(r){const s=cr.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,o}function al(r,s){const o=cr.lFrame;o.bindingIndex=o.bindingRootIndex=r,ya(s)}function ya(r){cr.lFrame.currentDirectiveIndex=r}function ko(r){const s=cr.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}function ea(){return cr.lFrame.currentQueryIndex}function va(r){cr.lFrame.currentQueryIndex=r}function mo(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function ba(r,s,o){if(o&tn.SkipSelf){let f=s,y=r;for(;!(f=f.parent,null!==f||o&tn.Host||(f=mo(y),null===f||(y=y[15],10&f.type))););if(null===f)return!1;s=f,r=y}const l=cr.lFrame=Ul();return l.currentTNode=s,l.lView=r,!0}function ll(r){const s=Ul(),o=r[1];cr.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Ul(){const r=cr.lFrame,s=null===r?null:r.child;return null===s?Ua(r):s}function Ua(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Ha(){const r=cr.lFrame;return cr.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const N=Ha;function X(){const r=Ha();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function tt(){return cr.lFrame.selectedIndex}function xt(r){cr.lFrame.selectedIndex=r}function Wt(){const r=cr.lFrame;return ui(r.tView,r.selectedIndex)}function xn(){cr.lFrame.currentNamespace="svg"}function Vr(){!function Ur(){cr.lFrame.currentNamespace=null}()}function Wr(r,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const y=r.data[o].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:x,ngAfterViewInit:F,ngAfterViewChecked:Y,ngOnDestroy:he}=y;w&&(r.contentHooks||(r.contentHooks=[])).push(-o,w),x&&((r.contentHooks||(r.contentHooks=[])).push(o,x),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,x)),F&&(r.viewHooks||(r.viewHooks=[])).push(-o,F),Y&&((r.viewHooks||(r.viewHooks=[])).push(o,Y),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,Y)),null!=he&&(r.destroyHooks||(r.destroyHooks=[])).push(o,he)}}function vi(r,s,o){bi(r,s,3,o)}function ta(r,s,o,l){(3&r[2])===o&&bi(r,s,o,l)}function xs(r,s){let o=r[2];(3&o)===s&&(o&=2047,o+=1,r[2]=o)}function bi(r,s,o,l){const y=l??-1,w=s.length-1;let x=0;for(let F=void 0!==l?65535&r[18]:0;F<w;F++)if("number"==typeof s[F+1]){if(x=s[F],null!=l&&x>=l)break}else s[F]<0&&(r[18]+=65536),(x<y||-1==y)&&(Di(r,o,s,F),r[18]=(4294901760&r[18])+F+2),F++}function Di(r,s,o,l){const f=o[l]<0,y=o[l+1],x=r[f?-o[l]:o[l]];if(f){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{y.call(x)}finally{}}}else try{y.call(x)}finally{}}class Us{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function nn(r,s,o){let l=0;for(;l<o.length;){const f=o[l];if("number"==typeof f){if(0!==f)break;l++;const y=o[l++],w=o[l++],x=o[l++];r.setAttribute(s,w,x,y)}else{const y=f,w=o[++l];cl(y)?r.setProperty(s,y,w):r.setAttribute(s,y,w),l++}}return l}function na(r){return 3===r||4===r||6===r}function cl(r){return 64===r.charCodeAt(0)}function Hs(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const f=s[l];"number"==typeof f?o=f:0===o||ei(r,o,f,null,-1===o||2===o?s[++l]:null)}}return r}function ei(r,s,o,l,f){let y=0,w=r.length;if(-1===s)w=-1;else for(;y<r.length;){const x=r[y++];if("number"==typeof x){if(x===s){w=-1;break}if(x>s){w=y-1;break}}}for(;y<r.length;){const x=r[y];if("number"==typeof x)break;if(x===o){if(null===l)return void(null!==f&&(r[y+1]=f));if(l===r[y+1])return void(r[y+2]=f)}y++,null!==l&&y++,null!==f&&y++}-1!==w&&(r.splice(w,0,s),y=w+1),r.splice(y++,0,o),null!==l&&r.splice(y++,0,l),null!==f&&r.splice(y++,0,f)}function ul(r){return-1!==r}function Kr(r){return 32767&r}function Dl(r,s){let o=function Bn(r){return r>>16}(r),l=s;for(;o>0;)l=l[15],o--;return l}let Tn=!0;function ss(r){const s=Tn;return Tn=r,s}let Ei=0;const zi={};function js(r,s){const o=$s(r,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(r.injectorIndex=s.length,ki(l.data,r),ki(s,null),ki(l.blueprint,null));const f=Li(r,s),y=r.injectorIndex;if(ul(f)){const w=Kr(f),x=Dl(f,s),F=x[1].data;for(let Y=0;Y<8;Y++)s[y+Y]=x[w+Y]|F[w+Y]}return s[y+8]=f,y}function ki(r,s){r.push(0,0,0,0,0,0,0,0,s)}function $s(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Li(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,f=s;for(;null!==f;){if(l=wa(f),null===l)return-1;if(o++,f=f[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function us(r,s,o){!function hl(r,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Mt)&&(l=o[Mt]),null==l&&(l=o[Mt]=Ei++);const f=255&l;s.data[r+(f>>5)]|=1<<f}(r,s,o)}function Ga(r,s,o){if(o&tn.Optional||void 0!==r)return r;Se()}function Hl(r,s,o,l){if(o&tn.Optional&&void 0===l&&(l=null),0==(o&(tn.Self|tn.Host))){const f=r[9],y=Z(void 0);try{return f?f.get(s,l,o&tn.Optional):H(s,l,o&tn.Optional)}finally{Z(y)}}return Ga(l,0,o)}function ra(r,s,o,l=tn.Default,f){if(null!==r){if(1024&s[2]){const w=function yo(r,s,o,l,f){let y=r,w=s;for(;null!==y&&null!==w&&1024&w[2]&&!(256&w[2]);){const x=Or(y,w,o,l|tn.Self,zi);if(x!==zi)return x;let F=y.parent;if(!F){const Y=w[21];if(Y){const he=Y.get(o,zi,l);if(he!==zi)return he}F=wa(w),w=w[15]}y=F}return f}(r,s,o,l,zi);if(w!==zi)return w}const y=Or(r,s,o,l,zi);if(y!==zi)return y}return Hl(s,o,l,f)}function Or(r,s,o,l,f){const y=function za(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Mt)?r[Mt]:void 0;return"number"==typeof s?s>=0?255&s:gu:s}(o);if("function"==typeof y){if(!ba(s,r,l))return l&tn.Host?Ga(f,0,l):Hl(s,o,l,f);try{const w=y(l);if(null!=w||l&tn.Optional)return w;Se()}finally{N()}}else if("number"==typeof y){let w=null,x=$s(r,s),F=-1,Y=l&tn.Host?s[16][6]:null;for((-1===x||l&tn.SkipSelf)&&(F=-1===x?Li(r,s):s[x+8],-1!==F&&Rs(l,!1)?(w=s[1],x=Kr(F),s=Dl(F,s)):x=-1);-1!==x;){const he=s[1];if(fl(y,x,he.data)){const Be=gc(x,s,o,w,l,Y);if(Be!==zi)return Be}F=s[x+8],-1!==F&&Rs(l,s[1].data[x+8]===Y)&&fl(y,x,s)?(w=he,x=Kr(F),s=Dl(F,s)):x=-1}}return f}function gc(r,s,o,l,f,y){const w=s[1],x=w.data[r+8],he=ia(x,w,o,null==l?Ko(x)&&Tn:l!=w&&0!=(3&x.type),f&tn.Host&&y===x);return null!==he?ro(s,w,he,x):zi}function ia(r,s,o,l,f){const y=r.providerIndexes,w=s.data,x=1048575&y,F=r.directiveStart,he=y>>20,ht=f?x+he:r.directiveEnd;for(let Ft=l?x:x+he;Ft<ht;Ft++){const un=w[Ft];if(Ft<F&&o===un||Ft>=F&&un.type===o)return Ft}if(f){const Ft=w[F];if(Ft&&Si(Ft)&&Ft.type===o)return F}return null}function ro(r,s,o,l){let f=r[o];const y=s.data;if(function no(r){return r instanceof Us}(f)){const w=f;w.resolving&&function Lt(r,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Je(-200,`Circular dependency in DI detected for ${r}${o}`)}(function ct(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ut(r)}(y[o]));const x=ss(w.canSeeViewProviders);w.resolving=!0;const F=w.injectImpl?Z(w.injectImpl):null;ba(r,l,tn.Default);try{f=r[o]=w.factory(void 0,y,r,l),s.firstCreatePass&&o>=l.directiveStart&&function fi(r,s,o){const{ngOnChanges:l,ngOnInit:f,ngDoCheck:y}=s.type.prototype;if(l){const w=Zi(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,w),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,w)}f&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,f),y&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,y),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,y))}(o,y[o],s)}finally{null!==F&&Z(F),ss(x),w.resolving=!1,N()}}return f}function fl(r,s,o){return!!(o[s+(r>>5)]&1<<r)}function Rs(r,s){return!(r&tn.Self||r&tn.Host&&s)}class Po{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return ra(this._tNode,this._lView,s,l,o)}}function gu(){return new Po(Fn(),rn())}function _u(r){return Ve(()=>{const s=r.prototype.constructor,o=s[Ye]||Ca(s),l=Object.prototype;let f=Object.getPrototypeOf(r.prototype).constructor;for(;f&&f!==l;){const y=f[Ye]||Ca(f);if(y&&y!==o)return y;f=Object.getPrototypeOf(f)}return y=>new y})}function Ca(r){return at(r)?()=>{const s=Ca(me(r));return s&&s()}:li(r)}function wa(r){const s=r[1],o=s.type;return 2===o?s.declTNode:1===o?r[6]:null}function Wa(r){return function mu(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const l=o.length;let f=0;for(;f<l;){const y=o[f];if(na(y))break;if(0===y)f+=2;else if("number"==typeof y)for(f++;f<l&&"string"==typeof o[f];)f++;else{if(y===s)return o[f+1];f+=2}}}return null}(Fn(),r)}const No="__parameters__";function sa(r,s,o){return Ve(()=>{const l=function pl(r){return function(...o){if(r){const l=r(...o);for(const f in l)this[f]=l[f]}}}(s);function f(...y){if(this instanceof f)return l.apply(this,y),this;const w=new f(...y);return x.annotation=w,x;function x(F,Y,he){const Be=F.hasOwnProperty(No)?F[No]:Object.defineProperty(F,No,{value:[]})[No];for(;Be.length<=he;)Be.push(null);return(Be[he]=Be[he]||[]).push(w),F}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=r,f.annotationCls=f,f})}class ti{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Jt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ks(r,s){void 0===s&&(s=r);for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?(s===r&&(s=r.slice(0,o)),ks(l,s)):s!==r&&s.push(l)}return s}function Gs(r,s){r.forEach(o=>Array.isArray(o)?Gs(o,s):s(o))}function yc(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function ml(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function S(r,s){const o=[];for(let l=0;l<r;l++)o.push(s);return o}function Qe(r,s,o){let l=fn(r,s);return l>=0?r[1|l]=o:(l=~l,function B(r,s,o,l){let f=r.length;if(f==s)r.push(o,l);else if(1===f)r.push(l,r[0]),r[0]=o;else{for(f--,r.push(r[f-1],r[f]);f>s;)r[f]=r[f-2],f--;r[s]=o,r[s+1]=l}}(r,l,s,o)),l}function zt(r,s){const o=fn(r,s);if(o>=0)return r[1|o]}function fn(r,s){return function Rn(r,s,o){let l=0,f=r.length>>o;for(;f!==l;){const y=l+(f-l>>1),w=r[y<<o];if(s===w)return y<<o;w>s?f=y:l=y+1}return~(f<<o)}(r,s,1)}const oa={},Uc="__NG_DI_FLAG__",Hc="ngTempTokenPath",jl=/\n/gm,gl="__source";let qa;function aa(r){const s=qa;return qa=r,s}function bu(r,s=tn.Default){if(void 0===qa)throw new Je(-203,!1);return null===qa?H(r,void 0,s):qa.get(r,s&tn.Optional?null:void 0,s)}function Ji(r,s=tn.Default){return(function be(){return Jn}()||bu)(me(r),s)}function V(r,s=tn.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),Ji(r,s)}function W(r){const s=[];for(let o=0;o<r.length;o++){const l=me(r[o]);if(Array.isArray(l)){if(0===l.length)throw new Je(900,!1);let f,y=tn.Default;for(let w=0;w<l.length;w++){const x=l[w],F=Ge(x);"number"==typeof F?-1===F?f=x.token:y|=F:f=x}s.push(Ji(f,y))}else s.push(Ji(l))}return s}function re(r,s){return r[Uc]=s,r.prototype[Uc]=s,r}function Ge(r){return r[Uc]}const In=re(sa("Optional"),8),tr=re(sa("SkipSelf"),4);let Gc,Ma;function zc(r){Gc=r}function Qa(r){return function Gl(){if(void 0===Ma&&(Ma=null,q.trustedTypes))try{Ma=q.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Ma}()?.createHTML(r)||r}class vo{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class nd extends vo{getTypeName(){return"HTML"}}class wu extends vo{getTypeName(){return"Style"}}class Oi extends vo{getTypeName(){return"Script"}}class Wl extends vo{getTypeName(){return"URL"}}class Kl extends vo{getTypeName(){return"ResourceURL"}}function Uo(r){return r instanceof vo?r.changingThisBreaksApplicationSecurity:r}function so(r,s){const o=function rd(r){return r instanceof vo&&r.getTypeName()||null}(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function Yh(r){return new nd(r)}function id(r){return new wu(r)}function Zh(r){return new Oi(r)}function xa(r){return new Wl(r)}function Wc(r){return new Kl(r)}class sd{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Qa(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch{return null}}}class Qh{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Qa(s),o;const l=this.inertDocument.createElement("body");return l.innerHTML=Qa(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const o=s.attributes;for(let f=o.length-1;0<f;f--){const w=o.item(f).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&s.removeAttribute(w)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Ja=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Du(r){return(r=String(r)).match(Ja)?r:"unsafe:"+r}function Ra(r){const s={};for(const o of r.split(","))s[o]=!0;return s}function Yl(...r){const s={};for(const o of r)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const nh=Ra("area,br,col,hr,img,wbr"),Iu=Ra("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tu=Ra("rp,rt"),ad=Yl(nh,Yl(Iu,Ra("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yl(Tu,Ra("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yl(Tu,Iu)),Cc=Ra("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xh=Yl(Cc,Ra("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ra("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ld=Ra("script,style,template");class Au{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!ad.hasOwnProperty(o))return this.sanitizedSomething=!0,!ld.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let f=0;f<l.length;f++){const y=l.item(f),w=y.name,x=w.toLowerCase();if(!Xh.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let F=y.value;Cc[x]&&(F=Du(F)),this.buf.push(" ",w,'="',ih(F),'"')}return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();ad.hasOwnProperty(o)&&!nh.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(ih(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const wc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kc=/([^\#-~ |!])/g;function ih(r){return r.replace(/&/g,"&amp;").replace(wc,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Kc,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ka;function Ho(r,s){let o=null;try{ka=ka||function ql(r){const s=new Qh(r);return function Jf(){try{return!!(new window.DOMParser).parseFromString(Qa(""),"text/html")}catch{return!1}}()?new sd(s):s}(r);let l=s?String(s):"";o=ka.getInertBodyElement(l);let f=5,y=l;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,l=y,y=o.innerHTML,o=ka.getInertBodyElement(l)}while(l!==y);return Qa((new Au).sanitizeChildren(Mu(o)||o))}finally{if(o){const l=Mu(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Mu(r){return"content"in r&&function Wi(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Vi=(()=>((Vi=Vi||{})[Vi.NONE=0]="NONE",Vi[Vi.HTML=1]="HTML",Vi[Vi.STYLE=2]="STYLE",Vi[Vi.SCRIPT=3]="SCRIPT",Vi[Vi.URL=4]="URL",Vi[Vi.RESOURCE_URL=5]="RESOURCE_URL",Vi))();function sh(r){const s=function Rl(){const r=rn();return r&&r[12]}();return s?s.sanitize(Vi.URL,r)||"":so(r,"URL")?Uo(r):Du(ut(r))}const Ic=new ti("ENVIRONMENT_INITIALIZER"),fd=new ti("INJECTOR",-1),Ru=new ti("INJECTOR_DEF_TYPES");class Tc{get(s,o=oa){if(o===oa){const l=new Error(`NullInjectorError: No provider for ${xe(s)}!`);throw l.name="NullInjectorError",l}return o}}function pd(...r){return{\u0275providers:Es(0,r)}}function Es(r,...s){const o=[],l=new Set;let f;return Gs(s,y=>{const w=y;el(w,o,[],l)&&(f||(f=[]),f.push(w))}),void 0!==f&&Sc(f,o),o}function Sc(r,s){for(let o=0;o<r.length;o++){const{providers:f}=r[o];Gs(f,y=>{s.push(y)})}}function el(r,s,o,l){if(!(r=me(r)))return!1;let f=null,y=Kn(r);const w=!y&&dt(r);if(y||w){if(w&&!w.standalone)return!1;f=r}else{const F=r.ngModule;if(y=Kn(F),!y)return!1;f=F}const x=l.has(f);if(w){if(x)return!1;if(l.add(f),w.dependencies){const F="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const Y of F)el(Y,s,o,l)}}else{if(!y)return!1;{if(null!=y.imports&&!x){let Y;l.add(f);try{Gs(y.imports,he=>{el(he,s,o,l)&&(Y||(Y=[]),Y.push(he))})}finally{}void 0!==Y&&Sc(Y,s)}if(!x){const Y=li(f)||(()=>new f);s.push({provide:f,useFactory:Y,deps:Nt},{provide:Ru,useValue:f,multi:!0},{provide:Ic,useValue:()=>Ji(f),multi:!0})}const F=y.providers;null==F||x||Gs(F,he=>{s.push(he)})}}return f!==r&&void 0!==r.providers}const jo=se({provide:String,useValue:se});function kl(r){return null!==r&&"object"==typeof r&&jo in r}function $o(r){return"function"==typeof r}const Yc=new ti("Set Injector scope."),Mc={},Ql={};let ku;function Ou(){return void 0===ku&&(ku=new Tc),ku}class Go{}class md extends Go{constructor(s,o,l,f){super(),this.parent=o,this.source=l,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ao(s,w=>this.processProvider(w)),this.records.set(fd,Ui(void 0,this)),f.has("environment")&&this.records.set(Go,Ui(void 0,this));const y=this.records.get(Yc);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(Ru.multi,Nt,tn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=aa(this),l=Z(void 0);try{return s()}finally{aa(o),Z(l)}}get(s,o=oa,l=tn.Default){this.assertNotDestroyed();const f=aa(this),y=Z(void 0);try{if(!(l&tn.SkipSelf)){let x=this.records.get(s);if(void 0===x){const F=function yd(r){return"function"==typeof r||"object"==typeof r&&r instanceof ti}(s)&&Cn(s);x=F&&this.injectableDefInScope(F)?Ui(Ol(s),Mc):null,this.records.set(s,x)}if(null!=x)return this.hydrate(s,x)}return(l&tn.Self?Ou():this.parent).get(s,o=l&tn.Optional&&o===oa?null:o)}catch(w){if("NullInjectorError"===w.name){if((w[Hc]=w[Hc]||[]).unshift(xe(s)),f)throw w;return function Ct(r,s,o,l){const f=r[Hc];throw s[gl]&&f.unshift(s[gl]),r.message=function Vt(r,s,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let f=xe(s);if(Array.isArray(s))f=s.map(xe).join(" -> ");else if("object"==typeof s){let y=[];for(let w in s)if(s.hasOwnProperty(w)){let x=s[w];y.push(w+":"+("string"==typeof x?JSON.stringify(x):xe(x)))}f=`{${y.join(", ")}}`}return`${o}${l?"("+l+")":""}[${f}]: ${r.replace(jl,"\n  ")}`}("\n"+r.message,f,o,l),r.ngTokenPath=f,r[Hc]=null,r}(w,s,"R3InjectorError",this.source)}throw w}finally{Z(y),aa(f)}}resolveInjectorInitializers(){const s=aa(this),o=Z(void 0);try{const l=this.get(Ic.multi,Nt,tn.Self);for(const f of l)f()}finally{aa(s),Z(o)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(xe(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(s){let o=$o(s=me(s))?s:me(s&&s.provide);const l=function Zc(r){return kl(r)?Ui(void 0,r.useValue):Ui(Qc(r),Mc)}(s);if($o(s)||!0!==s.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=Ui(void 0,Mc,!0),f.factory=()=>W(f.multi),this.records.set(o,f)),o=s,f.multi.push(s)}this.records.set(o,l)}hydrate(s,o){return o.value===Mc&&(o.value=Ql,o.value=o.factory()),"object"==typeof o.value&&o.value&&function _d(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=me(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Ol(r){const s=Cn(r),o=null!==s?s.factory:li(r);if(null!==o)return o;if(r instanceof ti)throw new Je(204,!1);if(r instanceof Function)return function bo(r){const s=r.length;if(s>0)throw S(s,"?"),new Je(204,!1);const o=function Ln(r){const s=r&&(r[zn]||r[Hn]);if(s){const o=function Un(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Je(204,!1)}function Qc(r,s,o){let l;if($o(r)){const f=me(r);return li(f)||Ol(f)}if(kl(r))l=()=>me(r.useValue);else if(function Zl(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...W(r.deps||[]));else if(function oo(r){return!(!r||!r.useExisting)}(r))l=()=>Ji(me(r.useExisting));else{const f=me(r&&(r.useClass||r.provide));if(!function gd(r){return!!r.deps}(r))return li(f)||Ol(f);l=()=>new f(...W(r.deps))}return l}function Ui(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function Pl(r){return!!r.\u0275providers}function ao(r,s){for(const o of r)Array.isArray(o)?ao(o,s):Pl(o)?ao(o.\u0275providers,s):s(o)}class lh{}class Ks{resolveComponentFactory(s){throw function bd(r){const s=Error(`No component factory found for ${xe(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let Nl=(()=>{class r{}return r.NULL=new Ks,r})();function ac(){return E(Fn(),rn())}function E(r,s){return new p(ci(r,s))}let p=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=ac,r})();function g(r){return r instanceof p?r.nativeElement:r}class Q{}let fe=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function We(){const r=rn(),o=Dr(Fn().index,r);return(di(o)?o:r)[11]}(),r})(),yt=(()=>{class r{}return r.\u0275prov=Jt({token:r,providedIn:"root",factory:()=>null}),r})();class bn{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Gt=new bn("14.2.9"),_t={};function ni(r){return r.ngOriginalError}class hh{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&ni(s);for(;o&&ni(o);)o=ni(o);return o||null}}const Nu=new Map;let em=0;const Eo="__ngContext__";function Ci(r,s){di(s)?(r[Eo]=s[20],function tl(r){Nu.set(r[20],r)}(s)):r[Eo]=s}function qi(r){return r instanceof Function?r():r}var lc=(()=>((lc=lc||{})[lc.Important=1]="Important",lc[lc.DashCase=2]="DashCase",lc))();function es(r,s){return undefined(r,s)}function kc(r){const s=r[3];return ts(s)?s[3]:s}function tu(r){return h(r[13])}function Lu(r){return h(r[4])}function h(r){for(;null!==r&&!ts(r);)r=r[4];return r}function u(r,s,o,l,f){if(null!=l){let y,w=!1;ts(l)?y=l:di(l)&&(w=!0,l=l[0]);const x=Jr(l);0===r&&null!==o?null==f?ua(s,o,x):Td(s,o,x,f||null,!0):1===r&&null!==o?Td(s,o,x,f||null,!0):2===r?function rv(r,s,o){const l=dp(r,s);l&&function ls(r,s,o,l){r.removeChild(s,o,l)}(r,l,s,o)}(s,x,w):3===r&&s.destroyNode(x),null!=y&&function Nb(r,s,o,l,f){const y=o[7];y!==Jr(o)&&u(s,r,l,y,f);for(let x=10;x<o.length;x++){const F=o[x];pp(F[1],F,r,s,l,y)}}(s,r,y,o,f)}}function z(r,s,o){return r.createElement(s,o)}function Pn(r,s){const o=r[9],l=o.indexOf(s),f=s[3];512&s[2]&&(s[2]&=-513,zr(f,-1)),o.splice(l,1)}function Zn(r,s){if(r.length<=10)return;const o=10+s,l=r[o];if(l){const f=l[17];null!==f&&f!==r&&Pn(f,l),s>0&&(r[o-1][4]=l[4]);const y=ml(r,10+s);!function ce(r,s){pp(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const w=y[19];null!==w&&w.detachView(y[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Zr(r,s){if(!(128&s[2])){const o=s[11];o.destroyNode&&pp(r,s,o,3,null,null),function jt(r){let s=r[13];if(!s)return as(r[1],r);for(;s;){let o=null;if(di(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==r;)di(s)&&as(s[1],s),s=s[3];null===s&&(s=r),di(s)&&as(s[1],s),o=s&&s[4]}s=o}}(s)}}function as(r,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function Oc(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const f=s[o[l]];if(!(f instanceof Us)){const y=o[l+1];if(Array.isArray(y))for(let w=0;w<y.length;w+=2){const x=f[y[w]],F=y[w+1];try{F.call(x)}finally{}}else try{y.call(f)}finally{}}}}(r,s),function Jl(r,s){const o=r.cleanup,l=s[7];let f=-1;if(null!==o)for(let y=0;y<o.length-1;y+=2)if("string"==typeof o[y]){const w=o[y+1],x="function"==typeof w?w(s):Jr(s[w]),F=l[f=o[y+2]],Y=o[y+3];"boolean"==typeof Y?x.removeEventListener(o[y],F,Y):Y>=0?l[f=Y]():l[f=-Y].unsubscribe(),y+=2}else{const w=l[f=o[y+1]];o[y].call(w)}if(null!==l){for(let y=f+1;y<l.length;y++)(0,l[y])();s[7]=null}}(r,s),1===s[1].type&&s[11].destroy();const o=s[17];if(null!==o&&ts(s[3])){o!==s[3]&&Pn(o,s);const l=s[19];null!==l&&l.detachView(r)}!function nm(r){Nu.delete(r[20])}(s)}}function Bu(r,s,o){return function up(r,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const f=r.data[l.directiveStart].encapsulation;if(f===_e.None||f===_e.Emulated)return null}return ci(l,o)}(r,s.parent,o)}function Td(r,s,o,l,f){r.insertBefore(s,o,l,f)}function ua(r,s,o){r.appendChild(s,o)}function xg(r,s,o,l,f){null!==l?Td(r,s,o,l,f):ua(r,s,o)}function dp(r,s){return r.parentNode(s)}function tv(r,s,o){return hp(r,s,o)}let hp=function lf(r,s,o){return 40&r.type?ci(r,o):null};function fp(r,s,o,l){const f=Bu(r,l,s),y=s[11],x=tv(l.parent||s[6],l,s);if(null!=f)if(Array.isArray(o))for(let F=0;F<o.length;F++)xg(y,f,o[F],x,!1);else xg(y,f,o,x,!1)}function wo(r,s){if(null!==s){const o=s.type;if(3&o)return ci(s,r);if(4&o)return kg(-1,r[s.index]);if(8&o){const l=s.child;if(null!==l)return wo(r,l);{const f=r[s.index];return ts(f)?kg(-1,f):Jr(f)}}if(32&o)return es(s,r)()||Jr(r[s.index]);{const l=nv(r,s);return null!==l?Array.isArray(l)?l[0]:wo(kc(r[16]),l):wo(r,s.next)}}return null}function nv(r,s){return null!==s?r[16][6].projection[s.projection]:null}function kg(r,s){const o=10+r+1;if(o<s.length){const l=s[o],f=l[1].firstChild;if(null!==f)return wo(l,f)}return s[7]}function am(r,s,o,l,f,y,w){for(;null!=o;){const x=l[o.index],F=o.type;if(w&&0===s&&(x&&Ci(Jr(x),l),o.flags|=4),64!=(64&o.flags))if(8&F)am(r,s,o.child,l,f,y,!1),u(s,r,f,x,y);else if(32&F){const Y=es(o,l);let he;for(;he=Y();)u(s,r,f,he,y);u(s,r,f,x,y)}else 16&F?iv(r,s,l,o,f,y):u(s,r,f,x,y);o=w?o.projectionNext:o.next}}function pp(r,s,o,l,f,y){am(o,l,r.firstChild,s,f,y,!1)}function iv(r,s,o,l,f,y){const w=o[16],F=w[6].projection[l.projection];if(Array.isArray(F))for(let Y=0;Y<F.length;Y++)u(s,r,f,F[Y],y);else am(r,s,F,w[3],f,y,!0)}function mh(r,s,o){r.setAttribute(s,"style",o)}function Og(r,s,o){""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o)}function Pg(r,s,o){let l=r.length;for(;;){const f=r.indexOf(s,o);if(-1===f)return f;if(0===f||r.charCodeAt(f-1)<=32){const y=s.length;if(f+y===l||r.charCodeAt(f+y)<=32)return f}o=f+1}}const nu="ng-template";function sv(r,s,o){let l=0;for(;l<r.length;){let f=r[l++];if(o&&"class"===f){if(f=r[l],-1!==Pg(f.toLowerCase(),s,0))return!0}else if(1===f){for(;l<r.length&&"string"==typeof(f=r[l++]);)if(f.toLowerCase()===s)return!0;return!1}}return!1}function gh(r){return 4===r.type&&r.value!==nu}function ov(r,s,o){return s===(4!==r.type||o?r.value:nu)}function Ng(r,s,o){let l=4;const f=r.attrs||[],y=function lm(r){for(let s=0;s<r.length;s++)if(na(r[s]))return s;return r.length}(f);let w=!1;for(let x=0;x<s.length;x++){const F=s[x];if("number"!=typeof F){if(!w)if(4&l){if(l=2|1&l,""!==F&&!ov(r,F,o)||""===F&&1===s.length){if(ec(l))return!1;w=!0}}else{const Y=8&l?F:s[++x];if(8&l&&null!==r.attrs){if(!sv(r.attrs,Y,o)){if(ec(l))return!1;w=!0}continue}const Be=Fg(8&l?"class":F,f,gh(r),o);if(-1===Be){if(ec(l))return!1;w=!0;continue}if(""!==Y){let ht;ht=Be>y?"":f[Be+1].toLowerCase();const Ft=8&l?ht:null;if(Ft&&-1!==Pg(Ft,Y,0)||2&l&&Y!==ht){if(ec(l))return!1;w=!0}}}}else{if(!w&&!ec(l)&&!ec(F))return!1;if(w&&ec(F))continue;w=!1,l=F|1&l}}return ec(l)||w}function ec(r){return 0==(1&r)}function Fg(r,s,o,l){if(null===s)return-1;let f=0;if(l||!o){let y=!1;for(;f<s.length;){const w=s[f];if(w===r)return f;if(3===w||6===w)y=!0;else{if(1===w||2===w){let x=s[++f];for(;"string"==typeof x;)x=s[++f];continue}if(4===w)break;if(0===w){f+=4;continue}}f+=y?1:2}return-1}return function mp(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,r)}function _h(r,s,o=!1){for(let l=0;l<s.length;l++)if(Ng(r,s[l],o))return!0;return!1}function av(r,s){e:for(let o=0;o<s.length;o++){const l=s[o];if(r.length===l.length){for(let f=0;f<r.length;f++)if(r[f]!==l[f])continue e;return!0}}return!1}function cm(r,s){return r?":not("+s.trim()+")":s}function Lg(r){let s=r[0],o=1,l=2,f="",y=!1;for(;o<r.length;){let w=r[o];if("string"==typeof w)if(2&l){const x=r[++o];f+="["+w+(x.length>0?'="'+x+'"':"")+"]"}else 8&l?f+="."+w:4&l&&(f+=" "+w);else""!==f&&!ec(w)&&(s+=cm(y,f),f=""),l=w,y=y||!ec(l);o++}return""!==f&&(s+=cm(y,f)),s}const Fr={};function Bg(r){Vg(ir(),rn(),tt()+r,!1)}function Vg(r,s,o,l){if(!l)if(3==(3&s[2])){const y=r.preOrderCheckHooks;null!==y&&vi(s,y,o)}else{const y=r.preOrderHooks;null!==y&&ta(s,y,0,o)}xt(o)}function Hg(r,s=null,o=null,l){const f=bh(r,s,o,l);return f.resolveInjectorInitializers(),f}function bh(r,s=null,o=null,l,f=new Set){const y=[o||Nt,pd(r)];return l=l||("object"==typeof r?void 0:xe(r)),new md(y,s||Ou(),l||null,f)}let Ad=(()=>{class r{static create(o,l){if(Array.isArray(o))return Hg({name:""},l,o,"");{const f=o.name??"";return Hg({name:f},o.parent,o.providers,f)}}}return r.THROW_IF_NOT_FOUND=oa,r.NULL=new Tc,r.\u0275prov=Jt({token:r,providedIn:"any",factory:()=>Ji(fd)}),r.__NG_ELEMENT_ID__=-1,r})();function Dh(r,s=tn.Default){const o=rn();return null===o?Ji(r,s):ra(Fn(),o,me(r),s)}function ff(){throw new Error("invalid")}function hm(r,s){return r<<17|s<<2}function _r(r){return r>>17&32767}function Ih(r){return 2|r}function tc(r){return(131068&r)>>2}function pf(r,s){return-131069&r|s<<2}function pm(r){return 1|r}function r_(r,s){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const f=o[l],y=o[l+1];if(-1!==y){const w=r.data[y];va(f),w.contentQueries(2,s[y],y)}}}function vm(r,s,o,l,f,y,w,x,F,Y,he){const Be=s.blueprint.slice();return Be[0]=f,Be[2]=76|l,(null!==he||r&&1024&r[2])&&(Be[2]|=1024),to(Be),Be[3]=Be[15]=r,Be[8]=o,Be[10]=w||r&&r[10],Be[11]=x||r&&r[11],Be[12]=F||r&&r[12]||null,Be[9]=Y||r&&r[9]||null,Be[6]=y,Be[20]=function tm(){return em++}(),Be[21]=he,Be[16]=2==s.type?r[16]:Be,Be}function yf(r,s,o,l,f){let y=r.data[s];if(null===y)y=function i_(r,s,o,l,f){const y=K(),w=ie(),F=r.data[s]=function Xb(r,s,o,l,f,y){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?y:y&&y.parent,o,s,l,f);return null===r.firstChild&&(r.firstChild=F),null!==y&&(w?null==y.child&&null!==F.parent&&(y.child=F):null===y.next&&(y.next=F)),F}(r,s,o,l,f),function Vl(){return cr.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=o,y.value=l,y.attrs=f;const w=function j(){const r=cr.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();y.injectorIndex=null===w?-1:w.injectorIndex}return L(y,!0),y}function vf(r,s,o,l){if(0===o)return-1;const f=s.length;for(let y=0;y<o;y++)s.push(l),r.blueprint.push(l),r.data.push(null);return f}function s_(r,s,o){ll(s);try{const l=r.viewQuery;null!==l&&y_(1,l,o);const f=r.template;null!==f&&kv(r,s,f,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&r_(r,s),r.staticViewQueries&&y_(2,r.viewQuery,o);const y=r.components;null!==y&&function Rv(r,s){for(let o=0;o<s.length;o++)nE(r,s[o])}(s,y)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{s[2]&=-5,X()}}function bm(r,s,o,l){const f=s[2];if(128!=(128&f)){ll(s);try{to(s),function Va(r){return cr.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&kv(r,s,o,2,l);const w=3==(3&f);if(w){const Y=r.preOrderCheckHooks;null!==Y&&vi(s,Y,null)}else{const Y=r.preOrderHooks;null!==Y&&ta(s,Y,0,null),xs(s,0)}if(function tE(r){for(let s=tu(r);null!==s;s=Lu(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const f=o[l],y=f[3];0==(512&f[2])&&zr(y,1),f[2]|=512}}}(s),function Mh(r){for(let s=tu(r);null!==s;s=Lu(s))for(let o=10;o<s.length;o++){const l=s[o],f=l[1];Ss(l)&&bm(f,l,f.template,l[8])}}(s),null!==r.contentQueries&&r_(r,s),w){const Y=r.contentCheckHooks;null!==Y&&vi(s,Y)}else{const Y=r.contentHooks;null!==Y&&ta(s,Y,1),xs(s,1)}!function iu(r,s){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const f=o[l];if(f<0)xt(~f);else{const y=f,w=o[++l],x=o[++l];al(w,y),x(2,s[y])}}}finally{xt(-1)}}(r,s);const x=r.components;null!==x&&function ym(r,s){for(let o=0;o<s.length;o++)Hv(r,s[o])}(s,x);const F=r.viewQuery;if(null!==F&&y_(2,F,l),w){const Y=r.viewCheckHooks;null!==Y&&vi(s,Y)}else{const Y=r.viewHooks;null!==Y&&ta(s,Y,2),xs(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,zr(s[3],-1))}finally{X()}}}function kv(r,s,o,l,f){const y=tt(),w=2&l;try{xt(-1),w&&s.length>22&&Vg(r,s,22,!1),o(l,f)}finally{xt(y)}}function Ov(r,s,o){if(Wo(s)){const f=s.directiveEnd;for(let y=s.directiveStart;y<f;y++){const w=r.data[y];w.contentQueries&&w.contentQueries(1,o[y],y)}}}function o_(r,s,o){!xi()||(function Fv(r,s,o,l){const f=o.directiveStart,y=o.directiveEnd;r.firstCreatePass||js(o,s),Ci(l,s);const w=o.initialInputs;for(let x=f;x<y;x++){const F=r.data[x],Y=Si(F);Y&&Bv(s,o,F);const he=ro(s,r,x,o);Ci(he,s),null!==w&&Vv(0,x-f,he,F,0,w),Y&&(Dr(o.index,s)[8]=he)}}(r,s,o,ci(o,s)),128==(128&o.flags)&&function Em(r,s,o){const l=o.directiveStart,f=o.directiveEnd,y=o.index,w=function Jo(){return cr.lFrame.currentDirectiveIndex}();try{xt(y);for(let x=l;x<f;x++){const F=r.data[x],Y=s[x];ya(x),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&xd(F,Y)}}finally{xt(-1),ya(w)}}(r,s,o))}function a_(r,s,o=ci){const l=s.localNames;if(null!==l){let f=s.index+1;for(let y=0;y<l.length;y+=2){const w=l[y+1],x=-1===w?o(s,r):r[w];r[f++]=x}}}function Pv(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=l_(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function l_(r,s,o,l,f,y,w,x,F,Y){const he=22+l,Be=he+f,ht=function Zb(r,s){const o=[];for(let l=0;l<s;l++)o.push(l<r?null:Fr);return o}(he,Be),Ft="function"==typeof Y?Y():Y;return ht[1]={type:r,blueprint:ht,template:o,queries:null,viewQuery:x,declTNode:s,data:ht.slice().fill(null,he),bindingStartIndex:he,expandoStartIndex:Be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:F,consts:Ft,incompleteFirstPass:!1}}function c_(r,s,o,l){const f=Dm(s);null===o?f.push(l):(f.push(o),r.firstCreatePass&&vp(r).push(l,f.length-1))}function u_(r,s,o){for(let l in r)if(r.hasOwnProperty(l)){const f=r[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,f):o[l]=[s,f]}return o}function d_(r,s){const l=s.directiveEnd,f=r.data,y=s.attrs,w=[];let x=null,F=null;for(let Y=s.directiveStart;Y<l;Y++){const he=f[Y],Be=he.inputs,ht=null===y||gh(s)?null:Uv(Be,y);w.push(ht),x=u_(Be,Y,x),F=u_(he.outputs,Y,F)}null!==x&&(x.hasOwnProperty("class")&&(s.flags|=16),x.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=w,s.inputs=x,s.outputs=F}function Cl(r,s,o,l,f,y,w,x){const F=ci(s,o);let he,Y=s.inputs;!x&&null!=Y&&(he=Y[l])?(xh(r,o,he,l,f),Ko(s)&&zo(o,s.index)):3&s.type&&(l=function Jb(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),f=null!=w?w(f,s.value||"",l):f,y.setProperty(F,l,f))}function zo(r,s){const o=Dr(s,r);16&o[2]||(o[2]|=32)}function su(r,s,o,l){let f=!1;if(xi()){const y=function Ah(r,s,o){const l=r.directiveRegistry;let f=null;if(l)for(let y=0;y<l.length;y++){const w=l[y];_h(o,w.selectors,!1)&&(f||(f=[]),us(js(o,s),r,w.type),Si(w)?(Rd(r,o),f.unshift(w)):f.push(w))}return f}(r,s,o),w=null===l?null:{"":-1};if(null!==y){f=!0,Cm(o,r.data.length,y.length);for(let he=0;he<y.length;he++){const Be=y[he];Be.providersResolver&&Be.providersResolver(Be)}let x=!1,F=!1,Y=vf(r,s,y.length,null);for(let he=0;he<y.length;he++){const Be=y[he];o.mergedAttrs=Hs(o.mergedAttrs,Be.hostAttrs),wm(r,o,s,Y,Be),Lv(Y,Be,w),null!==Be.contentQueries&&(o.flags|=8),(null!==Be.hostBindings||null!==Be.hostAttrs||0!==Be.hostVars)&&(o.flags|=128);const ht=Be.type.prototype;!x&&(ht.ngOnChanges||ht.ngOnInit||ht.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),x=!0),!F&&(ht.ngOnChanges||ht.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),F=!0),Y++}d_(r,o)}w&&function yp(r,s,o){if(s){const l=r.localNames=[];for(let f=0;f<s.length;f+=2){const y=o[s[f+1]];if(null==y)throw new Je(-301,!1);l.push(s[f],y)}}}(o,l,w)}return o.mergedAttrs=Hs(o.mergedAttrs,o.attrs),f}function p_(r,s,o,l,f,y){const w=y.hostBindings;if(w){let x=r.hostBindingOpCodes;null===x&&(x=r.hostBindingOpCodes=[]);const F=~s.index;(function eE(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(x)!=F&&x.push(F),x.push(l,f,w)}}function xd(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Rd(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function Lv(r,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=r;Si(s)&&(o[""]=r)}}function Cm(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}function wm(r,s,o,l,f){r.data[l]=f;const y=f.factory||(f.factory=li(f.type)),w=new Us(y,Si(f),Dh);r.blueprint[l]=w,o[l]=w,p_(r,s,0,l,vf(r,o,f.hostVars,Fr),f)}function Bv(r,s,o){const l=ci(s,r),f=Pv(o),y=r[10],w=kd(r,vm(r,f,null,o.onPush?32:16,l,s,y,y.createRenderer(l,o),null,null,null));r[s.index]=w}function Pc(r,s,o,l,f,y){const w=ci(r,s);!function m_(r,s,o,l,f,y,w){if(null==y)r.removeAttribute(s,f,o);else{const x=null==w?ut(y):w(y,l||"",f);r.setAttribute(s,f,x,o)}}(s[11],w,y,r.value,o,l,f)}function Vv(r,s,o,l,f,y){const w=y[s];if(null!==w){const x=l.setInput;for(let F=0;F<w.length;){const Y=w[F++],he=w[F++],Be=w[F++];null!==x?l.setInput(o,Be,Y,he):o[he]=Be}}}function Uv(r,s){let o=null,l=0;for(;l<s.length;){const f=s[l];if(0!==f)if(5!==f){if("number"==typeof f)break;r.hasOwnProperty(f)&&(null===o&&(o=[]),o.push(f,r[f],s[l+1])),l+=2}else l+=2;else l+=4}return o}function bf(r,s,o,l){return new Array(r,!0,!1,s,null,0,l,o,null,null)}function Hv(r,s){const o=Dr(s,r);if(Ss(o)){const l=o[1];48&o[2]?bm(l,o,l.template,o[8]):o[5]>0&&__(o)}}function __(r){for(let l=tu(r);null!==l;l=Lu(l))for(let f=10;f<l.length;f++){const y=l[f];if(Ss(y))if(512&y[2]){const w=y[1];bm(w,y,w.template,y[8])}else y[5]>0&&__(y)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const f=Dr(o[l],r);Ss(f)&&f[5]>0&&__(f)}}function nE(r,s){const o=Dr(s,r),l=o[1];(function rE(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])})(l,o),s_(l,o,o[8])}function kd(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function ju(r){for(;r;){r[2]|=32;const s=kc(r);if(Fa(r)&&!s)return r;r=s}return null}function ou(r,s,o,l=!0){const f=s[10];f.begin&&f.begin();try{bm(r,s,r.template,o)}catch(w){throw l&&v_(s,w),w}finally{f.end&&f.end()}}function y_(r,s,o){va(0),s(r,o)}function Dm(r){return r[7]||(r[7]=[])}function vp(r){return r.cleanup||(r.cleanup=[])}function jv(r,s,o){return(null===r||Si(r))&&(o=function Yo(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(o[s.index])),o[11]}function v_(r,s){const o=r[9],l=o?o.get(hh,null):null;l&&l.handleError(s)}function xh(r,s,o,l,f){for(let y=0;y<o.length;){const w=o[y++],x=o[y++],F=s[w],Y=r.data[w];null!==Y.setInput?Y.setInput(F,f,l,x):F[x]=f}}function uc(r,s,o){const l=is(s,r);!function D(r,s,o){r.setValue(s,o)}(r[11],l,o)}function Od(r,s,o){let l=o?r.styles:null,f=o?r.classes:null,y=0;if(null!==s)for(let w=0;w<s.length;w++){const x=s[w];"number"==typeof x?y=x:1==y?f=Oe(f,x):2==y&&(l=Oe(l,x+": "+s[++w]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=f:r.classesWithoutHost=f}function bp(r,s,o,l,f=!1){for(;null!==o;){const y=s[o.index];if(null!==y&&l.push(Jr(y)),ts(y))for(let x=10;x<y.length;x++){const F=y[x],Y=F[1].firstChild;null!==Y&&bp(F[1],F,Y,l)}const w=o.type;if(8&w)bp(r,s,o.child,l);else if(32&w){const x=es(o,s);let F;for(;F=x();)l.push(F)}else if(16&w){const x=nv(s,o);if(Array.isArray(x))l.push(...x);else{const F=kc(s[16]);bp(F[1],F,x,l,!0)}}o=f?o.projectionNext:o.next}return l}class Ef{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return bp(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ts(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(Zn(s,l),ml(o,l))}this._attachedToViewContainer=!1}Zr(this._lView[1],this._lView)}onDestroy(s){c_(this._lView[1],this._lView,null,s)}markForCheck(){ju(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ou(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nt(r,s){pp(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=s}}class Ll extends Ef{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;ou(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class Im extends Nl{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=dt(s);return new dc(o,this.ngModule)}}function Ep(r){const s=[];for(let o in r)r.hasOwnProperty(o)&&s.push({propName:r[o],templateName:o});return s}class $v{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){const f=this.injector.get(s,_t,l);return f!==_t||o===_t?f:this.parentInjector.get(s,o,l)}}class dc extends lh{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function lv(r){return r.map(Lg).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Ep(this.componentDef.inputs)}get outputs(){return Ep(this.componentDef.outputs)}create(s,o,l,f){let y=(f=f||this.ngModule)instanceof Go?f:f?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const w=y?new $v(s,y):s,x=w.get(Q,null);if(null===x)throw new Je(407,!1);const F=w.get(yt,null),Y=x.createRenderer(null,this.componentDef),he=this.componentDef.selectors[0][0]||"div",Be=l?function Qb(r,s,o){return r.selectRootElement(s,o===_e.ShadowDom)}(Y,l,this.componentDef.encapsulation):z(x.createRenderer(null,this.componentDef),he,function Tm(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(he)),ht=this.componentDef.onPush?288:272,Ft=l_(0,null,null,1,0,null,null,null,null,null),un=vm(null,Ft,null,ht,null,null,x,Y,F,w,null);let wn,Nn;ll(un);try{const Qn=function wf(r,s,o,l,f,y){const w=o[1];o[22]=r;const F=yf(w,22,2,"#host",null),Y=F.mergedAttrs=s.hostAttrs;null!==Y&&(Od(F,Y,!0),null!==r&&(nn(f,r,Y),null!==F.classes&&Og(f,r,F.classes),null!==F.styles&&mh(f,r,F.styles)));const he=l.createRenderer(r,s),Be=vm(o,Pv(s),null,s.onPush?32:16,o[22],F,l,he,y||null,null,null);return w.firstCreatePass&&(us(js(F,o),w,s.type),Rd(w,F),Cm(F,o.length,1)),kd(o,Be),o[22]=Be}(Be,this.componentDef,un,x,Y);if(Be)if(l)nn(Y,Be,["ng-version",Gt.full]);else{const{attrs:vr,classes:pn}=function cv(r){const s=[],o=[];let l=1,f=2;for(;l<r.length;){let y=r[l];if("string"==typeof y)2===f?""!==y&&s.push(y,r[++l]):8===f&&o.push(y);else{if(!ec(f))break;f=y}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);vr&&nn(Y,Be,vr),pn&&pn.length>0&&Og(Y,Be,pn.join(" "))}if(Nn=ui(Ft,22),void 0!==o){const vr=Nn.projection=[];for(let pn=0;pn<this.ngContentSelectors.length;pn++){const Tr=o[pn];vr.push(null!=Tr?Array.from(Tr):null)}}wn=function Gv(r,s,o,l){const f=o[1],y=function f_(r,s,o){const l=Fn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),wm(r,l,s,vf(r,s,1,null),o),d_(r,l));const f=ro(s,r,l.directiveStart,l);Ci(f,s);const y=ci(l,s);return y&&Ci(y,s),f}(f,o,s);if(r[8]=o[8]=y,null!==l)for(const x of l)x(y,s);if(s.contentQueries){const x=Fn();s.contentQueries(1,y,x.directiveStart)}const w=Fn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(xt(w.index),p_(o[1],w,0,w.directiveStart,w.directiveEnd,s),xd(s,y)),y}(Qn,this.componentDef,un,[Pd]),s_(Ft,un,null)}finally{X()}return new Rh(this.componentType,wn,E(Nn,un),un,Nn)}}class Rh extends class vd{}{constructor(s,o,l,f,y){super(),this.location=l,this._rootLView=f,this._tNode=y,this.instance=o,this.hostView=this.changeDetectorRef=new Ll(f),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let f;if(null!==l&&(f=l[s])){const y=this._rootLView;xh(y[1],y,f,s,o),zo(y,this._tNode.index)}}get injector(){return new Po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Pd(){const r=Fn();Wr(rn()[1],r)}function E_(r){let s=function b_(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;s;){let f;if(Si(r))f=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Je(903,!1);f=s.\u0275dir}if(f){if(o){l.push(f);const w=r;w.inputs=C_(r.inputs),w.declaredInputs=C_(r.declaredInputs),w.outputs=C_(r.outputs);const x=f.hostBindings;x&&zv(r,x);const F=f.viewQuery,Y=f.contentQueries;if(F&&aE(r,F),Y&&Sm(r,Y),je(r.inputs,f.inputs),je(r.declaredInputs,f.declaredInputs),je(r.outputs,f.outputs),Si(f)&&f.data.animation){const he=r.data;he.animation=(he.animation||[]).concat(f.data.animation)}}const y=f.features;if(y)for(let w=0;w<y.length;w++){const x=y[w];x&&x.ngInherit&&x(r),x===E_&&(o=!1)}}s=Object.getPrototypeOf(s)}!function oE(r){let s=0,o=null;for(let l=r.length-1;l>=0;l--){const f=r[l];f.hostVars=s+=f.hostVars,f.hostAttrs=Hs(f.hostAttrs,o=Hs(o,f.hostAttrs))}}(l)}function C_(r){return r===It?{}:r===Nt?[]:r}function aE(r,s){const o=r.viewQuery;r.viewQuery=o?(l,f)=>{s(l,f),o(l,f)}:s}function Sm(r,s){const o=r.contentQueries;r.contentQueries=o?(l,f,y)=>{s(l,f,y),o(l,f,y)}:s}function zv(r,s){const o=r.hostBindings;r.hostBindings=o?(l,f)=>{s(l,f),o(l,f)}:s}let Cp=null;function nc(){if(!Cp){const r=q.Symbol;if(r&&r.iterator)Cp=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Cp=l)}}}return Cp}function Df(r){return!!Mm(r)&&(Array.isArray(r)||!(r instanceof Map)&&nc()in r)}function Mm(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function au(r,s,o){return r[s]=o}function gi(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function w_(r,s,o,l){const f=rn();return gi(f,Xo(),s)&&(ir(),Pc(Wt(),f,r,s,o,l)),w_}function If(r,s,o,l){return gi(r,Xo(),o)?s+ut(o)+l:Fr}function $u(r,s,o,l,f,y){const x=function Oh(r,s,o,l){const f=gi(r,s,o);return gi(r,s+1,l)||f}(r,function Vs(){return cr.lFrame.bindingIndex}(),o,f);return fo(2),x?s+ut(o)+l+ut(f)+y:Fr}function Qv(r,s,o,l,f,y,w,x){const F=rn(),Y=ir(),he=r+22,Be=Y.firstCreatePass?function Zv(r,s,o,l,f,y,w,x,F){const Y=s.consts,he=yf(s,r,4,w||null,Gi(Y,x));su(s,o,he,Gi(Y,F)),Wr(s,he);const Be=he.tViews=l_(2,he,l,f,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,Y);return null!==s.queries&&(s.queries.template(s,he),Be.queries=s.queries.embeddedTView(he)),he}(he,Y,F,s,o,l,f,y,w):Y.data[he];L(Be,!1);const ht=F[11].createComment("");fp(Y,F,ht,Be),Ci(ht,F),kd(F,F[he]=bf(ht,F,ht,Be)),Qs(Be)&&o_(Y,F,Be),null!=w&&a_(F,Be,x)}function Fh(r){return Bs(function si(){return cr.lFrame.contextLView}(),22+r)}function wp(r,s,o){const l=rn();return gi(l,Xo(),s)&&Cl(ir(),Wt(),l,r,s,l[11],o,!1),wp}function Af(r,s,o,l,f){const w=f?"class":"style";xh(r,o,s.inputs[w],w,l)}function Dp(r,s,o,l){const f=rn(),y=ir(),w=22+r,x=f[11],F=f[w]=z(x,s,function Pr(){return cr.lFrame.currentNamespace}()),Y=y.firstCreatePass?function Xv(r,s,o,l,f,y,w){const x=s.consts,Y=yf(s,r,2,f,Gi(x,y));return su(s,o,Y,Gi(x,w)),null!==Y.attrs&&Od(Y,Y.attrs,!1),null!==Y.mergedAttrs&&Od(Y,Y.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,Y),Y}(w,y,f,0,s,o,l):y.data[w];L(Y,!0);const he=Y.mergedAttrs;null!==he&&nn(x,F,he);const Be=Y.classes;null!==Be&&Og(x,F,Be);const ht=Y.styles;return null!==ht&&mh(x,F,ht),64!=(64&Y.flags)&&fp(y,f,F,Y),0===function _a(){return cr.lFrame.elementDepthCount}()&&Ci(F,f),function Xi(){cr.lFrame.elementDepthCount++}(),Qs(Y)&&(o_(y,f,Y),Ov(y,Y,f)),null!==l&&a_(f,Y),Dp}function Ip(){let r=Fn();ie()?Pt():(r=r.parent,L(r,!1));const s=r;!function Ir(){cr.lFrame.elementDepthCount--}();const o=ir();return o.firstCreatePass&&(Wr(o,r),Wo(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Ea(r){return 0!=(16&r.flags)}(s)&&Af(o,s,rn(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function mc(r){return 0!=(32&r.flags)}(s)&&Af(o,s,rn(),s.stylesWithoutHost,!1),Ip}function A_(r,s,o,l){return Dp(r,s,o,l),Ip(),A_}function Pm(r,s,o){const l=rn(),f=ir(),y=r+22,w=f.firstCreatePass?function M_(r,s,o,l,f){const y=s.consts,w=Gi(y,l),x=yf(s,r,8,"ng-container",w);return null!==w&&Od(x,w,!0),su(s,o,x,Gi(y,f)),null!==s.queries&&s.queries.elementStart(s,x),x}(y,f,l,s,o):f.data[y];L(w,!0);const x=l[y]=l[11].createComment("");return fp(f,l,x,w),Ci(x,l),Qs(w)&&(o_(f,l,w),Ov(f,w,l)),null!=o&&a_(l,w),Pm}function Mf(){let r=Fn();const s=ir();return ie()?Pt():(r=r.parent,L(r,!1)),s.firstCreatePass&&(Wr(s,r),Wo(r)&&s.queries.elementEnd(r)),Mf}function R_(){return rn()}function Tp(r){return!!r&&"function"==typeof r.then}function Sp(r){return!!r&&"function"==typeof r.subscribe}const xf=Sp;function Rf(r,s,o,l){const f=rn(),y=ir(),w=Fn();return Nm(y,f,f[11],w,r,s,0,l),Rf}function Ap(r,s){const o=Fn(),l=rn(),f=ir();return Nm(f,l,jv(ko(f.data),o,l),o,r,s),Ap}function Nm(r,s,o,l,f,y,w,x){const F=Qs(l),he=r.firstCreatePass&&vp(r),Be=s[8],ht=Dm(s);let Ft=!0;if(3&l.type||x){const Nn=ci(l,s),Qn=x?x(Nn):Nn,vr=ht.length,pn=x?Hi=>x(Jr(Hi[l.index])):l.index;let Tr=null;if(!x&&F&&(Tr=function k_(r,s,o,l){const f=r.cleanup;if(null!=f)for(let y=0;y<f.length-1;y+=2){const w=f[y];if(w===o&&f[y+1]===l){const x=s[7],F=f[y+2];return x.length>F?x[F]:null}"string"==typeof w&&(y+=2)}return null}(r,s,f,l.index)),null!==Tr)(Tr.__ngLastListenerFn__||Tr).__ngNextListenerFn__=y,Tr.__ngLastListenerFn__=y,Ft=!1;else{y=Jv(l,s,Be,y,!1);const Hi=o.listen(Qn,f,y);ht.push(y,Hi),he&&he.push(f,pn,vr,vr+1)}}else y=Jv(l,s,Be,y,!1);const un=l.outputs;let wn;if(Ft&&null!==un&&(wn=un[f])){const Nn=wn.length;if(Nn)for(let Qn=0;Qn<Nn;Qn+=2){const Ys=s[wn[Qn]][wn[Qn+1]].subscribe(y),Qp=ht.length;ht.push(y,Ys),he&&he.push(f,l.index,Qp,-(Qp+1))}}}function O_(r,s,o,l){try{return!1!==o(l)}catch(f){return v_(r,f),!1}}function Jv(r,s,o,l,f){return function y(w){if(w===Function)return l;ju(2&r.flags?Dr(r.index,s):s);let F=O_(s,0,l,w),Y=y.__ngNextListenerFn__;for(;Y;)F=O_(s,0,Y,w)&&F,Y=Y.__ngNextListenerFn__;return f&&!1===F&&(w.preventDefault(),w.returnValue=!1),F}}function P_(r=1){return function U(r){return(cr.lFrame.contextLView=function le(r,s){for(;r>0;)s=s[15],r--;return s}(r,cr.lFrame.contextLView))[8]}(r)}function fE(r,s){let o=null;const l=function El(r){const s=r.attrs;if(null!=s){const o=s.indexOf(5);if(0==(1&o))return s[o+1]}return null}(r);for(let f=0;f<s.length;f++){const y=s[f];if("*"!==y){if(null===l?_h(r,y,!0):av(l,y))return f}else o=f}return o}function e0(r){const s=rn()[16][6];if(!s.projection){const l=s.projection=S(r?r.length:1,null),f=l.slice();let y=s.child;for(;null!==y;){const w=r?fE(y,r):0;null!==w&&(f[w]?f[w].projectionNext=y:l[w]=y,f[w]=y),y=y.next}}}function t0(r,s=0,o){const l=rn(),f=ir(),y=yf(f,22+r,16,null,o||null);null===y.projection&&(y.projection=s),Pt(),64!=(64&y.flags)&&function Pb(r,s,o){iv(s[11],0,s,o,Bu(r,o,s),tv(o.parent||s[6],o,s))}(f,l,y)}function Bm(r,s,o,l,f){const y=r[o+1],w=null===s;let x=l?_r(y):tc(y),F=!1;for(;0!==x&&(!1===F||w);){const he=r[x+1];Pf(r[x],s)&&(F=!0,r[x+1]=l?pm(he):Ih(he)),x=l?_r(he):tc(he)}F&&(r[o+1]=l?Ih(y):pm(y))}function Pf(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&fn(r,s)>=0}const lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xp(r){return r.substring(lo.key,lo.keyEnd)}function B_(r,s){const o=lo.textEnd;return o===s?-1:(s=lo.keyEnd=function mE(r,s,o){for(;s<o&&r.charCodeAt(s)>32;)s++;return s}(r,lo.key=s,o),Lh(r,s,o))}function Lh(r,s,o){for(;s<o&&r.charCodeAt(s)<=32;)s++;return s}function Nf(r,s,o){return Fc(r,s,o,!1),Nf}function kp(r,s){return Fc(r,s,null,!0),kp}function uu(r,s){for(let o=function L_(r){return function cu(r){lo.key=0,lo.keyEnd=0,lo.value=0,lo.valueEnd=0,lo.textEnd=r.length}(r),B_(r,Lh(r,0,lo.textEnd))}(s);o>=0;o=B_(s,o))Qe(r,xp(s),!0)}function Fc(r,s,o,l){const f=rn(),y=ir(),w=fo(2);y.firstUpdatePass&&u0(y,r,w,l),s!==Fr&&gi(f,w,s)&&Um(y,y.data[tt()],f,f[11],r,f[w+1]=function Ld(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=xe(Uo(r)))),r}(s,o),l,w)}function $_(r,s){return s>=r.expandoStartIndex}function u0(r,s,o,l){const f=r.data;if(null===f[o+1]){const y=f[tt()],w=$_(r,o);jm(y,l)&&null===s&&!w&&(s=!1),s=function G_(r,s,o,l){const f=ko(r);let y=l?s.residualClasses:s.residualStyles;if(null===f)0===(l?s.classBindings:s.styleBindings)&&(o=Pp(o=Op(null,r,s,o,l),s.attrs,l),y=null);else{const w=s.directiveStylingLast;if(-1===w||r[w]!==f)if(o=Op(f,r,s,o,l),null===y){let F=function gE(r,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==tc(l))return r[_r(l)]}(r,s,l);void 0!==F&&Array.isArray(F)&&(F=Op(null,r,s,F[1],l),F=Pp(F,s.attrs,l),function z_(r,s,o,l){r[_r(o?s.classBindings:s.styleBindings)]=l}(r,s,l,F))}else y=function _E(r,s,o){let l;const f=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<f;y++)l=Pp(l,r[y].hostAttrs,o);return Pp(l,s.attrs,o)}(r,s,l)}return void 0!==y&&(l?s.residualClasses=y:s.residualStyles=y),o}(f,y,s,l),function pE(r,s,o,l,f,y){let w=y?s.classBindings:s.styleBindings,x=_r(w),F=tc(w);r[l]=o;let he,Y=!1;if(Array.isArray(o)){const Be=o;he=Be[1],(null===he||fn(Be,he)>0)&&(Y=!0)}else he=o;if(f)if(0!==F){const ht=_r(r[x+1]);r[l+1]=hm(ht,x),0!==ht&&(r[ht+1]=pf(r[ht+1],l)),r[x+1]=function fm(r,s){return 131071&r|s<<17}(r[x+1],l)}else r[l+1]=hm(x,0),0!==x&&(r[x+1]=pf(r[x+1],l)),x=l;else r[l+1]=hm(F,0),0===x?x=l:r[F+1]=pf(r[F+1],l),F=l;Y&&(r[l+1]=Ih(r[l+1])),Bm(r,he,l,!0),Bm(r,he,l,!1),function Mp(r,s,o,l,f){const y=f?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof s&&fn(y,s)>=0&&(o[l+1]=pm(o[l+1]))}(s,he,r,l,y),w=hm(x,F),y?s.classBindings=w:s.styleBindings=w}(f,y,s,o,w,l)}}function Op(r,s,o,l,f){let y=null;const w=o.directiveEnd;let x=o.directiveStylingLast;for(-1===x?x=o.directiveStart:x++;x<w&&(y=s[x],l=Pp(l,y.hostAttrs,f),y!==r);)x++;return null!==r&&(o.directiveStylingLast=x),l}function Pp(r,s,o){const l=o?1:2;let f=-1;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?f=w:f===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Qe(r,w,!!o||s[++y]))}return void 0===r?null:r}function Um(r,s,o,l,f,y,w,x){if(!(3&s.type))return;const F=r.data,Y=F[x+1];zu(function qg(r){return 1==(1&r)}(Y)?Hm(F,s,o,f,tc(Y),w):void 0)||(zu(y)||function Ev(r){return 2==(2&r)}(Y)&&(y=Hm(F,null,o,f,x,w)),function Sd(r,s,o,l,f){if(s)f?r.addClass(o,l):r.removeClass(o,l);else{let y=-1===l.indexOf("-")?void 0:lc.DashCase;null==f?r.removeStyle(o,l,y):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),y|=lc.Important),r.setStyle(o,l,f,y))}}(l,w,is(tt(),o),f,y))}function Hm(r,s,o,l,f,y){const w=null===s;let x;for(;f>0;){const F=r[f],Y=Array.isArray(F),he=Y?F[1]:F,Be=null===he;let ht=o[f+1];ht===Fr&&(ht=Be?Nt:void 0);let Ft=Be?zt(ht,l):he===l?ht:void 0;if(Y&&!zu(Ft)&&(Ft=zt(F,l)),zu(Ft)&&(x=Ft,w))return x;const un=r[f+1];f=w?_r(un):tc(un)}if(null!==s){let F=y?s.residualClasses:s.residualStyles;null!=F&&(x=zt(F,l))}return x}function zu(r){return void 0!==r}function jm(r,s){return 0!=(r.flags&(s?16:32))}function Bh(r,s=""){const o=rn(),l=ir(),f=r+22,y=l.firstCreatePass?yf(l,f,1,s,null):l.data[f],w=o[f]=function _(r,s){return r.createText(s)}(o[11],s);fp(l,o,w,y),L(y,!1)}function Bd(r){return Np("",r,""),Bd}function Np(r,s,o){const l=rn(),f=If(l,r,s,o);return f!==Fr&&uc(l,tt(),f),Np}function Vd(r,s,o,l,f){const y=rn(),w=$u(y,r,s,o,l,f);return w!==Fr&&uc(y,tt(),w),Vd}function p0(r,s,o){!function fc(r,s,o,l){const f=ir(),y=fo(2);f.firstUpdatePass&&u0(f,null,y,l);const w=rn();if(o!==Fr&&gi(w,y,o)){const x=f.data[tt()];if(jm(x,l)&&!$_(f,y)){let F=l?x.classesWithoutHost:x.stylesWithoutHost;null!==F&&(o=Oe(F,o||"")),Af(f,x,w,o,l)}else!function q_(r,s,o,l,f,y,w,x){f===Fr&&(f=Nt);let F=0,Y=0,he=0<f.length?f[0]:null,Be=0<y.length?y[0]:null;for(;null!==he||null!==Be;){const ht=F<f.length?f[F+1]:void 0,Ft=Y<y.length?y[Y+1]:void 0;let wn,un=null;he===Be?(F+=2,Y+=2,ht!==Ft&&(un=Be,wn=Ft)):null===Be||null!==he&&he<Be?(F+=2,un=he):(Y+=2,un=Be,wn=Ft),null!==un&&Um(r,s,o,l,un,wn,w,x),he=F<f.length?f[F]:null,Be=Y<y.length?y[Y]:null}}(f,x,w,w[11],w[y+1],w[y+1]=function W_(r,s,o){if(null==o||""===o)return Nt;const l=[],f=Uo(o);if(Array.isArray(f))for(let y=0;y<f.length;y++)r(l,f[y],!0);else if("object"==typeof f)for(const y in f)f.hasOwnProperty(y)&&r(l,y,f[y]);else"string"==typeof f&&s(l,f);return l}(r,s,o),l,y)}}(Qe,uu,If(rn(),r,s,o),!0)}function Fp(r,s,o){const l=rn();return gi(l,Xo(),s)&&Cl(ir(),Wt(),l,r,s,l[11],o,!0),Fp}function ny(r,s,o){const l=rn();if(gi(l,Xo(),s)){const y=ir(),w=Wt();Cl(y,w,l,r,s,jv(ko(y.data),w,l),o,!0)}return ny}const Wu=void 0;var ry=["en",[["a","p"],["AM","PM"],Wu],[["AM","PM"],Wu,Wu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wu,"{1} 'at' {0}",Wu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function IE(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Ud={};function Hd(r){const s=function iy(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=D0(s);if(o)return o;const l=s.split("-")[0];if(o=D0(l),o)return o;if("en"===l)return ry;throw new Je(701,!1)}function Qm(r){return Hd(r)[nr.PluralCase]}function D0(r){return r in Ud||(Ud[r]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[r]),Ud[r]}var nr=(()=>((nr=nr||{})[nr.LocaleId=0]="LocaleId",nr[nr.DayPeriodsFormat=1]="DayPeriodsFormat",nr[nr.DayPeriodsStandalone=2]="DayPeriodsStandalone",nr[nr.DaysFormat=3]="DaysFormat",nr[nr.DaysStandalone=4]="DaysStandalone",nr[nr.MonthsFormat=5]="MonthsFormat",nr[nr.MonthsStandalone=6]="MonthsStandalone",nr[nr.Eras=7]="Eras",nr[nr.FirstDayOfWeek=8]="FirstDayOfWeek",nr[nr.WeekendRange=9]="WeekendRange",nr[nr.DateFormat=10]="DateFormat",nr[nr.TimeFormat=11]="TimeFormat",nr[nr.DateTimeFormat=12]="DateTimeFormat",nr[nr.NumberSymbols=13]="NumberSymbols",nr[nr.NumberFormats=14]="NumberFormats",nr[nr.CurrencyCode=15]="CurrencyCode",nr[nr.CurrencySymbol=16]="CurrencySymbol",nr[nr.CurrencyName=17]="CurrencyName",nr[nr.Currencies=18]="Currencies",nr[nr.Directionality=19]="Directionality",nr[nr.PluralCase=20]="PluralCase",nr[nr.ExtraData=21]="ExtraData",nr))();const Lf="en-US";let Jm=Lf;function Ty(r,s,o,l,f){if(r=me(r),Array.isArray(r))for(let y=0;y<r.length;y++)Ty(r[y],s,o,l,f);else{const y=ir(),w=rn();let x=$o(r)?r:me(r.provide),F=Qc(r);const Y=Fn(),he=1048575&Y.providerIndexes,Be=Y.directiveStart,ht=Y.providerIndexes>>20;if($o(r)||!r.multi){const Ft=new Us(F,f,Dh),un=V0(x,s,f?he:he+ht,Be);-1===un?(us(js(Y,w),y,x),Sy(y,r,s.length),s.push(x),Y.directiveStart++,Y.directiveEnd++,f&&(Y.providerIndexes+=1048576),o.push(Ft),w.push(Ft)):(o[un]=Ft,w[un]=Ft)}else{const Ft=V0(x,s,he+ht,Be),un=V0(x,s,he,he+ht),wn=Ft>=0&&o[Ft],Nn=un>=0&&o[un];if(f&&!Nn||!f&&!wn){us(js(Y,w),y,x);const Qn=function du(r,s,o,l,f){const y=new Us(r,o,Dh);return y.multi=[],y.index=s,y.componentProviders=0,B0(y,f,l&&!o),y}(f?JE:XE,o.length,f,l,F);!f&&Nn&&(o[un].providerFactory=Qn),Sy(y,r,s.length,0),s.push(x),Y.directiveStart++,Y.directiveEnd++,f&&(Y.providerIndexes+=1048576),o.push(Qn),w.push(Qn)}else Sy(y,r,Ft>-1?Ft:un,B0(o[f?un:Ft],F,!f&&l));!f&&l&&Nn&&o[un].componentProviders++}}}function Sy(r,s,o,l){const f=$o(s),y=function ah(r){return!!r.useClass}(s);if(f||y){const F=(y?me(s.useClass):s).prototype.ngOnDestroy;if(F){const Y=r.destroyHooks||(r.destroyHooks=[]);if(!f&&s.multi){const he=Y.indexOf(o);-1===he?Y.push(o,[l,F]):Y[he+1].push(l,F)}else Y.push(o,F)}}}function B0(r,s,o){return o&&r.componentProviders++,r.multi.push(s)-1}function V0(r,s,o,l){for(let f=o;f<l;f++)if(s[f]===r)return f;return-1}function XE(r,s,o,l){return ug(this.multi,[])}function JE(r,s,o,l){const f=this.multi;let y;if(this.providerFactory){const w=this.providerFactory.componentProviders,x=ro(o,o[1],this.providerFactory.index,l);y=x.slice(0,w),ug(f,y);for(let F=w;F<x.length;F++)y.push(x[F])}else y=[],ug(f,y);return y}function ug(r,s){for(let o=0;o<r.length;o++)s.push((0,r[o])());return s}function hu(r,s=[]){return o=>{o.providersResolver=(l,f)=>function QE(r,s,o){const l=ir();if(l.firstCreatePass){const f=Si(r);Ty(o,l.data,l.blueprint,f,!0),Ty(s,l.data,l.blueprint,f,!1)}}(l,f?f(r):r,s)}}class Hp{}class jd{}function dg(r,s){return new U0(r,s??null)}class U0 extends Hp{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Im(this);const l=fr(s);this._bootstrapComponents=qi(l.bootstrap),this._r3Injector=bh(s,o,[{provide:Hp,useValue:this},{provide:Nl,useValue:this.componentFactoryResolver}],xe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class hg extends jd{constructor(s){super(),this.moduleType=s}create(s){return new U0(this.moduleType,s)}}class H0 extends Hp{constructor(s,o,l){super(),this.componentFactoryResolver=new Im(this),this.instance=null;const f=new md([...s,{provide:Hp,useValue:this},{provide:Nl,useValue:this.componentFactoryResolver}],o||Ou(),l,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function jf(r,s,o=null){return new H0(r,s,o).injector}let eC=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=Es(0,o.type),f=l.length>0?jf([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,f)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=Jt({token:r,providedIn:"environment",factory:()=>new r(Ji(Go))}),r})();function $d(r){r.getStandaloneInjector=s=>s.get(eC).getOrCreateStandaloneInjector(r)}function Py(r,s,o){const l=oi()+r,f=rn();return f[l]===Fr?au(f,l,o?s.call(o):s()):function kh(r,s){return r[s]}(f,l)}function Wf(r,s,o,l){return Ny(rn(),oi(),r,s,o,l)}function Ny(r,s,o,l,f,y){const w=s+o;return gi(r,w,f)?au(r,w+1,y?l.call(y,f):l(f)):function $p(r,s){const o=r[s];return o===Fr?void 0:o}(r,w+1)}function Y0(r,s){const o=ir();let l;const f=r+22;o.firstCreatePass?(l=function Z0(r,s){if(s)for(let o=s.length-1;o>=0;o--){const l=s[o];if(r===l.name)return l}}(s,o.pipeRegistry),o.data[f]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(f,l.onDestroy)):l=o.data[f];const y=l.factory||(l.factory=li(l.type)),w=Z(Dh);try{const x=ss(!1),F=y();return ss(x),function Sf(r,s,o,l){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),s[o]=l}(o,rn(),f,F),F}finally{Z(w)}}function Q0(r,s,o){const l=r+22,f=rn(),y=Bs(f,l);return function jh(r,s){return r[1].data[s].pure}(f,l)?Ny(f,oi(),s,y.transform,o,y):y.transform(o)}function Ly(r){return s=>{setTimeout(r,void 0,s)}}const il=class _g extends m.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){let f=s,y=o||(()=>null),w=l;if(s&&"object"==typeof s){const F=s;f=F.next?.bind(F),y=F.error?.bind(F),w=F.complete?.bind(F)}this.__isAsync&&(y=Ly(y),f&&(f=Ly(f)),w&&(w=Ly(w)));const x=super.subscribe({next:f,error:y,complete:w});return s instanceof k.w0&&s.add(x),x}};function qu(){return this._results[nc()]()}class zd{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=nc(),l=zd.prototype;l[o]||(l[o]=qu)}get changes(){return this._changes||(this._changes=new il)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const f=ks(s);(this._changesDetected=!function Tl(r,s,o){if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++){let f=r[l],y=s[l];if(o&&(f=o(f),y=o(y)),y!==f)return!1}return!0}(l._results,f,o))&&(l._results=f,l.length=f.length,l.last=f[this.length-1],l.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pc=(()=>{class r{}return r.__NG_ELEMENT_ID__=lC,r})();const aC=pc,nb=class extends aC{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s,o){const l=this._declarationTContainer.tViews,f=vm(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,o||null);f[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(f[19]=w.createEmbeddedView(l)),s_(l,f,s),new Ef(f)}};function lC(){return Lc(Fn(),rn())}function Lc(r,s){return 4&r.type?new nb(s,r,E(r,s)):null}let yg=(()=>{class r{}return r.__NG_ELEMENT_ID__=cC,r})();function cC(){return By(Fn(),rn())}const uC=yg,rb=class extends uC{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return E(this._hostTNode,this._hostLView)}get injector(){return new Po(this._hostTNode,this._hostLView)}get parentInjector(){const s=Li(this._hostTNode,this._hostLView);if(ul(s)){const o=Dl(s,this._hostLView),l=Kr(s);return new Po(o[1].data[l+8],o)}return new Po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=ib(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){let f,y;"number"==typeof l?f=l:null!=l&&(f=l.index,y=l.injector);const w=s.createEmbeddedView(o||{},y);return this.insert(w,f),w}createComponent(s,o,l,f,y){const w=s&&!function Sa(r){return"function"==typeof r}(s);let x;if(w)x=o;else{const Be=o||{};x=Be.index,l=Be.injector,f=Be.projectableNodes,y=Be.environmentInjector||Be.ngModuleRef}const F=w?s:new dc(dt(s)),Y=l||this.parentInjector;if(!y&&null==F.ngModule){const ht=(w?Y:this.parentInjector).get(Go,null);ht&&(y=ht)}const he=F.create(Y,f,void 0,y);return this.insert(he.hostView,x),he}insert(s,o){const l=s._lView,f=l[1];if(function $i(r){return ts(r[3])}(l)){const he=this.indexOf(s);if(-1!==he)this.detach(he);else{const Be=l[3],ht=new rb(Be,Be[6],Be[3]);ht.detach(ht.indexOf(s))}}const y=this._adjustIndex(o),w=this._lContainer;!function Kt(r,s,o,l){const f=10+l,y=o.length;l>0&&(o[f-1][4]=s),l<y-10?(s[4]=o[f],yc(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const w=s[17];null!==w&&o!==w&&function on(r,s){const o=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===o?r[9]=[s]:o.push(s)}(w,s);const x=s[19];null!==x&&x.insertView(r),s[2]|=64}(f,l,w,y);const x=kg(y,w),F=l[11],Y=dp(F,w[7]);return null!==Y&&function Re(r,s,o,l,f,y){l[0]=f,l[6]=s,pp(r,l,o,1,f,y)}(f,w[6],F,l,Y,x),s.attachToViewContainerRef(),yc(vg(w),y,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=ib(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Zn(this._lContainer,o);l&&(ml(vg(this._lContainer),o),Zr(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=Zn(this._lContainer,o);return l&&null!=ml(vg(this._lContainer),o)?new Ef(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function ib(r){return r[8]}function vg(r){return r[8]||(r[8]=[])}function By(r,s){let o;const l=s[r.index];if(ts(l))o=l;else{let f;if(8&r.type)f=Jr(l);else{const y=s[11];f=y.createComment("");const w=ci(r,s);Td(y,dp(y,w),f,function ph(r,s){return r.nextSibling(s)}(y,w),!1)}s[r.index]=o=bf(l,s,f,r),kd(s,o)}return new rb(o,r,s)}class Vy{constructor(s){this.queryList=s,this.matches=null}clone(){return new Vy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wd{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,f=[];for(let y=0;y<l;y++){const w=o.getByIndex(y);f.push(this.queries[w.indexInDeclarationView].clone())}return new Wd(f)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==fb(s,o).matches&&this.queries[o].setDirty()}}class bg{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class sb{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const f=null!==o?o.length:0,y=this.getByIndex(l).embeddedTView(s,f);y&&(y.indexInDeclarationView=l,null!==o?o.push(y):o=[y])}return null!==o?new sb(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ob{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new ob(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let f=0;f<l.length;f++){const y=l[f];this.matchTNodeWithReadOption(s,o,pC(o,y)),this.matchTNodeWithReadOption(s,o,ia(o,s,y,!1,!1))}else l===pc?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,ia(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const f=this.metadata.read;if(null!==f)if(f===p||f===yg||f===pc&&4&o.type)this.addMatch(o.index,-2);else{const y=ia(o,s,f,!1,!1);null!==y&&this.addMatch(o.index,y)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function pC(r,s){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function Kd(r,s,o,l){return-1===o?function ab(r,s){return 11&r.type?E(r,s):4&r.type?Lc(r,s):null}(s,r):-2===o?function mC(r,s,o){return o===p?E(s,r):o===pc?Lc(s,r):o===yg?By(s,r):void 0}(r,s,l):ro(r,r[1],o,s)}function lb(r,s,o,l){const f=s[19].queries[l];if(null===f.matches){const y=r.data,w=o.matches,x=[];for(let F=0;F<w.length;F+=2){const Y=w[F];x.push(Y<0?null:Kd(s,y[Y],w[F+1],o.metadata.read))}f.matches=x}return f.matches}function Uy(r,s,o,l){const f=r.queries.getByIndex(o),y=f.matches;if(null!==y){const w=lb(r,s,f,o);for(let x=0;x<y.length;x+=2){const F=y[x];if(F>0)l.push(w[x/2]);else{const Y=y[x+1],he=s[-F];for(let Be=10;Be<he.length;Be++){const ht=he[Be];ht[17]===ht[3]&&Uy(ht[1],ht,Y,l)}if(null!==he[9]){const Be=he[9];for(let ht=0;ht<Be.length;ht++){const Ft=Be[ht];Uy(Ft[1],Ft,Y,l)}}}}}return l}function cb(r){const s=rn(),o=ir(),l=ea();va(l+1);const f=fb(o,l);if(r.dirty&&function Qo(r){return 4==(4&r[2])}(s)===(2==(2&f.metadata.flags))){if(null===f.matches)r.reset([]);else{const y=f.crossesNgTemplate?Uy(o,s,l,[]):lb(o,s,f,l);r.reset(y,g),r.notifyOnChanges()}return!0}return!1}function ub(r,s,o){const l=ir();l.firstCreatePass&&(Hy(l,new bg(r,s,o),-1),2==(2&s)&&(l.staticViewQueries=!0)),gC(l,rn(),s)}function db(r,s,o,l){const f=ir();if(f.firstCreatePass){const y=Fn();Hy(f,new bg(s,o,l),y.index),function _C(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(f,r),2==(2&o)&&(f.staticContentQueries=!0)}gC(f,rn(),o)}function hb(){return function iw(r,s){return r[19].queries[s].queryList}(rn(),ea())}function gC(r,s,o){const l=new zd(4==(4&o));c_(r,s,l,l.destroy),null===s[19]&&(s[19]=new Wd),s[19].queries.push(new Vy(l))}function Hy(r,s,o){null===r.queries&&(r.queries=new sb),r.queries.track(new ob(s,o))}function fb(r,s){return r.queries.getByIndex(s)}function v(...r){}const O=new ti("Application Initializer");let $=(()=>{class r{constructor(o){this.appInits=o,this.resolve=v,this.reject=v,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,f)=>{this.resolve=l,this.reject=f})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const y=this.appInits[f]();if(Tp(y))o.push(y);else if(xf(y)){const w=new Promise((x,F)=>{y.subscribe({complete:x,error:F})});o.push(w)}}Promise.all(o).then(()=>{l()}).catch(f=>{this.reject(f)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Ji(O,8))},r.\u0275prov=Jt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const ne=new ti("AppId",{providedIn:"root",factory:function Ae(){return`${Rt()}${Rt()}${Rt()}`}});function Rt(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kt=new ti("Platform Initializer"),cn=new ti("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_n=new ti("appBootstrapListener"),xr=new ti("AnimationModuleType");let Er=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Jt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Lr=new ti("LocaleId",{providedIn:"root",factory:()=>V(Lr,tn.Optional|tn.SkipSelf)||function qr(){return typeof $localize<"u"&&$localize.locale||Lf}()}),Br=new ti("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Yu{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let Sb=(()=>{class r{compileModuleSync(o){return new hg(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),y=qi(fr(o).declarations).reduce((w,x)=>{const F=dt(x);return F&&w.push(new dc(F)),w},[]);return new Yu(l,y)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Jt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const _i=(()=>Promise.resolve(0))();function Io(r){typeof Zone>"u"?_i.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Is{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new il(!1),this.onMicrotaskEmpty=new il(!1),this.onStable=new il(!1),this.onError=new il(!1),typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const y=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new y("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!l&&o,f.shouldCoalesceRunChangeDetection=l,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function fu(){let r=q.requestAnimationFrame,s=q.cancelAnimationFrame;if(typeof Zone<"u"&&r&&s){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function IC(r){const s=()=>{!function Mb(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(q,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,ha(r),r.isCheckStableRunning=!0,gs(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),ha(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,f,y,w,x)=>{try{return Xd(r),o.invokeTask(f,y,w,x)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&s(),ic(r)}},onInvoke:(o,l,f,y,w,x,F)=>{try{return Xd(r),o.invoke(f,y,w,x,F)}finally{r.shouldCoalesceRunChangeDetection&&s(),ic(r)}},onHasTask:(o,l,f,y)=>{o.hasTask(f,y),l===f&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,ha(r),gs(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(o,l,f,y)=>(o.handleError(f,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Is.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(Is.isInAngularZone())throw new Je(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,f){const y=this._inner,w=y.scheduleEventTask("NgZoneEvent: "+f,s,Qd,v,v);try{return y.runTask(w,o,l)}finally{y.cancelTask(w)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const Qd={};function gs(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function ha(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Xd(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function ic(r){r._nesting--,gs(r)}class Dg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new il,this.onMicrotaskEmpty=new il,this.onStable=new il,this.onError=new il}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,f){return s.apply(o,l)}}const Ig=new ti(""),uw=new ti("");let TC,Ow=(()=>{class r{constructor(o,l,f){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,TC||(function Pw(r){TC=r}(f),f.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Is.assertNotInAngularZone(),Io(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Io(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,f){let y=-1;l&&l>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==y),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:y,updateCb:f})}whenStable(o,l,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,f){return[]}}return r.\u0275fac=function(o){return new(o||r)(Ji(Is),Ji(dw),Ji(uw))},r.\u0275prov=Jt({token:r,factory:r.\u0275fac}),r})(),dw=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return TC?.findTestabilityInTree(this,o,l)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Jt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),Zf=null;const hw=new ti("AllowMultipleToken"),SC=new ti("PlatformDestroyListeners");class Lw{constructor(s,o){this.name=s,this.token=o}}function pw(r,s,o=[]){const l=`Platform: ${s}`,f=new ti(l);return(y=[])=>{let w=AC();if(!w||w.injector.get(hw,!1)){const x=[...o,...y,{provide:f,useValue:!0}];r?r(x):function Bw(r){if(Zf&&!Zf.get(hw,!1))throw new Je(400,!1);Zf=r;const s=r.get(gw);(function fw(r){const s=r.get(kt,null);s&&s.forEach(o=>o())})(r)}(function mw(r=[],s){return Ad.create({name:s,providers:[{provide:Yc,useValue:"platform"},{provide:SC,useValue:new Set([()=>Zf=null])},...r]})}(x,l))}return function Uw(r){const s=AC();if(!s)throw new Je(401,!1);return s}()}}function AC(){return Zf?.get(gw)??null}let gw=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const f=function yw(r,s){let o;return o="noop"===r?new Dg:("zone.js"===r?void 0:r)||new Is(s),o}(l?.ngZone,function _w(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),y=[{provide:Is,useValue:f}];return f.run(()=>{const w=Ad.create({providers:y,parent:this.injector,name:o.moduleType.name}),x=o.create(w),F=x.injector.get(hh,null);if(!F)throw new Je(402,!1);return f.runOutsideAngular(()=>{const Y=f.onError.subscribe({next:he=>{F.handleError(he)}});x.onDestroy(()=>{Rb(this._modules,x),Y.unsubscribe()})}),function vw(r,s,o){try{const l=o();return Tp(l)?l.catch(f=>{throw s.runOutsideAngular(()=>r.handleError(f)),f}):l}catch(l){throw s.runOutsideAngular(()=>r.handleError(l)),l}}(F,f,()=>{const Y=x.injector.get($);return Y.runInitializers(),Y.donePromise.then(()=>(function T0(r){Zt(r,"Expected localeId to be defined"),"string"==typeof r&&(Jm=r.toLowerCase().replace(/_/g,"-"))}(x.injector.get(Lr,Lf)||Lf),this._moduleDoBootstrap(x),x))})})}bootstrapModule(o,l=[]){const f=bw({},l);return function Nw(r,s,o){const l=new hg(o);return Promise.resolve(l)}(0,0,o).then(y=>this.bootstrapModuleFactory(y,f))}_moduleDoBootstrap(o){const l=o.injector.get(xb);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>l.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new Je(403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(SC,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Ji(Ad))},r.\u0275prov=Jt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function bw(r,s){return Array.isArray(s)?s.reduce(bw,r):{...r,...s}}let xb=(()=>{class r{constructor(o,l,f){this._zone=o,this._injector=l,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new b.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),w=new b.y(x=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{Is.assertNotInAngularZone(),Io(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{Is.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{F.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,ee.T)(y,w.pipe((0,Ee.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const f=o instanceof lh;if(!this._injector.get($).done)throw!f&&er(o),new Je(405,false);let w;w=f?o:this._injector.get(Nl).resolveComponentFactory(o),this.componentTypes.push(w.componentType);const x=function Fw(r){return r.isBoundToModule}(w)?void 0:this._injector.get(Hp),Y=w.create(Ad.NULL,[],l||w.selector,x),he=Y.location.nativeElement,Be=Y.injector.get(Ig,null);return Be?.registerApplication(he),Y.onDestroy(()=>{this.detachView(Y.hostView),Rb(this.components,Y),Be?.unregisterApplication(he)}),this._loadComponent(Y),Y}tick(){if(this._runningTick)throw new Je(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;Rb(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(_n,[]).concat(this._bootstrapListeners).forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Rb(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Je(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(Ji(Is),Ji(Go),Ji(hh))},r.\u0275prov=Jt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Rb(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}let Cw=!0,ww=!1;function jw(){return ww=!0,Cw}function $w(){if(ww)throw new Error("Cannot enable prod mode after platform setup.");Cw=!1}let Gw=(()=>{class r{}return r.__NG_ELEMENT_ID__=zw,r})();function zw(r){return function Ww(r,s,o){if(Ko(r)&&!o){const l=Dr(r.index,s);return new Ef(l,l)}return 47&r.type?new Ef(s[16],s):null}(Fn(),rn(),16==(16&r))}class Sw{constructor(){}supports(s){return Df(s)}create(s){return new Xw(s)}}const Qw=(r,s)=>s;class Xw{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Qw}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,f=0,y=null;for(;o||l;){const w=!l||o&&o.currentIndex<Mw(l,f,y)?o:l,x=Mw(w,f,y),F=w.currentIndex;if(w===l)f--,l=l._nextRemoved;else if(o=o._next,null==w.previousIndex)f++;else{y||(y=[]);const Y=x-f,he=F-f;if(Y!=he){for(let ht=0;ht<Y;ht++){const Ft=ht<y.length?y[ht]:y[ht]=0,un=Ft+ht;he<=un&&un<Y&&(y[ht]=Ft+1)}y[w.previousIndex]=he-Y}}x!==F&&s(w,x,F)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Df(s))throw new Je(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let f,y,w,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let x=0;x<this.length;x++)y=s[x],w=this._trackByFn(x,y),null!==o&&Object.is(o.trackById,w)?(l&&(o=this._verifyReinsertion(o,y,w,x)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,w,x),l=!0),o=o._next}else f=0,function uE(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[nc()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,x=>{w=this._trackByFn(f,x),null!==o&&Object.is(o.trackById,w)?(l&&(o=this._verifyReinsertion(o,x,w,f)),Object.is(o.item,x)||this._addIdentityChange(o,x)):(o=this._mismatch(o,x,w,f),l=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,f){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,y,f)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,f))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,y,f)):s=this._addAfter(new Jw(o,l),y,f),s}_verifyReinsertion(s,o,l,f){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==y?s=this._reinsertAfter(y,s._prev,f):s.currentIndex!=f&&(s.currentIndex=f,this._addToMoves(s,f)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const f=s._prevRemoved,y=s._nextRemoved;return null===f?this._removalsHead=y:f._nextRemoved=y,null===y?this._removalsTail=f:y._prevRemoved=f,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const f=null===o?this._itHead:o._next;return s._next=f,s._prev=o,null===f?this._itTail=s:f._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new Aw),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Aw),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Jw{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class Aw{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new eD,this.map.set(o,l)),l.add(s)}get(s,o){const f=this.map.get(s);return f?f.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mw(r,s,o){const l=r.previousIndex;if(null===l)return l;let f=0;return o&&l<o.length&&(f=o[l]),l+s+f}class xw{constructor(){}supports(s){return s instanceof Map||Mm(s)}create(){return new tD}}class tD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Mm(s)))throw new Je(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const y=this._getOrCreateRecordForKey(f,l);o=this._insertBeforeOrAppend(o,y)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const f=this._records.get(s);this._maybeAddToChanges(f,o);const y=f._prev,w=f._next;return y&&(y._next=w),w&&(w._prev=y),f._next=null,f._prev=null,f}const l=new nD(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class nD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Rw(){return new OC([new Sw])}let OC=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const f=l.factories.slice();o=o.concat(f)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||Rw()),deps:[[r,new tr,new In]]}}find(o){const l=this.factories.find(f=>f.supports(o));if(null!=l)return l;throw new Je(901,!1)}}return r.\u0275prov=Jt({token:r,providedIn:"root",factory:Rw}),r})();function kw(){return new PC([new xw])}let PC=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const f=l.factories.slice();o=o.concat(f)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||kw()),deps:[[r,new tr,new In]]}}find(o){const l=this.factories.find(f=>f.supports(o));if(l)return l;throw new Je(901,!1)}}return r.\u0275prov=Jt({token:r,providedIn:"root",factory:kw}),r})();const sD=pw(null,"core",[]);let oD=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Ji(xb))},r.\u0275mod=Et({type:r}),r.\u0275inj=Mn({}),r})();function aD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},4006:(dn,ot,A)=>{A.d(ot,{CE:()=>Js,Cf:()=>ct,F:()=>Ii,Fj:()=>lt,JJ:()=>tn,JL:()=>Jn,JU:()=>xe,On:()=>To,Q7:()=>Zo,UX:()=>Ir,Zs:()=>ui,_Y:()=>Xs,a5:()=>zn,kI:()=>ze,qu:()=>ir,sg:()=>Ts,u:()=>Yi,u5:()=>Xi,x0:()=>Gn});var m=A(4650),k=A(6895),b=A(8996),ee=A(4128),Ee=A(4004);let se=(()=>{class K{constructor(L,ie){this._renderer=L,this._elementRef=ie,this.onChange=Pt=>{},this.onTouched=()=>{}}setProperty(L,ie){this._renderer.setProperty(this._elementRef.nativeElement,L,ie)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return K.\u0275fac=function(L){return new(L||K)(m.Y36(m.Qsj),m.Y36(m.SBq))},K.\u0275dir=m.lG2({type:K}),K})(),je=(()=>{class K extends se{}return K.\u0275fac=function(){let j;return function(ie){return(j||(j=m.n5z(K)))(ie||K)}}(),K.\u0275dir=m.lG2({type:K,features:[m.qOj]}),K})();const xe=new m.OlP("NgValueAccessor"),ye={provide:xe,useExisting:(0,m.Gpc)(()=>lt),multi:!0},at=new m.OlP("CompositionEventMode");let lt=(()=>{class K extends se{constructor(L,ie,Pt){super(L,ie),this._compositionMode=Pt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function me(){const K=(0,k.q)()?(0,k.q)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return K.\u0275fac=function(L){return new(L||K)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(at,8))},K.\u0275dir=m.lG2({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,ie){1&L&&m.NdJ("input",function(An){return ie._handleInput(An.target.value)})("blur",function(){return ie.onTouched()})("compositionstart",function(){return ie._compositionStart()})("compositionend",function(An){return ie._compositionEnd(An.target.value)})},features:[m._Bn([ye]),m.qOj]}),K})();function bt(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function ut(K){return null!=K&&"number"==typeof K.length}const ct=new m.OlP("NgValidators"),Lt=new m.OlP("NgAsyncValidators"),Tt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ze{static min(j){return function Se(K){return j=>{if(bt(j.value)||bt(K))return null;const L=parseFloat(j.value);return!isNaN(L)&&L<K?{min:{min:K,actual:j.value}}:null}}(j)}static max(j){return function ge(K){return j=>{if(bt(j.value)||bt(K))return null;const L=parseFloat(j.value);return!isNaN(L)&&L>K?{max:{max:K,actual:j.value}}:null}}(j)}static required(j){return ue(j)}static requiredTrue(j){return Le(j)}static email(j){return function R(K){return bt(K.value)||Tt.test(K.value)?null:{email:!0}}(j)}static minLength(j){return function Pe(K){return j=>bt(j.value)||!ut(j.value)?null:j.value.length<K?{minlength:{requiredLength:K,actualLength:j.value.length}}:null}(j)}static maxLength(j){return function ke(K){return j=>ut(j.value)&&j.value.length>K?{maxlength:{requiredLength:K,actualLength:j.value.length}}:null}(j)}static pattern(j){return function we(K){if(!K)return Ze;let j,L;return"string"==typeof K?(L="","^"!==K.charAt(0)&&(L+="^"),L+=K,"$"!==K.charAt(K.length-1)&&(L+="$"),j=new RegExp(L)):(L=K.toString(),j=K),ie=>{if(bt(ie.value))return null;const Pt=ie.value;return j.test(Pt)?null:{pattern:{requiredPattern:L,actualValue:Pt}}}}(j)}static nullValidator(j){return null}static compose(j){return qt(j)}static composeAsync(j){return Dn(j)}}function ue(K){return bt(K.value)?{required:!0}:null}function Le(K){return!0===K.value?null:{required:!0}}function Ze(K){return null}function ve(K){return null!=K}function pt(K){return(0,m.QGY)(K)?(0,b.D)(K):K}function Dt(K){let j={};return K.forEach(L=>{j=null!=L?{...j,...L}:j}),0===Object.keys(j).length?null:j}function $t(K,j){return j.map(L=>L(K))}function Zt(K){return K.map(j=>function en(K){return!K.validate}(j)?j:L=>j.validate(L))}function qt(K){if(!K)return null;const j=K.filter(ve);return 0==j.length?null:function(L){return Dt($t(L,j))}}function En(K){return null!=K?qt(Zt(K)):null}function Dn(K){if(!K)return null;const j=K.filter(ve);return 0==j.length?null:function(L){const ie=$t(L,j).map(pt);return(0,ee.D)(ie).pipe((0,Ee.U)(Dt))}}function vn(K){return null!=K?Dn(Zt(K)):null}function Jt(K,j){return null===K?[j]:Array.isArray(K)?[...K,j]:[K,j]}function Vn(K){return K._rawValidators}function Mn(K){return K._rawAsyncValidators}function Cn(K){return K?Array.isArray(K)?K:[K]:[]}function br(K,j){return Array.isArray(K)?K.includes(j):K===j}function dr(K,j){const L=Cn(j);return Cn(K).forEach(Pt=>{br(L,Pt)||L.push(Pt)}),L}function Ln(K,j){return Cn(j).filter(L=>!br(K,L))}class Un{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=En(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=vn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j){this.control&&this.control.reset(j)}hasError(j,L){return!!this.control&&this.control.hasError(j,L)}getError(j,L){return this.control?this.control.getError(j,L):null}}class Kn extends Un{get formDirective(){return null}get path(){return null}}class zn extends Un{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hr{constructor(j){this._cd=j}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tn=(()=>{class K extends hr{constructor(L){super(L)}}return K.\u0275fac=function(L){return new(L||K)(m.Y36(zn,2))},K.\u0275dir=m.lG2({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,ie){2&L&&m.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)},features:[m.qOj]}),K})(),Jn=(()=>{class K extends hr{constructor(L){super(L)}}return K.\u0275fac=function(L){return new(L||K)(m.Y36(Kn,10))},K.\u0275dir=m.lG2({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,ie){2&L&&m.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)("ng-submitted",ie.isSubmitted)},features:[m.qOj]}),K})();const Ye="VALID",Mt="INVALID",Yt="PENDING",He="DISABLED";function Ue(K){return(De(K)?K.validators:K)||null}function Te(K){return Array.isArray(K)?En(K):K||null}function st(K,j){return(De(j)?j.asyncValidators:K)||null}function Et(K){return Array.isArray(K)?vn(K):K||null}function De(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function Me(K,j,L){const ie=K.controls;if(!(j?Object.keys(ie):ie).length)throw new m.vHH(1e3,"");if(!ie[L])throw new m.vHH(1001,"")}function it(K,j,L){K._forEachChild((ie,Pt)=>{if(void 0===L[Pt])throw new m.vHH(1002,"")})}class Ht{constructor(j,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=j,this._rawAsyncValidators=L,this._composedValidatorFn=Te(this._rawValidators),this._composedAsyncValidatorFn=Et(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===Ye}get invalid(){return this.status===Mt}get pending(){return this.status==Yt}get disabled(){return this.status===He}get enabled(){return this.status!==He}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._rawValidators=j,this._composedValidatorFn=Te(j)}setAsyncValidators(j){this._rawAsyncValidators=j,this._composedAsyncValidatorFn=Et(j)}addValidators(j){this.setValidators(dr(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(dr(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(Ln(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(Ln(j,this._rawAsyncValidators))}hasValidator(j){return br(this._rawValidators,j)}hasAsyncValidator(j){return br(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=Yt,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const L=this._parentMarkedDirty(j.onlySelf);this.status=He,this.errors=null,this._forEachChild(ie=>{ie.disable({...j,onlySelf:!0})}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:L}),this._onDisabledChange.forEach(ie=>ie(!0))}enable(j={}){const L=this._parentMarkedDirty(j.onlySelf);this.status=Ye,this._forEachChild(ie=>{ie.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:L}),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ye||this.status===Yt)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?He:Ye}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=Yt,this._hasOwnPendingAsyncValidator=!0;const L=pt(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ie,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,L={}){this.errors=j,this._updateControlsErrors(!1!==L.emitEvent)}get(j){let L=j;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((ie,Pt)=>ie&&ie._find(Pt),this)}getError(j,L){const ie=L?this.get(L):this;return ie&&ie.errors?ie.errors[j]:null}hasError(j,L){return!!this.getError(j,L)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?He:this.errors?Mt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yt)?Yt:this._anyControlsHaveStatus(Mt)?Mt:Ye}_anyControlsHaveStatus(j){return this._anyControls(L=>L.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){De(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}}class dt extends Ht{constructor(j,L,ie){super(Ue(L),st(ie,L)),this.controls=j,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,L){return this.controls[j]?this.controls[j]:(this.controls[j]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(j,L,ie={}){this.registerControl(j,L),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(j,L={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(j,L,ie={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],L&&this.registerControl(j,L),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,L={}){it(this,0,j),Object.keys(j).forEach(ie=>{Me(this,!0,ie),this.controls[ie].setValue(j[ie],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(j,L={}){null!=j&&(Object.keys(j).forEach(ie=>{const Pt=this.controls[ie];Pt&&Pt.patchValue(j[ie],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(j={},L={}){this._forEachChild((ie,Pt)=>{ie.reset(j[Pt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(j,L,ie)=>(j[ie]=L.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(L,ie)=>!!ie._syncPendingControls()||L);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(L=>{const ie=this.controls[L];ie&&j(ie,L)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[L,ie]of Object.entries(this.controls))if(this.contains(L)&&j(ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,ie,Pt)=>((ie.enabled||this.disabled)&&(L[Pt]=ie.value),L))}_reduceChildren(j,L){let ie=j;return this._forEachChild((Pt,An)=>{ie=L(ie,Pt,An)}),ie}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}class er extends dt{}function rr(K,j){return[...j.path,K]}function Ke(K,j){pe(K,j),j.valueAccessor.writeValue(K.value),K.disabled&&j.valueAccessor.setDisabledState?.(!0),function Xe(K,j){j.valueAccessor.registerOnChange(L=>{K._pendingValue=L,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&Qt(K,j)})}(K,j),function yn(K,j){const L=(ie,Pt)=>{j.valueAccessor.writeValue(ie),Pt&&j.viewToModelUpdate(ie)};K.registerOnChange(L),j._registerOnDestroy(()=>{K._unregisterOnChange(L)})}(K,j),function wt(K,j){j.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&Qt(K,j),"submit"!==K.updateOn&&K.markAsTouched()})}(K,j),function Ie(K,j){if(j.valueAccessor.setDisabledState){const L=ie=>{j.valueAccessor.setDisabledState(ie)};K.registerOnDisabledChange(L),j._registerOnDestroy(()=>{K._unregisterOnDisabledChange(L)})}}(K,j)}function Fe(K,j,L=!0){const ie=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(ie),j.valueAccessor.registerOnTouched(ie)),de(K,j),K&&(j._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function Ce(K,j){K.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(j)})}function pe(K,j){const L=Vn(K);null!==j.validator?K.setValidators(Jt(L,j.validator)):"function"==typeof L&&K.setValidators([L]);const ie=Mn(K);null!==j.asyncValidator?K.setAsyncValidators(Jt(ie,j.asyncValidator)):"function"==typeof ie&&K.setAsyncValidators([ie]);const Pt=()=>K.updateValueAndValidity();Ce(j._rawValidators,Pt),Ce(j._rawAsyncValidators,Pt)}function de(K,j){let L=!1;if(null!==K){if(null!==j.validator){const Pt=Vn(K);if(Array.isArray(Pt)&&Pt.length>0){const An=Pt.filter(si=>si!==j.validator);An.length!==Pt.length&&(L=!0,K.setValidators(An))}}if(null!==j.asyncValidator){const Pt=Mn(K);if(Array.isArray(Pt)&&Pt.length>0){const An=Pt.filter(si=>si!==j.asyncValidator);An.length!==Pt.length&&(L=!0,K.setAsyncValidators(An))}}}const ie=()=>{};return Ce(j._rawValidators,ie),Ce(j._rawAsyncValidators,ie),L}function Qt(K,j){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function hn(K,j){pe(K,j)}function yi(K,j){if(!K.hasOwnProperty("model"))return!1;const L=K.model;return!!L.isFirstChange()||!Object.is(j,L.currentValue)}function ii(K,j){K._syncPendingControls(),j.forEach(L=>{const ie=L.control;"submit"===ie.updateOn&&ie._pendingChange&&(L.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}function Sr(K,j){if(!j)return null;let L,ie,Pt;return Array.isArray(j),j.forEach(An=>{An.constructor===lt?L=An:function wi(K){return Object.getPrototypeOf(K.constructor)===je}(An)?ie=An:Pt=An}),Pt||ie||L||null}const Zs={provide:Kn,useExisting:(0,m.Gpc)(()=>Ii)},Fi=(()=>Promise.resolve())();let Ii=(()=>{class K extends Kn{constructor(L,ie){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new dt({},En(L),vn(ie))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){Fi.then(()=>{const ie=this._findContainer(L.path);L.control=ie.registerControl(L.name,L.control),Ke(L.control,L),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){Fi.then(()=>{const ie=this._findContainer(L.path);ie&&ie.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){Fi.then(()=>{const ie=this._findContainer(L.path),Pt=new dt({});hn(Pt,L),ie.registerControl(L.name,Pt),Pt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){Fi.then(()=>{const ie=this._findContainer(L.path);ie&&ie.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,ie){Fi.then(()=>{this.form.get(L.path).setValue(ie)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,ii(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return K.\u0275fac=function(L){return new(L||K)(m.Y36(ct,10),m.Y36(Lt,10))},K.\u0275dir=m.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,ie){1&L&&m.NdJ("submit",function(An){return ie.onSubmit(An)})("reset",function(){return ie.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Zs]),m.qOj]}),K})();function _s(K,j){const L=K.indexOf(j);L>-1&&K.splice(L,1)}function Qr(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const Xr=class extends Ht{constructor(j=null,L,ie){super(Ue(L),st(ie,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),De(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=Qr(j)?j.value:j)}setValue(j,L={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(j,L={}){this.setValue(j,L)}reset(j=this.defaultValue,L={}){this._applyFormState(j),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){_s(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){_s(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){Qr(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}};let cs=(()=>{class K extends Kn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return rr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return K.\u0275fac=function(){let j;return function(ie){return(j||(j=m.n5z(K)))(ie||K)}}(),K.\u0275dir=m.lG2({type:K,features:[m.qOj]}),K})();const Fa={provide:zn,useExisting:(0,m.Gpc)(()=>To)},fa=(()=>Promise.resolve())();let To=(()=>{class K extends zn{constructor(L,ie,Pt,An,si){super(),this._changeDetectorRef=si,this.control=new Xr,this._registered=!1,this.update=new m.vpe,this._parent=L,this._setValidators(ie),this._setAsyncValidators(Pt),this.valueAccessor=Sr(0,An)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const ie=L.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),yi(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ke(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){fa.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const ie=L.isDisabled.currentValue,Pt=0!==ie&&(0,m.D6c)(ie);fa.then(()=>{Pt&&!this.control.disabled?this.control.disable():!Pt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?rr(L,this._parent):[L]}}return K.\u0275fac=function(L){return new(L||K)(m.Y36(Kn,9),m.Y36(ct,10),m.Y36(Lt,10),m.Y36(xe,10),m.Y36(m.sBO,8))},K.\u0275dir=m.lG2({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([Fa]),m.qOj,m.TTD]}),K})(),Xs=(()=>{class K{}return K.\u0275fac=function(L){return new(L||K)},K.\u0275dir=m.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),K})(),St=(()=>{class K{}return K.\u0275fac=function(L){return new(L||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({}),K})();const ar=new m.OlP("NgModelWithFormControlWarning"),Ai={provide:Kn,useExisting:(0,m.Gpc)(()=>Ts)};let Ts=(()=>{class K extends Kn{constructor(L,ie){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(L),this._setAsyncValidators(ie)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(de(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const ie=this.form.get(L.path);return Ke(ie,L),ie.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),ie}getControl(L){return this.form.get(L.path)}removeControl(L){Fe(L.control||null,L,!1),function Ni(K,j){const L=K.indexOf(j);L>-1&&K.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,ie){this.form.get(L.path).setValue(ie)}onSubmit(L){return this.submitted=!0,ii(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const ie=L.control,Pt=this.form.get(L.path);ie!==Pt&&(Fe(ie||null,L),(K=>K instanceof Xr)(Pt)&&(Ke(Pt,L),L.control=Pt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const ie=this.form.get(L.path);hn(ie,L),ie.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const ie=this.form.get(L.path);ie&&function Sn(K,j){return de(K,j)}(ie,L)&&ie.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pe(this.form,this),this._oldForm&&de(this._oldForm,this)}_checkFormPresent(){}}return K.\u0275fac=function(L){return new(L||K)(m.Y36(ct,10),m.Y36(Lt,10))},K.\u0275dir=m.lG2({type:K,selectors:[["","formGroup",""]],hostBindings:function(L,ie){1&L&&m.NdJ("submit",function(An){return ie.onSubmit(An)})("reset",function(){return ie.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Ai]),m.qOj,m.TTD]}),K})();const Cr={provide:Kn,useExisting:(0,m.Gpc)(()=>Gn)};let Gn=(()=>{class K extends cs{constructor(L,ie,Pt){super(),this._parent=L,this._setValidators(ie),this._setAsyncValidators(Pt)}_checkParentType(){pa(this._parent)}}return K.\u0275fac=function(L){return new(L||K)(m.Y36(Kn,13),m.Y36(ct,10),m.Y36(Lt,10))},K.\u0275dir=m.lG2({type:K,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[m._Bn([Cr]),m.qOj]}),K})();const Mi={provide:Kn,useExisting:(0,m.Gpc)(()=>Js)};let Js=(()=>{class K extends Kn{constructor(L,ie,Pt){super(),this._parent=L,this._setValidators(ie),this._setAsyncValidators(Pt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return rr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){pa(this._parent)}}return K.\u0275fac=function(L){return new(L||K)(m.Y36(Kn,13),m.Y36(ct,10),m.Y36(Lt,10))},K.\u0275dir=m.lG2({type:K,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[m._Bn([Mi]),m.qOj]}),K})();function pa(K){return!(K instanceof Gn||K instanceof Ts||K instanceof Js)}const li={provide:zn,useExisting:(0,m.Gpc)(()=>Yi)};let Yi=(()=>{class K extends zn{constructor(L,ie,Pt,An,si){super(),this._ngModelWarningConfig=si,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(ie),this._setAsyncValidators(Pt),this.valueAccessor=Sr(0,An)}set isDisabled(L){}ngOnChanges(L){this._added||this._setUpControl(),yi(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return rr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return K._ngModelWarningSentOnce=!1,K.\u0275fac=function(L){return new(L||K)(m.Y36(Kn,13),m.Y36(ct,10),m.Y36(Lt,10),m.Y36(xe,10),m.Y36(ar,8))},K.\u0275dir=m.lG2({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([li]),m.qOj,m.TTD]}),K})(),lr=(()=>{class K{constructor(){this._validator=Ze}ngOnChanges(L){if(this.inputName in L){const ie=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):Ze,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return K.\u0275fac=function(L){return new(L||K)},K.\u0275dir=m.lG2({type:K,features:[m.TTD]}),K})();const is={provide:ct,useExisting:(0,m.Gpc)(()=>Zo),multi:!0},ci={provide:ct,useExisting:(0,m.Gpc)(()=>ui),multi:!0};let Zo=(()=>{class K extends lr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=m.D6c,this.createValidator=L=>ue}enabled(L){return L}}return K.\u0275fac=function(){let j;return function(ie){return(j||(j=m.n5z(K)))(ie||K)}}(),K.\u0275dir=m.lG2({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,ie){2&L&&m.uIk("required",ie._enabled?"":null)},inputs:{required:"required"},features:[m._Bn([is]),m.qOj]}),K})(),ui=(()=>{class K extends Zo{constructor(){super(...arguments),this.createValidator=L=>Le}}return K.\u0275fac=function(){let j;return function(ie){return(j||(j=m.n5z(K)))(ie||K)}}(),K.\u0275dir=m.lG2({type:K,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(L,ie){2&L&&m.uIk("required",ie._enabled?"":null)},features:[m._Bn([ci]),m.qOj]}),K})(),_a=(()=>{class K{}return K.\u0275fac=function(L){return new(L||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[St]}),K})(),Xi=(()=>{class K{}return K.\u0275fac=function(L){return new(L||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[_a]}),K})(),Ir=(()=>{class K{static withConfig(L){return{ngModule:K,providers:[{provide:ar,useValue:L.warnOnNgModelWithFormControl}]}}}return K.\u0275fac=function(L){return new(L||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[_a]}),K})();class xi extends Ht{constructor(j,L,ie){super(Ue(L),st(ie,L)),this.controls=j,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[this._adjustIndex(j)]}push(j,L={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(j,L,ie={}){this.controls.splice(j,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:ie.emitEvent})}removeAt(j,L={}){let ie=this._adjustIndex(j);ie<0&&(ie=0),this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),this.controls.splice(ie,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(j,L,ie={}){let Pt=this._adjustIndex(j);Pt<0&&(Pt=0),this.controls[Pt]&&this.controls[Pt]._registerOnCollectionChange(()=>{}),this.controls.splice(Pt,1),L&&(this.controls.splice(Pt,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,L={}){it(this,0,j),j.forEach((ie,Pt)=>{Me(this,!1,Pt),this.at(Pt).setValue(ie,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(j,L={}){null!=j&&(j.forEach((ie,Pt)=>{this.at(Pt)&&this.at(Pt).patchValue(ie,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(j=[],L={}){this._forEachChild((ie,Pt)=>{ie.reset(j[Pt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(j=>j.getRawValue())}clear(j={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_adjustIndex(j){return j<0?j+this.length:j}_syncPendingControls(){let j=this.controls.reduce((L,ie)=>!!ie._syncPendingControls()||L,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){this.controls.forEach((L,ie)=>{j(L,ie)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(L=>L.enabled&&j(L))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}_find(j){return this.at(j)??null}}function rn(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let ir=(()=>{class K{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new K;return L.useNonNullable=!0,L}group(L,ie=null){const Pt=this._reduceControls(L);let An={};return rn(ie)?An=ie:null!==ie&&(An.validators=ie.validator,An.asyncValidators=ie.asyncValidator),new dt(Pt,An)}record(L,ie=null){const Pt=this._reduceControls(L);return new er(Pt,ie)}control(L,ie,Pt){let An={};return this.useNonNullable?(rn(ie)?An=ie:(An.validators=ie,An.asyncValidators=Pt),new Xr(L,{...An,nonNullable:!0})):new Xr(L,ie,Pt)}array(L,ie,Pt){const An=L.map(si=>this._createControl(si));return new xi(An,ie,Pt)}_reduceControls(L){const ie={};return Object.keys(L).forEach(Pt=>{ie[Pt]=this._createControl(L[Pt])}),ie}_createControl(L){return L instanceof Xr||L instanceof Ht?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}}return K.\u0275fac=function(L){return new(L||K)},K.\u0275prov=m.Yz7({token:K,factory:K.\u0275fac,providedIn:Ir}),K})()},4859:(dn,ot,A)=>{A.d(ot,{lW:()=>ae,ot:()=>me});var m=A(4650),k=A(3238),b=A(2687);const ee=["mat-button",""],Ee=["*"],xe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Oe=(0,k.pj)((0,k.Id)((0,k.Kr)(class{constructor(at){this._elementRef=at}})));let ae=(()=>{class at extends Oe{constructor(Je,bt,ut){super(Je),this._focusMonitor=bt,this._animationMode=ut,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const ct of xe)this._hasHostAttributes(ct)&&this._getHostElement().classList.add(ct);Je.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Je,bt){Je?this._focusMonitor.focusVia(this._getHostElement(),Je,bt):this._getHostElement().focus(bt)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...Je){return Je.some(bt=>this._getHostElement().hasAttribute(bt))}}return at.\u0275fac=function(Je){return new(Je||at)(m.Y36(m.SBq),m.Y36(b.tE),m.Y36(m.QbO,8))},at.\u0275cmp=m.Xpm({type:at,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(Je,bt){if(1&Je&&m.Gf(k.wG,5),2&Je){let ut;m.iGM(ut=m.CRH())&&(bt.ripple=ut.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(Je,bt){2&Je&&(m.uIk("disabled",bt.disabled||null),m.ekj("_mat-animation-noopable","NoopAnimations"===bt._animationMode)("mat-button-disabled",bt.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[m.qOj],attrs:ee,ngContentSelectors:Ee,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Je,bt){1&Je&&(m.F$t(),m.TgZ(0,"span",0),m.Hsn(1),m.qZA(),m._UZ(2,"span",1)(3,"span",2)),2&Je&&(m.xp6(2),m.ekj("mat-button-ripple-round",bt.isRoundButton||bt.isIconButton),m.Q6J("matRippleDisabled",bt._isRippleDisabled())("matRippleCentered",bt.isIconButton)("matRippleTrigger",bt._getHostElement()))},dependencies:[k.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),at})(),me=(()=>{class at{}return at.\u0275fac=function(Je){return new(Je||at)},at.\u0275mod=m.oAB({type:at}),at.\u0275inj=m.cJS({imports:[k.si,k.BQ,k.BQ]}),at})()},3546:(dn,ot,A)=>{A.d(ot,{$j:()=>ye,QW:()=>ge,a8:()=>Tt,dk:()=>ze,dn:()=>Oe,n5:()=>ae});var m=A(4650),k=A(3238);const b=["*",[["mat-card-footer"]]],ee=["*","mat-card-footer"],Ee=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],se=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let Oe=(()=>{class ue{}return ue.\u0275fac=function(R){return new(R||ue)},ue.\u0275dir=m.lG2({type:ue,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),ue})(),ae=(()=>{class ue{}return ue.\u0275fac=function(R){return new(R||ue)},ue.\u0275dir=m.lG2({type:ue,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),ue})(),ye=(()=>{class ue{}return ue.\u0275fac=function(R){return new(R||ue)},ue.\u0275dir=m.lG2({type:ue,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),ue})(),Tt=(()=>{class ue{constructor(R){this._animationMode=R}}return ue.\u0275fac=function(R){return new(R||ue)(m.Y36(m.QbO,8))},ue.\u0275cmp=m.Xpm({type:ue,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(R,Pe){2&R&&m.ekj("_mat-animation-noopable","NoopAnimations"===Pe._animationMode)},exportAs:["matCard"],ngContentSelectors:ee,decls:2,vars:0,template:function(R,Pe){1&R&&(m.F$t(b),m.Hsn(0),m.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),ue})(),ze=(()=>{class ue{}return ue.\u0275fac=function(R){return new(R||ue)},ue.\u0275cmp=m.Xpm({type:ue,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:se,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(R,Pe){1&R&&(m.F$t(Ee),m.Hsn(0),m.TgZ(1,"div",0),m.Hsn(2,1),m.qZA(),m.Hsn(3,2))},encapsulation:2,changeDetection:0}),ue})(),ge=(()=>{class ue{}return ue.\u0275fac=function(R){return new(R||ue)},ue.\u0275mod=m.oAB({type:ue}),ue.\u0275inj=m.cJS({imports:[k.BQ,k.BQ]}),ue})()},6709:(dn,ot,A)=>{A.d(ot,{oG:()=>Lt,p9:()=>ge});var m=A(2687),k=A(1281),b=A(4650),ee=A(4006),Ee=A(3238),se=A(9643);const je=["input"],xe=["label"],Oe=function(ue){return{enterDuration:ue}},ae=["*"],ye=new b.OlP("mat-checkbox-default-options",{providedIn:"root",factory:me});function me(){return{color:"accent",clickAction:"check-indeterminate"}}let at=0;const lt=me(),Je={provide:ee.JU,useExisting:(0,b.Gpc)(()=>Lt),multi:!0};class bt{}const ut=(0,Ee.sb)((0,Ee.pj)((0,Ee.Kr)((0,Ee.Id)(class{constructor(ue){this._elementRef=ue}}))));let ct=(()=>{class ue extends ut{constructor(R,Pe,ke,we,Ze,ve,pt){super(Pe),this._changeDetectorRef=ke,this._ngZone=we,this._animationMode=ve,this._options=pt,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new b.vpe,this.indeterminateChange=new b.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||lt,this.color=this.defaultColor=this._options.color||lt.color,this.tabIndex=parseInt(Ze)||0,this.id=this._uniqueId=`${R}${++at}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(R){this._required=(0,k.Ig)(R)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(R){const Pe=(0,k.Ig)(R);Pe!=this.checked&&(this._checked=Pe,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(R){const Pe=(0,k.Ig)(R);Pe!==this.disabled&&(this._disabled=Pe,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(R){const Pe=R!=this._indeterminate;this._indeterminate=(0,k.Ig)(R),Pe&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(R){this.checked=!!R}registerOnChange(R){this._controlValueAccessorChangeFn=R}registerOnTouched(R){this._onTouched=R}setDisabledState(R){this.disabled=R}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(R){let Pe=this._currentCheckState,ke=this._getAnimationTargetElement();if(Pe!==R&&ke&&(this._currentAnimationClass&&ke.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(Pe,R),this._currentCheckState=R,this._currentAnimationClass.length>0)){ke.classList.add(this._currentAnimationClass);const we=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{ke.classList.remove(we)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const R=this._options?.clickAction;this.disabled||"noop"===R?!this.disabled&&"noop"===R&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==R&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(R){R.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(R,Pe){if("NoopAnimations"===this._animationMode)return"";switch(R){case 0:if(1===Pe)return this._animationClasses.uncheckedToChecked;if(3==Pe)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===Pe?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===Pe?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===Pe?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(R){const Pe=this._inputElement;Pe&&(Pe.nativeElement.indeterminate=R)}}return ue.\u0275fac=function(R){b.$Z()},ue.\u0275dir=b.lG2({type:ue,viewQuery:function(R,Pe){if(1&R&&(b.Gf(je,5),b.Gf(xe,5),b.Gf(Ee.wG,5)),2&R){let ke;b.iGM(ke=b.CRH())&&(Pe._inputElement=ke.first),b.iGM(ke=b.CRH())&&(Pe._labelElement=ke.first),b.iGM(ke=b.CRH())&&(Pe.ripple=ke.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[b.qOj]}),ue})(),Lt=(()=>{class ue extends ct{constructor(R,Pe,ke,we,Ze,ve,pt){super("mat-checkbox-",R,Pe,we,Ze,ve,pt),this._focusMonitor=ke,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(R){const Pe=new bt;return Pe.source=this,Pe.checked=R,Pe}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(R=>{R||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(R){R.stopPropagation(),super._handleInputClick()}focus(R,Pe){R?this._focusMonitor.focusVia(this._inputElement,R,Pe):this._inputElement.nativeElement.focus(Pe)}}return ue.\u0275fac=function(R){return new(R||ue)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(m.tE),b.Y36(b.R0b),b.$8M("tabindex"),b.Y36(b.QbO,8),b.Y36(ye,8))},ue.\u0275cmp=b.Xpm({type:ue,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(R,Pe){2&R&&(b.Ikx("id",Pe.id),b.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),b.ekj("mat-checkbox-indeterminate",Pe.indeterminate)("mat-checkbox-checked",Pe.checked)("mat-checkbox-disabled",Pe.disabled)("mat-checkbox-label-before","before"==Pe.labelPosition)("_mat-animation-noopable","NoopAnimations"===Pe._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[b._Bn([Je]),b.qOj],ngContentSelectors:ae,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(R,Pe){if(1&R&&(b.F$t(),b.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),b.NdJ("change",function(we){return Pe._onInteractionEvent(we)})("click",function(we){return Pe._onInputClick(we)}),b.qZA(),b.TgZ(5,"span",5),b._UZ(6,"span",6),b.qZA(),b._UZ(7,"span",7),b.TgZ(8,"span",8),b.O4$(),b.TgZ(9,"svg",9),b._UZ(10,"path",10),b.qZA(),b.kcU(),b._UZ(11,"span",11),b.qZA()(),b.TgZ(12,"span",12,13),b.NdJ("cdkObserveContent",function(){return Pe._onLabelTextChange()}),b.TgZ(14,"span",14),b._uU(15,"\xa0"),b.qZA(),b.Hsn(16),b.qZA()()),2&R){const ke=b.MAs(1),we=b.MAs(13);b.uIk("for",Pe.inputId),b.xp6(2),b.ekj("mat-checkbox-inner-container-no-side-margin",!we.textContent||!we.textContent.trim()),b.xp6(1),b.Q6J("id",Pe.inputId)("required",Pe.required)("checked",Pe.checked)("disabled",Pe.disabled)("tabIndex",Pe.tabIndex),b.uIk("value",Pe.value)("name",Pe.name)("aria-label",Pe.ariaLabel||null)("aria-labelledby",Pe.ariaLabelledby)("aria-checked",Pe._getAriaChecked())("aria-describedby",Pe.ariaDescribedby),b.xp6(2),b.Q6J("matRippleTrigger",ke)("matRippleDisabled",Pe._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",b.VKq(19,Oe,"NoopAnimations"===Pe._animationMode?0:150))}},dependencies:[Ee.wG,se.wD],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),ue})(),Se=(()=>{class ue{}return ue.\u0275fac=function(R){return new(R||ue)},ue.\u0275mod=b.oAB({type:ue}),ue.\u0275inj=b.cJS({}),ue})(),ge=(()=>{class ue{}return ue.\u0275fac=function(R){return new(R||ue)},ue.\u0275mod=b.oAB({type:ue}),ue.\u0275inj=b.cJS({imports:[Ee.si,Ee.BQ,se.Q8,Se,Ee.BQ,Se]}),ue})()},3238:(dn,ot,A)=>{A.d(ot,{rD:()=>Jt,K7:()=>Ne,HF:()=>J,BQ:()=>Tt,ey:()=>It,Ng:()=>sn,wG:()=>Jn,si:()=>be,CB:()=>Nt,jH:()=>mn,pj:()=>Le,Kr:()=>R,Id:()=>ue,FD:()=>ke,sb:()=>Pe});var m=A(4650),k=A(2687),b=A(445),Ee=A(6895),se=A(3353),je=A(1281),xe=A(7579),Oe=A(9521);function me(vt,et){if(1&vt&&m._UZ(0,"mat-pseudo-checkbox",4),2&vt){const Ye=m.oxw();m.Q6J("state",Ye.selected?"checked":"unchecked")("disabled",Ye.disabled)}}function at(vt,et){if(1&vt&&(m.TgZ(0,"span",5),m._uU(1),m.qZA()),2&vt){const Ye=m.oxw();m.xp6(1),m.hij("(",Ye.group.label,")")}}const lt=["*"],Lt=new m.OlP("mat-sanity-checks",{providedIn:"root",factory:function ct(){return!0}});let Tt=(()=>{class vt{constructor(Ye,Mt,Yt){this._sanityChecks=Mt,this._document=Yt,this._hasDoneGlobalChecks=!1,Ye._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Ye){return!(0,se.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Ye])}}return vt.\u0275fac=function(Ye){return new(Ye||vt)(m.LFG(k.qm),m.LFG(Lt,8),m.LFG(Ee.K0))},vt.\u0275mod=m.oAB({type:vt}),vt.\u0275inj=m.cJS({imports:[b.vT,b.vT]}),vt})();function ue(vt){return class extends vt{constructor(...et){super(...et),this._disabled=!1}get disabled(){return this._disabled}set disabled(et){this._disabled=(0,je.Ig)(et)}}}function Le(vt,et){return class extends vt{constructor(...Ye){super(...Ye),this.defaultColor=et,this.color=et}get color(){return this._color}set color(Ye){const Mt=Ye||this.defaultColor;Mt!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Mt&&this._elementRef.nativeElement.classList.add(`mat-${Mt}`),this._color=Mt)}}}function R(vt){return class extends vt{constructor(...et){super(...et),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(et){this._disableRipple=(0,je.Ig)(et)}}}function Pe(vt,et=0){return class extends vt{constructor(...Ye){super(...Ye),this._tabIndex=et,this.defaultTabIndex=et}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Ye){this._tabIndex=null!=Ye?(0,je.su)(Ye):this.defaultTabIndex}}}function ke(vt){return class extends vt{constructor(...et){super(...et),this.errorState=!1}updateErrorState(){const et=this.errorState,He=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);He!==et&&(this.errorState=He,this.stateChanges.next())}}}let Jt=(()=>{class vt{isErrorState(Ye,Mt){return!!(Ye&&Ye.invalid&&(Ye.touched||Mt&&Mt.submitted))}}return vt.\u0275fac=function(Ye){return new(Ye||vt)},vt.\u0275prov=m.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),vt})();class dr{constructor(et,Ye,Mt,Yt=!1){this._renderer=et,this.element=Ye,this.config=Mt,this._animationForciblyDisabledThroughCss=Yt,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ln={enterDuration:225,exitDuration:150},Kn=(0,se.i$)({passive:!0}),zn=["mousedown","touchstart"],hr=["mouseup","mouseleave","touchend","touchcancel"];class Hn{constructor(et,Ye,Mt,Yt){this._target=et,this._ngZone=Ye,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Yt.isBrowser&&(this._containerElement=(0,je.fI)(Mt))}fadeInRipple(et,Ye,Mt={}){const Yt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),He={...Ln,...Mt.animation};Mt.centered&&(et=Yt.left+Yt.width/2,Ye=Yt.top+Yt.height/2);const Ue=Mt.radius||function Xn(vt,et,Ye){const Mt=Math.max(Math.abs(vt-Ye.left),Math.abs(vt-Ye.right)),Yt=Math.max(Math.abs(et-Ye.top),Math.abs(et-Ye.bottom));return Math.sqrt(Mt*Mt+Yt*Yt)}(et,Ye,Yt),Te=et-Yt.left,st=Ye-Yt.top,Et=He.enterDuration,De=document.createElement("div");De.classList.add("mat-ripple-element"),De.style.left=Te-Ue+"px",De.style.top=st-Ue+"px",De.style.height=2*Ue+"px",De.style.width=2*Ue+"px",null!=Mt.color&&(De.style.backgroundColor=Mt.color),De.style.transitionDuration=`${Et}ms`,this._containerElement.appendChild(De);const Me=window.getComputedStyle(De),Ht=Me.transitionDuration,dt="none"===Me.transitionProperty||"0s"===Ht||"0s, 0s"===Ht,gn=new dr(this,De,Mt,dt);De.style.transform="scale3d(1, 1, 1)",gn.state=0,Mt.persistent||(this._mostRecentTransientRipple=gn);let On=null;return!dt&&(Et||He.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const er=()=>this._finishRippleTransition(gn),fr=()=>this._destroyRipple(gn);De.addEventListener("transitionend",er),De.addEventListener("transitioncancel",fr),On={onTransitionEnd:er,onTransitionCancel:fr}}),this._activeRipples.set(gn,On),(dt||!Et)&&this._finishRippleTransition(gn),gn}fadeOutRipple(et){if(2===et.state||3===et.state)return;const Ye=et.element,Mt={...Ln,...et.config.animation};Ye.style.transitionDuration=`${Mt.exitDuration}ms`,Ye.style.opacity="0",et.state=2,(et._animationForciblyDisabledThroughCss||!Mt.exitDuration)&&this._finishRippleTransition(et)}fadeOutAll(){this._getActiveRipples().forEach(et=>et.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(et=>{et.config.persistent||et.fadeOut()})}setupTriggerEvents(et){const Ye=(0,je.fI)(et);!Ye||Ye===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Ye,this._registerEvents(zn))}handleEvent(et){"mousedown"===et.type?this._onMousedown(et):"touchstart"===et.type?this._onTouchStart(et):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hr),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(et){0===et.state?this._startFadeOutTransition(et):2===et.state&&this._destroyRipple(et)}_startFadeOutTransition(et){const Ye=et===this._mostRecentTransientRipple,{persistent:Mt}=et.config;et.state=1,!Mt&&(!Ye||!this._isPointerDown)&&et.fadeOut()}_destroyRipple(et){const Ye=this._activeRipples.get(et)??null;this._activeRipples.delete(et),this._activeRipples.size||(this._containerRect=null),et===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),et.state=3,null!==Ye&&(et.element.removeEventListener("transitionend",Ye.onTransitionEnd),et.element.removeEventListener("transitioncancel",Ye.onTransitionCancel)),et.element.remove()}_onMousedown(et){const Ye=(0,k.X6)(et),Mt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Ye&&!Mt&&(this._isPointerDown=!0,this.fadeInRipple(et.clientX,et.clientY,this._target.rippleConfig))}_onTouchStart(et){if(!this._target.rippleDisabled&&!(0,k.yG)(et)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Ye=et.changedTouches;for(let Mt=0;Mt<Ye.length;Mt++)this.fadeInRipple(Ye[Mt].clientX,Ye[Mt].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(et=>{!et.config.persistent&&(1===et.state||et.config.terminateOnPointerUp&&0===et.state)&&et.fadeOut()}))}_registerEvents(et){this._ngZone.runOutsideAngular(()=>{et.forEach(Ye=>{this._triggerElement.addEventListener(Ye,this,Kn)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(zn.forEach(et=>{this._triggerElement.removeEventListener(et,this,Kn)}),this._pointerUpEventsRegistered&&hr.forEach(et=>{this._triggerElement.removeEventListener(et,this,Kn)}))}}const tn=new m.OlP("mat-ripple-global-options");let Jn=(()=>{class vt{constructor(Ye,Mt,Yt,He,Ue){this._elementRef=Ye,this._animationMode=Ue,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=He||{},this._rippleRenderer=new Hn(this,Mt,Ye,Yt)}get disabled(){return this._disabled}set disabled(Ye){Ye&&this.fadeOutAllNonPersistent(),this._disabled=Ye,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Ye){this._trigger=Ye,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Ye,Mt=0,Yt){return"number"==typeof Ye?this._rippleRenderer.fadeInRipple(Ye,Mt,{...this.rippleConfig,...Yt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Ye})}}return vt.\u0275fac=function(Ye){return new(Ye||vt)(m.Y36(m.SBq),m.Y36(m.R0b),m.Y36(se.t4),m.Y36(tn,8),m.Y36(m.QbO,8))},vt.\u0275dir=m.lG2({type:vt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Ye,Mt){2&Ye&&m.ekj("mat-ripple-unbounded",Mt.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),vt})(),be=(()=>{class vt{}return vt.\u0275fac=function(Ye){return new(Ye||vt)},vt.\u0275mod=m.oAB({type:vt}),vt.\u0275inj=m.cJS({imports:[Tt,Tt]}),vt})(),Z=(()=>{class vt{constructor(Ye){this._animationMode=Ye,this.state="unchecked",this.disabled=!1}}return vt.\u0275fac=function(Ye){return new(Ye||vt)(m.Y36(m.QbO,8))},vt.\u0275cmp=m.Xpm({type:vt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(Ye,Mt){2&Ye&&m.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Mt.state)("mat-pseudo-checkbox-checked","checked"===Mt.state)("mat-pseudo-checkbox-disabled",Mt.disabled)("_mat-animation-noopable","NoopAnimations"===Mt._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(Ye,Mt){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),vt})(),H=(()=>{class vt{}return vt.\u0275fac=function(Ye){return new(Ye||vt)},vt.\u0275mod=m.oAB({type:vt}),vt.\u0275inj=m.cJS({imports:[Tt]}),vt})();const J=new m.OlP("MAT_OPTION_PARENT_COMPONENT"),Ne=new m.OlP("MatOptgroup");let q=0;class te{constructor(et,Ye=!1){this.source=et,this.isUserInput=Ye}}let qe=(()=>{class vt{constructor(Ye,Mt,Yt,He){this._element=Ye,this._changeDetectorRef=Mt,this._parent=Yt,this.group=He,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+q++,this.onSelectionChange=new m.vpe,this._stateChanges=new xe.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Ye){this._disabled=(0,je.Ig)(Ye)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(Ye,Mt){const Yt=this._getHostElement();"function"==typeof Yt.focus&&Yt.focus(Mt)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Ye){(Ye.keyCode===Oe.K5||Ye.keyCode===Oe.L_)&&!(0,Oe.Vb)(Ye)&&(this._selectViaInteraction(),Ye.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Ye=this.viewValue;Ye!==this._mostRecentViewValue&&(this._mostRecentViewValue=Ye,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Ye=!1){this.onSelectionChange.emit(new te(this,Ye))}}return vt.\u0275fac=function(Ye){m.$Z()},vt.\u0275dir=m.lG2({type:vt,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),vt})(),It=(()=>{class vt extends qe{constructor(Ye,Mt,Yt,He){super(Ye,Mt,Yt,He)}}return vt.\u0275fac=function(Ye){return new(Ye||vt)(m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(J,8),m.Y36(Ne,8))},vt.\u0275cmp=m.Xpm({type:vt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(Ye,Mt){1&Ye&&m.NdJ("click",function(){return Mt._selectViaInteraction()})("keydown",function(He){return Mt._handleKeydown(He)}),2&Ye&&(m.Ikx("id",Mt.id),m.uIk("tabindex",Mt._getTabIndex())("aria-selected",Mt._getAriaSelected())("aria-disabled",Mt.disabled.toString()),m.ekj("mat-selected",Mt.selected)("mat-option-multiple",Mt.multiple)("mat-active",Mt.active)("mat-option-disabled",Mt.disabled))},exportAs:["matOption"],features:[m.qOj],ngContentSelectors:lt,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(Ye,Mt){1&Ye&&(m.F$t(),m.YNc(0,me,1,2,"mat-pseudo-checkbox",0),m.TgZ(1,"span",1),m.Hsn(2),m.qZA(),m.YNc(3,at,2,1,"span",2),m._UZ(4,"div",3)),2&Ye&&(m.Q6J("ngIf",Mt.multiple),m.xp6(3),m.Q6J("ngIf",Mt.group&&Mt.group._inert),m.xp6(1),m.Q6J("matRippleTrigger",Mt._getHostElement())("matRippleDisabled",Mt.disabled||Mt.disableRipple))},dependencies:[Jn,Ee.O5,Z],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),vt})();function Nt(vt,et,Ye){if(Ye.length){let Mt=et.toArray(),Yt=Ye.toArray(),He=0;for(let Ue=0;Ue<vt+1;Ue++)Mt[Ue].group&&Mt[Ue].group===Yt[He]&&He++;return He}return 0}function mn(vt,et,Ye,Mt){return vt<Ye?vt:vt+et>Ye+Mt?Math.max(0,vt-Mt+et):Ye}let sn=(()=>{class vt{}return vt.\u0275fac=function(Ye){return new(Ye||vt)},vt.\u0275mod=m.oAB({type:vt}),vt.\u0275inj=m.cJS({imports:[be,Ee.ez,Tt,H]}),vt})()},5412:(dn,ot,A)=>{A.d(ot,{WI:()=>vn,Bq:()=>Jt,uw:()=>Un,H8:()=>Xn,ZT:()=>zn,xY:()=>Hn,Is:()=>Jn,so:()=>En,uh:()=>hr});var m=A(2687),k=A(8184),b=A(3353),ee=A(4080),Ee=A(6895),se=A(4650),je=A(9521),xe=A(7579),Oe=A(9770),ae=A(9646),ye=A(445),me=A(8675);function at(be,Z){}class lt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let bt=(()=>{class be extends ee.en{constructor(H,J,Ve,rt,Ot,Ne,_e,q){super(),this._elementRef=H,this._focusTrapFactory=J,this._config=rt,this._interactivityChecker=Ot,this._ngZone=Ne,this._overlayRef=_e,this._focusMonitor=q,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=te=>{this._portalOutlet.hasAttached();const qe=this._portalOutlet.attachDomPortal(te);return this._contentAttached(),qe},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=Ve}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(H){this._portalOutlet.hasAttached();const J=this._portalOutlet.attachComponentPortal(H);return this._contentAttached(),J}attachTemplatePortal(H){this._portalOutlet.hasAttached();const J=this._portalOutlet.attachTemplatePortal(H);return this._contentAttached(),J}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(H,J){this._interactivityChecker.isFocusable(H)||(H.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Ve=()=>{H.removeEventListener("blur",Ve),H.removeEventListener("mousedown",Ve),H.removeAttribute("tabindex")};H.addEventListener("blur",Ve),H.addEventListener("mousedown",Ve)})),H.focus(J)}_focusByCssSelector(H,J){let Ve=this._elementRef.nativeElement.querySelector(H);Ve&&this._forceFocus(Ve,J)}_trapFocus(){const H=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||H.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(J=>{J||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const H=this._config.restoreFocus;let J=null;if("string"==typeof H?J=this._document.querySelector(H):"boolean"==typeof H?J=H?this._elementFocusedBeforeDialogWasOpened:null:H&&(J=H),this._config.restoreFocus&&J&&"function"==typeof J.focus){const Ve=(0,b.ht)(),rt=this._elementRef.nativeElement;(!Ve||Ve===this._document.body||Ve===rt||rt.contains(Ve))&&(this._focusMonitor?(this._focusMonitor.focusVia(J,this._closeInteractionType),this._closeInteractionType=null):J.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const H=this._elementRef.nativeElement,J=(0,b.ht)();return H===J||H.contains(J)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,b.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return be.\u0275fac=function(H){return new(H||be)(se.Y36(se.SBq),se.Y36(m.qV),se.Y36(Ee.K0,8),se.Y36(lt),se.Y36(m.ic),se.Y36(se.R0b),se.Y36(k.Iu),se.Y36(m.tE))},be.\u0275cmp=se.Xpm({type:be,selectors:[["cdk-dialog-container"]],viewQuery:function(H,J){if(1&H&&se.Gf(ee.Pl,7),2&H){let Ve;se.iGM(Ve=se.CRH())&&(J._portalOutlet=Ve.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(H,J){2&H&&se.uIk("id",J._config.id||null)("role",J._config.role)("aria-modal",J._config.ariaModal)("aria-labelledby",J._config.ariaLabel?null:J._ariaLabelledBy)("aria-label",J._config.ariaLabel)("aria-describedby",J._config.ariaDescribedBy||null)},features:[se.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(H,J){1&H&&se.YNc(0,at,0,0,"ng-template",0)},dependencies:[ee.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),be})();class ut{constructor(Z,H){this.overlayRef=Z,this.config=H,this.closed=new xe.x,this.disableClose=H.disableClose,this.backdropClick=Z.backdropClick(),this.keydownEvents=Z.keydownEvents(),this.outsidePointerEvents=Z.outsidePointerEvents(),this.id=H.id,this.keydownEvents.subscribe(J=>{J.keyCode===je.hY&&!this.disableClose&&!(0,je.Vb)(J)&&(J.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(Z,H){if(this.containerInstance){const J=this.closed;this.containerInstance._closeInteractionType=H?.focusOrigin||"program",this.overlayRef.dispose(),J.next(Z),J.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Z="",H=""){return this.overlayRef.updateSize({width:Z,height:H}),this}addPanelClass(Z){return this.overlayRef.addPanelClass(Z),this}removePanelClass(Z){return this.overlayRef.removePanelClass(Z),this}}const ct=new se.OlP("DialogScrollStrategy"),Lt=new se.OlP("DialogData"),Tt=new se.OlP("DefaultDialogConfig"),Se={provide:ct,deps:[k.aV],useFactory:function ze(be){return()=>be.scrollStrategies.block()}};let ge=0,ue=(()=>{class be{constructor(H,J,Ve,rt,Ot,Ne){this._overlay=H,this._injector=J,this._defaultOptions=Ve,this._parentDialog=rt,this._overlayContainer=Ot,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new xe.x,this._afterOpenedAtThisLevel=new xe.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Oe.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,me.O)(void 0))),this._scrollStrategy=Ne}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(H,J){(J={...this._defaultOptions||new lt,...J}).id=J.id||"cdk-dialog-"+ge++,J.id&&this.getDialogById(J.id);const rt=this._getOverlayConfig(J),Ot=this._overlay.create(rt),Ne=new ut(Ot,J),_e=this._attachContainer(Ot,Ne,J);return Ne.containerInstance=_e,this._attachDialogContent(H,Ne,_e,J),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Ne),Ne.closed.subscribe(()=>this._removeOpenDialog(Ne,!0)),this.afterOpened.next(Ne),Ne}closeAll(){Le(this.openDialogs,H=>H.close())}getDialogById(H){return this.openDialogs.find(J=>J.id===H)}ngOnDestroy(){Le(this._openDialogsAtThisLevel,H=>{!1===H.config.closeOnDestroy&&this._removeOpenDialog(H,!1)}),Le(this._openDialogsAtThisLevel,H=>H.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(H){const J=new k.X_({positionStrategy:H.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:H.scrollStrategy||this._scrollStrategy(),panelClass:H.panelClass,hasBackdrop:H.hasBackdrop,direction:H.direction,minWidth:H.minWidth,minHeight:H.minHeight,maxWidth:H.maxWidth,maxHeight:H.maxHeight,width:H.width,height:H.height,disposeOnNavigation:H.closeOnNavigation});return H.backdropClass&&(J.backdropClass=H.backdropClass),J}_attachContainer(H,J,Ve){const rt=Ve.injector||Ve.viewContainerRef?.injector,Ot=[{provide:lt,useValue:Ve},{provide:ut,useValue:J},{provide:k.Iu,useValue:H}];let Ne;Ve.container?"function"==typeof Ve.container?Ne=Ve.container:(Ne=Ve.container.type,Ot.push(...Ve.container.providers(Ve))):Ne=bt;const _e=new ee.C5(Ne,Ve.viewContainerRef,se.zs3.create({parent:rt||this._injector,providers:Ot}),Ve.componentFactoryResolver);return H.attach(_e).instance}_attachDialogContent(H,J,Ve,rt){if(H instanceof se.Rgc){const Ot=this._createInjector(rt,J,Ve,void 0);let Ne={$implicit:rt.data,dialogRef:J};rt.templateContext&&(Ne={...Ne,..."function"==typeof rt.templateContext?rt.templateContext():rt.templateContext}),Ve.attachTemplatePortal(new ee.UE(H,null,Ne,Ot))}else{const Ot=this._createInjector(rt,J,Ve,this._injector),Ne=Ve.attachComponentPortal(new ee.C5(H,rt.viewContainerRef,Ot,rt.componentFactoryResolver));J.componentInstance=Ne.instance}}_createInjector(H,J,Ve,rt){const Ot=H.injector||H.viewContainerRef?.injector,Ne=[{provide:Lt,useValue:H.data},{provide:ut,useValue:J}];return H.providers&&("function"==typeof H.providers?Ne.push(...H.providers(J,H,Ve)):Ne.push(...H.providers)),H.direction&&(!Ot||!Ot.get(ye.Is,null,se.XFs.Optional))&&Ne.push({provide:ye.Is,useValue:{value:H.direction,change:(0,ae.of)()}}),se.zs3.create({parent:Ot||rt,providers:Ne})}_removeOpenDialog(H,J){const Ve=this.openDialogs.indexOf(H);Ve>-1&&(this.openDialogs.splice(Ve,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((rt,Ot)=>{rt?Ot.setAttribute("aria-hidden",rt):Ot.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),J&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const H=this._overlayContainer.getContainerElement();if(H.parentElement){const J=H.parentElement.children;for(let Ve=J.length-1;Ve>-1;Ve--){const rt=J[Ve];rt!==H&&"SCRIPT"!==rt.nodeName&&"STYLE"!==rt.nodeName&&!rt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(rt,rt.getAttribute("aria-hidden")),rt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const H=this._parentDialog;return H?H._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return be.\u0275fac=function(H){return new(H||be)(se.LFG(k.aV),se.LFG(se.zs3),se.LFG(Tt,8),se.LFG(be,12),se.LFG(k.Xj),se.LFG(ct))},be.\u0275prov=se.Yz7({token:be,factory:be.\u0275fac}),be})();function Le(be,Z){let H=be.length;for(;H--;)Z(be[H])}let R=(()=>{class be{}return be.\u0275fac=function(H){return new(H||be)},be.\u0275mod=se.oAB({type:be}),be.\u0275inj=se.cJS({providers:[ue,Se],imports:[k.U8,ee.eL,m.rt,ee.eL]}),be})();var Pe=A(3238),ke=A(6451),we=A(9300),Ze=A(5698),ve=A(7340);function pt(be,Z){}const Dt={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},$t={dialogContainer:(0,ve.X$)("dialogContainer",[(0,ve.SB)("void, exit",(0,ve.oB)({opacity:0,transform:"scale(0.7)"})),(0,ve.SB)("enter",(0,ve.oB)({transform:"none"})),(0,ve.eR)("* => enter",(0,ve.ru)([(0,ve.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,ve.oB)({transform:"none",opacity:1})),(0,ve.IO)("@*",(0,ve.pV)(),{optional:!0})]),Dt),(0,ve.eR)("* => void, * => exit",(0,ve.ru)([(0,ve.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,ve.oB)({opacity:0})),(0,ve.IO)("@*",(0,ve.pV)(),{optional:!0})]),Dt)])};class en{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Dt.params.enterAnimationDuration,this.exitAnimationDuration=Dt.params.exitAnimationDuration}}let Zt=(()=>{class be extends bt{constructor(H,J,Ve,rt,Ot,Ne,_e,q){super(H,J,Ve,rt,Ot,Ne,_e,q),this._animationStateChanged=new se.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(H){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:H})}}return be.\u0275fac=function(H){return new(H||be)(se.Y36(se.SBq),se.Y36(m.qV),se.Y36(Ee.K0,8),se.Y36(en),se.Y36(m.ic),se.Y36(se.R0b),se.Y36(k.Iu),se.Y36(m.tE))},be.\u0275cmp=se.Xpm({type:be,selectors:[["ng-component"]],features:[se.qOj],decls:0,vars:0,template:function(H,J){},encapsulation:2}),be})(),qt=(()=>{class be extends Zt{constructor(H,J,Ve,rt,Ot,Ne,_e,q,te){super(H,J,Ve,rt,Ot,Ne,_e,te),this._changeDetectorRef=q,this._state="enter"}_onAnimationDone({toState:H,totalTime:J}){"enter"===H?this._openAnimationDone(J):"exit"===H&&this._animationStateChanged.next({state:"closed",totalTime:J})}_onAnimationStart({toState:H,totalTime:J}){"enter"===H?this._animationStateChanged.next({state:"opening",totalTime:J}):("exit"===H||"void"===H)&&this._animationStateChanged.next({state:"closing",totalTime:J})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Dt.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Dt.params.exitAnimationDuration}}}}return be.\u0275fac=function(H){return new(H||be)(se.Y36(se.SBq),se.Y36(m.qV),se.Y36(Ee.K0,8),se.Y36(en),se.Y36(m.ic),se.Y36(se.R0b),se.Y36(k.Iu),se.Y36(se.sBO),se.Y36(m.tE))},be.\u0275cmp=se.Xpm({type:be,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(H,J){1&H&&se.WFA("@dialogContainer.start",function(rt){return J._onAnimationStart(rt)})("@dialogContainer.done",function(rt){return J._onAnimationDone(rt)}),2&H&&(se.Ikx("id",J._config.id),se.uIk("aria-modal",J._config.ariaModal)("role",J._config.role)("aria-labelledby",J._config.ariaLabel?null:J._ariaLabelledBy)("aria-label",J._config.ariaLabel)("aria-describedby",J._config.ariaDescribedBy||null),se.d8E("@dialogContainer",J._getAnimationState()))},features:[se.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(H,J){1&H&&se.YNc(0,pt,0,0,"ng-template",0)},dependencies:[ee.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[$t.dialogContainer]}}),be})();class En{constructor(Z,H,J){this._ref=Z,this._containerInstance=J,this._afterOpened=new xe.x,this._beforeClosed=new xe.x,this._state=0,this.disableClose=H.disableClose,this.id=Z.id,J._animationStateChanged.pipe((0,we.h)(Ve=>"opened"===Ve.state),(0,Ze.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),J._animationStateChanged.pipe((0,we.h)(Ve=>"closed"===Ve.state),(0,Ze.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Z.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,ke.T)(this.backdropClick(),this.keydownEvents().pipe((0,we.h)(Ve=>Ve.keyCode===je.hY&&!this.disableClose&&!(0,je.Vb)(Ve)))).subscribe(Ve=>{this.disableClose||(Ve.preventDefault(),Dn(this,"keydown"===Ve.type?"keyboard":"mouse"))})}close(Z){this._result=Z,this._containerInstance._animationStateChanged.pipe((0,we.h)(H=>"closing"===H.state),(0,Ze.q)(1)).subscribe(H=>{this._beforeClosed.next(Z),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),H.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Z){let H=this._ref.config.positionStrategy;return Z&&(Z.left||Z.right)?Z.left?H.left(Z.left):H.right(Z.right):H.centerHorizontally(),Z&&(Z.top||Z.bottom)?Z.top?H.top(Z.top):H.bottom(Z.bottom):H.centerVertically(),this._ref.updatePosition(),this}updateSize(Z="",H=""){return this._ref.updateSize(Z,H),this}addPanelClass(Z){return this._ref.addPanelClass(Z),this}removePanelClass(Z){return this._ref.removePanelClass(Z),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Dn(be,Z,H){return be._closeInteractionType=Z,be.close(H)}const vn=new se.OlP("MatDialogData"),Jt=new se.OlP("mat-dialog-default-options"),Vn=new se.OlP("mat-dialog-scroll-strategy"),br={provide:Vn,deps:[k.aV],useFactory:function Cn(be){return()=>be.scrollStrategies.block()}};let dr=0,Ln=(()=>{class be{constructor(H,J,Ve,rt,Ot,Ne,_e,q,te,qe){this._overlay=H,this._defaultOptions=Ve,this._parentDialog=rt,this._dialogRefConstructor=_e,this._dialogContainerType=q,this._dialogDataToken=te,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new xe.x,this._afterOpenedAtThisLevel=new xe.x,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,Oe.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,me.O)(void 0))),this._scrollStrategy=Ne,this._dialog=J.get(ue)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const H=this._parentDialog;return H?H._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(H,J){let Ve;(J={...this._defaultOptions||new en,...J}).id=J.id||`${this._idPrefix}${dr++}`,J.scrollStrategy=J.scrollStrategy||this._scrollStrategy();const rt=this._dialog.open(H,{...J,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:en,useValue:J},{provide:lt,useValue:J}]},templateContext:()=>({dialogRef:Ve}),providers:(Ot,Ne,_e)=>(Ve=new this._dialogRefConstructor(Ot,J,_e),Ve.updatePosition(J?.position),[{provide:this._dialogContainerType,useValue:_e},{provide:this._dialogDataToken,useValue:Ne.data},{provide:this._dialogRefConstructor,useValue:Ve}])});return Ve.componentInstance=rt.componentInstance,this.openDialogs.push(Ve),this.afterOpened.next(Ve),Ve.afterClosed().subscribe(()=>{const Ot=this.openDialogs.indexOf(Ve);Ot>-1&&(this.openDialogs.splice(Ot,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Ve}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(H){return this.openDialogs.find(J=>J.id===H)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(H){let J=H.length;for(;J--;)H[J].close()}}return be.\u0275fac=function(H){se.$Z()},be.\u0275prov=se.Yz7({token:be,factory:be.\u0275fac}),be})(),Un=(()=>{class be extends Ln{constructor(H,J,Ve,rt,Ot,Ne,_e,q){super(H,J,rt,Ne,_e,Ot,En,qt,vn,q)}}return be.\u0275fac=function(H){return new(H||be)(se.LFG(k.aV),se.LFG(se.zs3),se.LFG(Ee.Ye,8),se.LFG(Jt,8),se.LFG(Vn),se.LFG(be,12),se.LFG(k.Xj),se.LFG(se.QbO,8))},be.\u0275prov=se.Yz7({token:be,factory:be.\u0275fac}),be})(),Kn=0,zn=(()=>{class be{constructor(H,J,Ve){this.dialogRef=H,this._elementRef=J,this._dialog=Ve,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=tn(this._elementRef,this._dialog.openDialogs))}ngOnChanges(H){const J=H._matDialogClose||H._matDialogCloseResult;J&&(this.dialogResult=J.currentValue)}_onButtonClick(H){Dn(this.dialogRef,0===H.screenX&&0===H.screenY?"keyboard":"mouse",this.dialogResult)}}return be.\u0275fac=function(H){return new(H||be)(se.Y36(En,8),se.Y36(se.SBq),se.Y36(Un))},be.\u0275dir=se.lG2({type:be,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(H,J){1&H&&se.NdJ("click",function(rt){return J._onButtonClick(rt)}),2&H&&se.uIk("aria-label",J.ariaLabel||null)("type",J.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[se.TTD]}),be})(),hr=(()=>{class be{constructor(H,J,Ve){this._dialogRef=H,this._elementRef=J,this._dialog=Ve,this.id="mat-dialog-title-"+Kn++}ngOnInit(){this._dialogRef||(this._dialogRef=tn(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const H=this._dialogRef._containerInstance;H&&!H._ariaLabelledBy&&(H._ariaLabelledBy=this.id)})}}return be.\u0275fac=function(H){return new(H||be)(se.Y36(En,8),se.Y36(se.SBq),se.Y36(Un))},be.\u0275dir=se.lG2({type:be,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(H,J){2&H&&se.Ikx("id",J.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),be})(),Hn=(()=>{class be{}return be.\u0275fac=function(H){return new(H||be)},be.\u0275dir=se.lG2({type:be,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),be})(),Xn=(()=>{class be{constructor(){this.align="start"}}return be.\u0275fac=function(H){return new(H||be)},be.\u0275dir=se.lG2({type:be,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(H,J){2&H&&se.ekj("mat-dialog-actions-align-center","center"===J.align)("mat-dialog-actions-align-end","end"===J.align)},inputs:{align:"align"}}),be})();function tn(be,Z){let H=be.nativeElement.parentElement;for(;H&&!H.classList.contains("mat-dialog-container");)H=H.parentElement;return H?Z.find(J=>J.id===H.id):null}let Jn=(()=>{class be{}return be.\u0275fac=function(H){return new(H||be)},be.\u0275mod=se.oAB({type:be}),be.\u0275inj=se.cJS({providers:[Un,br],imports:[R,k.U8,ee.eL,Pe.BQ,Pe.BQ]}),be})()},9549:(dn,ot,A)=>{A.d(ot,{Eo:()=>en,G_:()=>Xn,KE:()=>tn,TO:()=>Dt,bx:()=>Jt,hX:()=>Vn,lN:()=>Jn});var m=A(9643),k=A(6895),b=A(4650),ee=A(3238),Ee=A(445),se=A(1281),je=A(7579),xe=A(6451),Oe=A(4968),ae=A(8675),ye=A(2722),me=A(5698),at=A(7340),lt=A(3353);const Je=["connectionContainer"],bt=["inputContainer"],ut=["label"];function ct(be,Z){1&be&&(b.ynx(0),b.TgZ(1,"div",14),b._UZ(2,"div",15)(3,"div",16)(4,"div",17),b.qZA(),b.TgZ(5,"div",18),b._UZ(6,"div",15)(7,"div",16)(8,"div",17),b.qZA(),b.BQk())}function Lt(be,Z){if(1&be){const H=b.EpF();b.TgZ(0,"div",19),b.NdJ("cdkObserveContent",function(){b.CHM(H);const Ve=b.oxw();return b.KtG(Ve.updateOutlineGap())}),b.Hsn(1,1),b.qZA()}if(2&be){const H=b.oxw();b.Q6J("cdkObserveContentDisabled","outline"!=H.appearance)}}function Tt(be,Z){if(1&be&&(b.ynx(0),b.Hsn(1,2),b.TgZ(2,"span"),b._uU(3),b.qZA(),b.BQk()),2&be){const H=b.oxw(2);b.xp6(3),b.Oqu(H._control.placeholder)}}function ze(be,Z){1&be&&b.Hsn(0,3,["*ngSwitchCase","true"])}function Se(be,Z){1&be&&(b.TgZ(0,"span",23),b._uU(1," *"),b.qZA())}function ge(be,Z){if(1&be){const H=b.EpF();b.TgZ(0,"label",20,21),b.NdJ("cdkObserveContent",function(){b.CHM(H);const Ve=b.oxw();return b.KtG(Ve.updateOutlineGap())}),b.YNc(2,Tt,4,1,"ng-container",12),b.YNc(3,ze,1,0,"ng-content",12),b.YNc(4,Se,2,0,"span",22),b.qZA()}if(2&be){const H=b.oxw();b.ekj("mat-empty",H._control.empty&&!H._shouldAlwaysFloat())("mat-form-field-empty",H._control.empty&&!H._shouldAlwaysFloat())("mat-accent","accent"==H.color)("mat-warn","warn"==H.color),b.Q6J("cdkObserveContentDisabled","outline"!=H.appearance)("id",H._labelId)("ngSwitch",H._hasLabel()),b.uIk("for",H._control.id)("aria-owns",H._control.id),b.xp6(2),b.Q6J("ngSwitchCase",!1),b.xp6(1),b.Q6J("ngSwitchCase",!0),b.xp6(1),b.Q6J("ngIf",!H.hideRequiredMarker&&H._control.required&&!H._control.disabled)}}function ue(be,Z){1&be&&(b.TgZ(0,"div",24),b.Hsn(1,4),b.qZA())}function Le(be,Z){if(1&be&&(b.TgZ(0,"div",25),b._UZ(1,"span",26),b.qZA()),2&be){const H=b.oxw();b.xp6(1),b.ekj("mat-accent","accent"==H.color)("mat-warn","warn"==H.color)}}function R(be,Z){if(1&be&&(b.TgZ(0,"div"),b.Hsn(1,5),b.qZA()),2&be){const H=b.oxw();b.Q6J("@transitionMessages",H._subscriptAnimationState)}}function Pe(be,Z){if(1&be&&(b.TgZ(0,"div",30),b._uU(1),b.qZA()),2&be){const H=b.oxw(2);b.Q6J("id",H._hintLabelId),b.xp6(1),b.Oqu(H.hintLabel)}}function ke(be,Z){if(1&be&&(b.TgZ(0,"div",27),b.YNc(1,Pe,2,2,"div",28),b.Hsn(2,6),b._UZ(3,"div",29),b.Hsn(4,7),b.qZA()),2&be){const H=b.oxw();b.Q6J("@transitionMessages",H._subscriptAnimationState),b.xp6(1),b.Q6J("ngIf",H.hintLabel)}}const we=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ze=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let ve=0;const pt=new b.OlP("MatError");let Dt=(()=>{class be{constructor(H,J){this.id="mat-error-"+ve++,H||J.nativeElement.setAttribute("aria-live","polite")}}return be.\u0275fac=function(H){return new(H||be)(b.$8M("aria-live"),b.Y36(b.SBq))},be.\u0275dir=b.lG2({type:be,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(H,J){2&H&&b.uIk("id",J.id)},inputs:{id:"id"},features:[b._Bn([{provide:pt,useExisting:be}])]}),be})();const $t={transitionMessages:(0,at.X$)("transitionMessages",[(0,at.SB)("enter",(0,at.oB)({opacity:1,transform:"translateY(0%)"})),(0,at.eR)("void => enter",[(0,at.oB)({opacity:0,transform:"translateY(-5px)"}),(0,at.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let en=(()=>{class be{}return be.\u0275fac=function(H){return new(H||be)},be.\u0275dir=b.lG2({type:be}),be})(),Dn=0;const vn=new b.OlP("MatHint");let Jt=(()=>{class be{constructor(){this.align="start",this.id="mat-hint-"+Dn++}}return be.\u0275fac=function(H){return new(H||be)},be.\u0275dir=b.lG2({type:be,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(H,J){2&H&&(b.uIk("id",J.id)("align",null),b.ekj("mat-form-field-hint-end","end"===J.align))},inputs:{align:"align",id:"id"},features:[b._Bn([{provide:vn,useExisting:be}])]}),be})(),Vn=(()=>{class be{}return be.\u0275fac=function(H){return new(H||be)},be.\u0275dir=b.lG2({type:be,selectors:[["mat-label"]]}),be})(),Mn=(()=>{class be{}return be.\u0275fac=function(H){return new(H||be)},be.\u0275dir=b.lG2({type:be,selectors:[["mat-placeholder"]]}),be})();const Cn=new b.OlP("MatPrefix"),dr=new b.OlP("MatSuffix");let Un=0;const hr=(0,ee.pj)(class{constructor(be){this._elementRef=be}},"primary"),Hn=new b.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Xn=new b.OlP("MatFormField");let tn=(()=>{class be extends hr{constructor(H,J,Ve,rt,Ot,Ne,_e){super(H),this._changeDetectorRef=J,this._dir=Ve,this._defaults=rt,this._platform=Ot,this._ngZone=Ne,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new je.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Un++,this._labelId="mat-form-field-label-"+Un++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_e,this.appearance=rt?.appearance||"legacy",rt&&(this._hideRequiredMarker=Boolean(rt.hideRequiredMarker),rt.color&&(this.color=this.defaultColor=rt.color))}get appearance(){return this._appearance}set appearance(H){const J=this._appearance;this._appearance=H||this._defaults?.appearance||"legacy","outline"===this._appearance&&J!==H&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(H){this._hideRequiredMarker=(0,se.Ig)(H)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(H){this._hintLabel=H,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(H){H!==this._floatLabel&&(this._floatLabel=H||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(H){this._explicitFormFieldControl=H}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const H=this._control;H.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${H.controlType}`),H.stateChanges.pipe((0,ae.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),H.ngControl&&H.ngControl.valueChanges&&H.ngControl.valueChanges.pipe((0,ye.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ye.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,xe.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,ae.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,ae.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,ye.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(H){const J=this._control?this._control.ngControl:null;return J&&J[H]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,Oe.R)(this._label.nativeElement,"transitionend").pipe((0,me.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let H=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&H.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const J=this._hintChildren?this._hintChildren.find(rt=>"start"===rt.align):null,Ve=this._hintChildren?this._hintChildren.find(rt=>"end"===rt.align):null;J?H.push(J.id):this._hintLabel&&H.push(this._hintLabelId),Ve&&H.push(Ve.id)}else this._errorChildren&&H.push(...this._errorChildren.map(J=>J.id));this._control.setDescribedByIds(H)}}_validateControlChild(){}updateOutlineGap(){const H=this._label?this._label.nativeElement:null,J=this._connectionContainerRef.nativeElement,Ve=".mat-form-field-outline-start",rt=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!H||!H.children.length||!H.textContent.trim()){const te=J.querySelectorAll(`${Ve}, ${rt}`);for(let qe=0;qe<te.length;qe++)te[qe].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Ot=0,Ne=0;const _e=J.querySelectorAll(Ve),q=J.querySelectorAll(rt);if(this._label&&this._label.nativeElement.children.length){const te=J.getBoundingClientRect();if(0===te.width&&0===te.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const qe=this._getStartEnd(te),It=H.children,Nt=this._getStartEnd(It[0].getBoundingClientRect());let mn=0;for(let sn=0;sn<It.length;sn++)mn+=It[sn].offsetWidth;Ot=Math.abs(Nt-qe)-5,Ne=mn>0?.75*mn+10:0}for(let te=0;te<_e.length;te++)_e[te].style.width=`${Ot}px`;for(let te=0;te<q.length;te++)q[te].style.width=`${Ne}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(H){return this._dir&&"rtl"===this._dir.value?H.right:H.left}_isAttachedToDOM(){const H=this._elementRef.nativeElement;if(H.getRootNode){const J=H.getRootNode();return J&&J!==H}return document.documentElement.contains(H)}}return be.\u0275fac=function(H){return new(H||be)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(Ee.Is,8),b.Y36(Hn,8),b.Y36(lt.t4),b.Y36(b.R0b),b.Y36(b.QbO,8))},be.\u0275cmp=b.Xpm({type:be,selectors:[["mat-form-field"]],contentQueries:function(H,J,Ve){if(1&H&&(b.Suo(Ve,en,5),b.Suo(Ve,en,7),b.Suo(Ve,Vn,5),b.Suo(Ve,Vn,7),b.Suo(Ve,Mn,5),b.Suo(Ve,pt,5),b.Suo(Ve,vn,5),b.Suo(Ve,Cn,5),b.Suo(Ve,dr,5)),2&H){let rt;b.iGM(rt=b.CRH())&&(J._controlNonStatic=rt.first),b.iGM(rt=b.CRH())&&(J._controlStatic=rt.first),b.iGM(rt=b.CRH())&&(J._labelChildNonStatic=rt.first),b.iGM(rt=b.CRH())&&(J._labelChildStatic=rt.first),b.iGM(rt=b.CRH())&&(J._placeholderChild=rt.first),b.iGM(rt=b.CRH())&&(J._errorChildren=rt),b.iGM(rt=b.CRH())&&(J._hintChildren=rt),b.iGM(rt=b.CRH())&&(J._prefixChildren=rt),b.iGM(rt=b.CRH())&&(J._suffixChildren=rt)}},viewQuery:function(H,J){if(1&H&&(b.Gf(Je,7),b.Gf(bt,5),b.Gf(ut,5)),2&H){let Ve;b.iGM(Ve=b.CRH())&&(J._connectionContainerRef=Ve.first),b.iGM(Ve=b.CRH())&&(J._inputContainerRef=Ve.first),b.iGM(Ve=b.CRH())&&(J._label=Ve.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(H,J){2&H&&b.ekj("mat-form-field-appearance-standard","standard"==J.appearance)("mat-form-field-appearance-fill","fill"==J.appearance)("mat-form-field-appearance-outline","outline"==J.appearance)("mat-form-field-appearance-legacy","legacy"==J.appearance)("mat-form-field-invalid",J._control.errorState)("mat-form-field-can-float",J._canLabelFloat())("mat-form-field-should-float",J._shouldLabelFloat())("mat-form-field-has-label",J._hasFloatingLabel())("mat-form-field-hide-placeholder",J._hideControlPlaceholder())("mat-form-field-disabled",J._control.disabled)("mat-form-field-autofilled",J._control.autofilled)("mat-focused",J._control.focused)("ng-untouched",J._shouldForward("untouched"))("ng-touched",J._shouldForward("touched"))("ng-pristine",J._shouldForward("pristine"))("ng-dirty",J._shouldForward("dirty"))("ng-valid",J._shouldForward("valid"))("ng-invalid",J._shouldForward("invalid"))("ng-pending",J._shouldForward("pending"))("_mat-animation-noopable",!J._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[b._Bn([{provide:Xn,useExisting:be}]),b.qOj],ngContentSelectors:Ze,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(H,J){1&H&&(b.F$t(we),b.TgZ(0,"div",0)(1,"div",1,2),b.NdJ("click",function(rt){return J._control.onContainerClick&&J._control.onContainerClick(rt)}),b.YNc(3,ct,9,0,"ng-container",3),b.YNc(4,Lt,2,1,"div",4),b.TgZ(5,"div",5,6),b.Hsn(7),b.TgZ(8,"span",7),b.YNc(9,ge,5,16,"label",8),b.qZA()(),b.YNc(10,ue,2,0,"div",9),b.qZA(),b.YNc(11,Le,2,4,"div",10),b.TgZ(12,"div",11),b.YNc(13,R,2,1,"div",12),b.YNc(14,ke,5,2,"div",13),b.qZA()()),2&H&&(b.xp6(3),b.Q6J("ngIf","outline"==J.appearance),b.xp6(1),b.Q6J("ngIf",J._prefixChildren.length),b.xp6(5),b.Q6J("ngIf",J._hasFloatingLabel()),b.xp6(1),b.Q6J("ngIf",J._suffixChildren.length),b.xp6(1),b.Q6J("ngIf","outline"!=J.appearance),b.xp6(1),b.Q6J("ngSwitch",J._getDisplayedMessages()),b.xp6(1),b.Q6J("ngSwitchCase","error"),b.xp6(1),b.Q6J("ngSwitchCase","hint"))},dependencies:[k.O5,k.RF,k.n9,m.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[$t.transitionMessages]},changeDetection:0}),be})(),Jn=(()=>{class be{}return be.\u0275fac=function(H){return new(H||be)},be.\u0275mod=b.oAB({type:be}),be.\u0275inj=b.cJS({imports:[k.ez,ee.BQ,m.Q8,ee.BQ]}),be})()},3336:(dn,ot,A)=>{A.d(ot,{Hw:()=>Fe,Ps:()=>Ce});var m=A(4650),k=A(3238),b=A(1281),ee=A(6895),Ee=A(9646),se=A(2843),je=A(4128),xe=A(727),Oe=A(8505),ae=A(4004),ye=A(262),me=A(8746),at=A(3099),lt=A(5698),Je=A(4351),bt=A(9300);class ut{}class Lt{constructor(pe){this.normalizedNames=new Map,this.lazyUpdate=null,pe?this.lazyInit="string"==typeof pe?()=>{this.headers=new Map,pe.split("\n").forEach(de=>{const Xe=de.indexOf(":");if(Xe>0){const wt=de.slice(0,Xe),Qt=wt.toLowerCase(),yn=de.slice(Xe+1).trim();this.maybeSetNormalizedName(wt,Qt),this.headers.has(Qt)?this.headers.get(Qt).push(yn):this.headers.set(Qt,[yn])}})}:()=>{this.headers=new Map,Object.keys(pe).forEach(de=>{let Xe=pe[de];const wt=de.toLowerCase();"string"==typeof Xe&&(Xe=[Xe]),Xe.length>0&&(this.headers.set(wt,Xe),this.maybeSetNormalizedName(de,wt))})}:this.headers=new Map}has(pe){return this.init(),this.headers.has(pe.toLowerCase())}get(pe){this.init();const de=this.headers.get(pe.toLowerCase());return de&&de.length>0?de[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(pe){return this.init(),this.headers.get(pe.toLowerCase())||null}append(pe,de){return this.clone({name:pe,value:de,op:"a"})}set(pe,de){return this.clone({name:pe,value:de,op:"s"})}delete(pe,de){return this.clone({name:pe,value:de,op:"d"})}maybeSetNormalizedName(pe,de){this.normalizedNames.has(de)||this.normalizedNames.set(de,pe)}init(){this.lazyInit&&(this.lazyInit instanceof Lt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(pe=>this.applyUpdate(pe)),this.lazyUpdate=null))}copyFrom(pe){pe.init(),Array.from(pe.headers.keys()).forEach(de=>{this.headers.set(de,pe.headers.get(de)),this.normalizedNames.set(de,pe.normalizedNames.get(de))})}clone(pe){const de=new Lt;return de.lazyInit=this.lazyInit&&this.lazyInit instanceof Lt?this.lazyInit:this,de.lazyUpdate=(this.lazyUpdate||[]).concat([pe]),de}applyUpdate(pe){const de=pe.name.toLowerCase();switch(pe.op){case"a":case"s":let Xe=pe.value;if("string"==typeof Xe&&(Xe=[Xe]),0===Xe.length)return;this.maybeSetNormalizedName(pe.name,de);const wt=("a"===pe.op?this.headers.get(de):void 0)||[];wt.push(...Xe),this.headers.set(de,wt);break;case"d":const Qt=pe.value;if(Qt){let yn=this.headers.get(de);if(!yn)return;yn=yn.filter(hn=>-1===Qt.indexOf(hn)),0===yn.length?(this.headers.delete(de),this.normalizedNames.delete(de)):this.headers.set(de,yn)}else this.headers.delete(de),this.normalizedNames.delete(de)}}forEach(pe){this.init(),Array.from(this.normalizedNames.keys()).forEach(de=>pe(this.normalizedNames.get(de),this.headers.get(de)))}}class ze{encodeKey(pe){return Le(pe)}encodeValue(pe){return Le(pe)}decodeKey(pe){return decodeURIComponent(pe)}decodeValue(pe){return decodeURIComponent(pe)}}const ge=/%(\d[a-f0-9])/gi,ue={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Le(Ie){return encodeURIComponent(Ie).replace(ge,(pe,de)=>ue[de]??pe)}function R(Ie){return`${Ie}`}class Pe{constructor(pe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=pe.encoder||new ze,pe.fromString){if(pe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Se(Ie,pe){const de=new Map;return Ie.length>0&&Ie.replace(/^\?/,"").split("&").forEach(wt=>{const Qt=wt.indexOf("="),[yn,hn]=-1==Qt?[pe.decodeKey(wt),""]:[pe.decodeKey(wt.slice(0,Qt)),pe.decodeValue(wt.slice(Qt+1))],Sn=de.get(yn)||[];Sn.push(hn),de.set(yn,Sn)}),de}(pe.fromString,this.encoder)}else pe.fromObject?(this.map=new Map,Object.keys(pe.fromObject).forEach(de=>{const Xe=pe.fromObject[de],wt=Array.isArray(Xe)?Xe.map(R):[R(Xe)];this.map.set(de,wt)})):this.map=null}has(pe){return this.init(),this.map.has(pe)}get(pe){this.init();const de=this.map.get(pe);return de?de[0]:null}getAll(pe){return this.init(),this.map.get(pe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(pe,de){return this.clone({param:pe,value:de,op:"a"})}appendAll(pe){const de=[];return Object.keys(pe).forEach(Xe=>{const wt=pe[Xe];Array.isArray(wt)?wt.forEach(Qt=>{de.push({param:Xe,value:Qt,op:"a"})}):de.push({param:Xe,value:wt,op:"a"})}),this.clone(de)}set(pe,de){return this.clone({param:pe,value:de,op:"s"})}delete(pe,de){return this.clone({param:pe,value:de,op:"d"})}toString(){return this.init(),this.keys().map(pe=>{const de=this.encoder.encodeKey(pe);return this.map.get(pe).map(Xe=>de+"="+this.encoder.encodeValue(Xe)).join("&")}).filter(pe=>""!==pe).join("&")}clone(pe){const de=new Pe({encoder:this.encoder});return de.cloneFrom=this.cloneFrom||this,de.updates=(this.updates||[]).concat(pe),de}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(pe=>this.map.set(pe,this.cloneFrom.map.get(pe))),this.updates.forEach(pe=>{switch(pe.op){case"a":case"s":const de=("a"===pe.op?this.map.get(pe.param):void 0)||[];de.push(R(pe.value)),this.map.set(pe.param,de);break;case"d":if(void 0===pe.value){this.map.delete(pe.param);break}{let Xe=this.map.get(pe.param)||[];const wt=Xe.indexOf(R(pe.value));-1!==wt&&Xe.splice(wt,1),Xe.length>0?this.map.set(pe.param,Xe):this.map.delete(pe.param)}}}),this.cloneFrom=this.updates=null)}}class we{constructor(){this.map=new Map}set(pe,de){return this.map.set(pe,de),this}get(pe){return this.map.has(pe)||this.map.set(pe,pe.defaultValue()),this.map.get(pe)}delete(pe){return this.map.delete(pe),this}has(pe){return this.map.has(pe)}keys(){return this.map.keys()}}function ve(Ie){return typeof ArrayBuffer<"u"&&Ie instanceof ArrayBuffer}function pt(Ie){return typeof Blob<"u"&&Ie instanceof Blob}function Dt(Ie){return typeof FormData<"u"&&Ie instanceof FormData}class en{constructor(pe,de,Xe,wt){let Qt;if(this.url=de,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=pe.toUpperCase(),function Ze(Ie){switch(Ie){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||wt?(this.body=void 0!==Xe?Xe:null,Qt=wt):Qt=Xe,Qt&&(this.reportProgress=!!Qt.reportProgress,this.withCredentials=!!Qt.withCredentials,Qt.responseType&&(this.responseType=Qt.responseType),Qt.headers&&(this.headers=Qt.headers),Qt.context&&(this.context=Qt.context),Qt.params&&(this.params=Qt.params)),this.headers||(this.headers=new Lt),this.context||(this.context=new we),this.params){const yn=this.params.toString();if(0===yn.length)this.urlWithParams=de;else{const hn=de.indexOf("?");this.urlWithParams=de+(-1===hn?"?":hn<de.length-1?"&":"")+yn}}else this.params=new Pe,this.urlWithParams=de}serializeBody(){return null===this.body?null:ve(this.body)||pt(this.body)||Dt(this.body)||function $t(Ie){return typeof URLSearchParams<"u"&&Ie instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Dt(this.body)?null:pt(this.body)?this.body.type||null:ve(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(pe={}){const de=pe.method||this.method,Xe=pe.url||this.url,wt=pe.responseType||this.responseType,Qt=void 0!==pe.body?pe.body:this.body,yn=void 0!==pe.withCredentials?pe.withCredentials:this.withCredentials,hn=void 0!==pe.reportProgress?pe.reportProgress:this.reportProgress;let Sn=pe.headers||this.headers,Hr=pe.params||this.params;const Yr=pe.context??this.context;return void 0!==pe.setHeaders&&(Sn=Object.keys(pe.setHeaders).reduce((jr,pr)=>jr.set(pr,pe.setHeaders[pr]),Sn)),pe.setParams&&(Hr=Object.keys(pe.setParams).reduce((jr,pr)=>jr.set(pr,pe.setParams[pr]),Hr)),new en(de,Xe,Qt,{params:Hr,headers:Sn,context:Yr,reportProgress:hn,responseType:wt,withCredentials:yn})}}var Zt=(()=>((Zt=Zt||{})[Zt.Sent=0]="Sent",Zt[Zt.UploadProgress=1]="UploadProgress",Zt[Zt.ResponseHeader=2]="ResponseHeader",Zt[Zt.DownloadProgress=3]="DownloadProgress",Zt[Zt.Response=4]="Response",Zt[Zt.User=5]="User",Zt))();class Dn extends class qt{constructor(pe,de=200,Xe="OK"){this.headers=pe.headers||new Lt,this.status=void 0!==pe.status?pe.status:de,this.statusText=pe.statusText||Xe,this.url=pe.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(pe={}){super(pe),this.type=Zt.Response,this.body=void 0!==pe.body?pe.body:null}clone(pe={}){return new Dn({body:void 0!==pe.body?pe.body:this.body,headers:pe.headers||this.headers,status:void 0!==pe.status?pe.status:this.status,statusText:pe.statusText||this.statusText,url:pe.url||this.url||void 0})}}function Jt(Ie,pe){return{body:pe,headers:Ie.headers,context:Ie.context,observe:Ie.observe,params:Ie.params,reportProgress:Ie.reportProgress,responseType:Ie.responseType,withCredentials:Ie.withCredentials}}let Vn=(()=>{class Ie{constructor(de){this.handler=de}request(de,Xe,wt={}){let Qt;if(de instanceof en)Qt=de;else{let Sn,Hr;Sn=wt.headers instanceof Lt?wt.headers:new Lt(wt.headers),wt.params&&(Hr=wt.params instanceof Pe?wt.params:new Pe({fromObject:wt.params})),Qt=new en(de,Xe,void 0!==wt.body?wt.body:null,{headers:Sn,context:wt.context,params:Hr,reportProgress:wt.reportProgress,responseType:wt.responseType||"json",withCredentials:wt.withCredentials})}const yn=(0,Ee.of)(Qt).pipe((0,Je.b)(Sn=>this.handler.handle(Sn)));if(de instanceof en||"events"===wt.observe)return yn;const hn=yn.pipe((0,bt.h)(Sn=>Sn instanceof Dn));switch(wt.observe||"body"){case"body":switch(Qt.responseType){case"arraybuffer":return hn.pipe((0,ae.U)(Sn=>{if(null!==Sn.body&&!(Sn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Sn.body}));case"blob":return hn.pipe((0,ae.U)(Sn=>{if(null!==Sn.body&&!(Sn.body instanceof Blob))throw new Error("Response is not a Blob.");return Sn.body}));case"text":return hn.pipe((0,ae.U)(Sn=>{if(null!==Sn.body&&"string"!=typeof Sn.body)throw new Error("Response is not a string.");return Sn.body}));default:return hn.pipe((0,ae.U)(Sn=>Sn.body))}case"response":return hn;default:throw new Error(`Unreachable: unhandled observe type ${wt.observe}}`)}}delete(de,Xe={}){return this.request("DELETE",de,Xe)}get(de,Xe={}){return this.request("GET",de,Xe)}head(de,Xe={}){return this.request("HEAD",de,Xe)}jsonp(de,Xe){return this.request("JSONP",de,{params:(new Pe).append(Xe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(de,Xe={}){return this.request("OPTIONS",de,Xe)}patch(de,Xe,wt={}){return this.request("PATCH",de,Jt(wt,Xe))}post(de,Xe,wt={}){return this.request("POST",de,Jt(wt,Xe))}put(de,Xe,wt={}){return this.request("PUT",de,Jt(wt,Xe))}}return Ie.\u0275fac=function(de){return new(de||Ie)(m.LFG(ut))},Ie.\u0275prov=m.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();var mn=A(1481);const sn=["*"];let vt;function Ye(Ie){return function et(){if(void 0===vt&&(vt=null,typeof window<"u")){const Ie=window;void 0!==Ie.trustedTypes&&(vt=Ie.trustedTypes.createPolicy("angular#components",{createHTML:pe=>pe}))}return vt}()?.createHTML(Ie)||Ie}function Mt(Ie){return Error(`Unable to find icon with the name "${Ie}"`)}function He(Ie){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Ie}".`)}function Ue(Ie){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Ie}".`)}class Te{constructor(pe,de,Xe){this.url=pe,this.svgText=de,this.options=Xe}}let st=(()=>{class Ie{constructor(de,Xe,wt,Qt){this._httpClient=de,this._sanitizer=Xe,this._errorHandler=Qt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=wt}addSvgIcon(de,Xe,wt){return this.addSvgIconInNamespace("",de,Xe,wt)}addSvgIconLiteral(de,Xe,wt){return this.addSvgIconLiteralInNamespace("",de,Xe,wt)}addSvgIconInNamespace(de,Xe,wt,Qt){return this._addSvgIconConfig(de,Xe,new Te(wt,null,Qt))}addSvgIconResolver(de){return this._resolvers.push(de),this}addSvgIconLiteralInNamespace(de,Xe,wt,Qt){const yn=this._sanitizer.sanitize(m.q3G.HTML,wt);if(!yn)throw Ue(wt);const hn=Ye(yn);return this._addSvgIconConfig(de,Xe,new Te("",hn,Qt))}addSvgIconSet(de,Xe){return this.addSvgIconSetInNamespace("",de,Xe)}addSvgIconSetLiteral(de,Xe){return this.addSvgIconSetLiteralInNamespace("",de,Xe)}addSvgIconSetInNamespace(de,Xe,wt){return this._addSvgIconSetConfig(de,new Te(Xe,null,wt))}addSvgIconSetLiteralInNamespace(de,Xe,wt){const Qt=this._sanitizer.sanitize(m.q3G.HTML,Xe);if(!Qt)throw Ue(Xe);const yn=Ye(Qt);return this._addSvgIconSetConfig(de,new Te("",yn,wt))}registerFontClassAlias(de,Xe=de){return this._fontCssClassesByAlias.set(de,Xe),this}classNameForFontAlias(de){return this._fontCssClassesByAlias.get(de)||de}setDefaultFontSetClass(...de){return this._defaultFontSetClass=de,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(de){const Xe=this._sanitizer.sanitize(m.q3G.RESOURCE_URL,de);if(!Xe)throw He(de);const wt=this._cachedIconsByUrl.get(Xe);return wt?(0,Ee.of)(Me(wt)):this._loadSvgIconFromConfig(new Te(de,null)).pipe((0,Oe.b)(Qt=>this._cachedIconsByUrl.set(Xe,Qt)),(0,ae.U)(Qt=>Me(Qt)))}getNamedSvgIcon(de,Xe=""){const wt=it(Xe,de);let Qt=this._svgIconConfigs.get(wt);if(Qt)return this._getSvgFromConfig(Qt);if(Qt=this._getIconConfigFromResolvers(Xe,de),Qt)return this._svgIconConfigs.set(wt,Qt),this._getSvgFromConfig(Qt);const yn=this._iconSetConfigs.get(Xe);return yn?this._getSvgFromIconSetConfigs(de,yn):(0,se._)(Mt(wt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(de){return de.svgText?(0,Ee.of)(Me(this._svgElementFromConfig(de))):this._loadSvgIconFromConfig(de).pipe((0,ae.U)(Xe=>Me(Xe)))}_getSvgFromIconSetConfigs(de,Xe){const wt=this._extractIconWithNameFromAnySet(de,Xe);if(wt)return(0,Ee.of)(wt);const Qt=Xe.filter(yn=>!yn.svgText).map(yn=>this._loadSvgIconSetFromConfig(yn).pipe((0,ye.K)(hn=>{const Hr=`Loading icon set URL: ${this._sanitizer.sanitize(m.q3G.RESOURCE_URL,yn.url)} failed: ${hn.message}`;return this._errorHandler.handleError(new Error(Hr)),(0,Ee.of)(null)})));return(0,je.D)(Qt).pipe((0,ae.U)(()=>{const yn=this._extractIconWithNameFromAnySet(de,Xe);if(!yn)throw Mt(de);return yn}))}_extractIconWithNameFromAnySet(de,Xe){for(let wt=Xe.length-1;wt>=0;wt--){const Qt=Xe[wt];if(Qt.svgText&&Qt.svgText.toString().indexOf(de)>-1){const yn=this._svgElementFromConfig(Qt),hn=this._extractSvgIconFromSet(yn,de,Qt.options);if(hn)return hn}}return null}_loadSvgIconFromConfig(de){return this._fetchIcon(de).pipe((0,Oe.b)(Xe=>de.svgText=Xe),(0,ae.U)(()=>this._svgElementFromConfig(de)))}_loadSvgIconSetFromConfig(de){return de.svgText?(0,Ee.of)(null):this._fetchIcon(de).pipe((0,Oe.b)(Xe=>de.svgText=Xe))}_extractSvgIconFromSet(de,Xe,wt){const Qt=de.querySelector(`[id="${Xe}"]`);if(!Qt)return null;const yn=Qt.cloneNode(!0);if(yn.removeAttribute("id"),"svg"===yn.nodeName.toLowerCase())return this._setSvgAttributes(yn,wt);if("symbol"===yn.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(yn),wt);const hn=this._svgElementFromString(Ye("<svg></svg>"));return hn.appendChild(yn),this._setSvgAttributes(hn,wt)}_svgElementFromString(de){const Xe=this._document.createElement("DIV");Xe.innerHTML=de;const wt=Xe.querySelector("svg");if(!wt)throw Error("<svg> tag not found");return wt}_toSvgElement(de){const Xe=this._svgElementFromString(Ye("<svg></svg>")),wt=de.attributes;for(let Qt=0;Qt<wt.length;Qt++){const{name:yn,value:hn}=wt[Qt];"id"!==yn&&Xe.setAttribute(yn,hn)}for(let Qt=0;Qt<de.childNodes.length;Qt++)de.childNodes[Qt].nodeType===this._document.ELEMENT_NODE&&Xe.appendChild(de.childNodes[Qt].cloneNode(!0));return Xe}_setSvgAttributes(de,Xe){return de.setAttribute("fit",""),de.setAttribute("height","100%"),de.setAttribute("width","100%"),de.setAttribute("preserveAspectRatio","xMidYMid meet"),de.setAttribute("focusable","false"),Xe&&Xe.viewBox&&de.setAttribute("viewBox",Xe.viewBox),de}_fetchIcon(de){const{url:Xe,options:wt}=de,Qt=wt?.withCredentials??!1;if(!this._httpClient)throw function Yt(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Xe)throw Error(`Cannot fetch icon from URL "${Xe}".`);const yn=this._sanitizer.sanitize(m.q3G.RESOURCE_URL,Xe);if(!yn)throw He(Xe);const hn=this._inProgressUrlFetches.get(yn);if(hn)return hn;const Sn=this._httpClient.get(yn,{responseType:"text",withCredentials:Qt}).pipe((0,ae.U)(Hr=>Ye(Hr)),(0,me.x)(()=>this._inProgressUrlFetches.delete(yn)),(0,at.B)());return this._inProgressUrlFetches.set(yn,Sn),Sn}_addSvgIconConfig(de,Xe,wt){return this._svgIconConfigs.set(it(de,Xe),wt),this}_addSvgIconSetConfig(de,Xe){const wt=this._iconSetConfigs.get(de);return wt?wt.push(Xe):this._iconSetConfigs.set(de,[Xe]),this}_svgElementFromConfig(de){if(!de.svgElement){const Xe=this._svgElementFromString(de.svgText);this._setSvgAttributes(Xe,de.options),de.svgElement=Xe}return de.svgElement}_getIconConfigFromResolvers(de,Xe){for(let wt=0;wt<this._resolvers.length;wt++){const Qt=this._resolvers[wt](Xe,de);if(Qt)return Ht(Qt)?new Te(Qt.url,null,Qt.options):new Te(Qt,null)}}}return Ie.\u0275fac=function(de){return new(de||Ie)(m.LFG(Vn,8),m.LFG(mn.H7),m.LFG(ee.K0,8),m.LFG(m.qLn))},Ie.\u0275prov=m.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();function Me(Ie){return Ie.cloneNode(!0)}function it(Ie,pe){return Ie+":"+pe}function Ht(Ie){return!(!Ie.url||!Ie.options)}const dt=(0,k.pj)(class{constructor(Ie){this._elementRef=Ie}}),gn=new m.OlP("MAT_ICON_DEFAULT_OPTIONS"),On=new m.OlP("mat-icon-location",{providedIn:"root",factory:function er(){const Ie=(0,m.f3M)(ee.K0),pe=Ie?Ie.location:null;return{getPathname:()=>pe?pe.pathname+pe.search:""}}}),fr=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],rr=fr.map(Ie=>`[${Ie}]`).join(", "),Ke=/^url\(['"]?#(.*?)['"]?\)$/;let Fe=(()=>{class Ie extends dt{constructor(de,Xe,wt,Qt,yn,hn){super(de),this._iconRegistry=Xe,this._location=Qt,this._errorHandler=yn,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=xe.w0.EMPTY,hn&&(hn.color&&(this.color=this.defaultColor=hn.color),hn.fontSet&&(this.fontSet=hn.fontSet)),wt||de.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(de){this._inline=(0,b.Ig)(de)}get svgIcon(){return this._svgIcon}set svgIcon(de){de!==this._svgIcon&&(de?this._updateSvgIcon(de):this._svgIcon&&this._clearSvgElement(),this._svgIcon=de)}get fontSet(){return this._fontSet}set fontSet(de){const Xe=this._cleanupFontValue(de);Xe!==this._fontSet&&(this._fontSet=Xe,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(de){const Xe=this._cleanupFontValue(de);Xe!==this._fontIcon&&(this._fontIcon=Xe,this._updateFontIconClasses())}_splitIconName(de){if(!de)return["",""];const Xe=de.split(":");switch(Xe.length){case 1:return["",Xe[0]];case 2:return Xe;default:throw Error(`Invalid icon name: "${de}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const de=this._elementsWithExternalReferences;if(de&&de.size){const Xe=this._location.getPathname();Xe!==this._previousPath&&(this._previousPath=Xe,this._prependPathToReferences(Xe))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(de){this._clearSvgElement();const Xe=this._location.getPathname();this._previousPath=Xe,this._cacheChildrenWithExternalReferences(de),this._prependPathToReferences(Xe),this._elementRef.nativeElement.appendChild(de)}_clearSvgElement(){const de=this._elementRef.nativeElement;let Xe=de.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Xe--;){const wt=de.childNodes[Xe];(1!==wt.nodeType||"svg"===wt.nodeName.toLowerCase())&&wt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const de=this._elementRef.nativeElement,Xe=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(wt=>wt.length>0);this._previousFontSetClass.forEach(wt=>de.classList.remove(wt)),Xe.forEach(wt=>de.classList.add(wt)),this._previousFontSetClass=Xe,this.fontIcon!==this._previousFontIconClass&&!Xe.includes("mat-ligature-font")&&(this._previousFontIconClass&&de.classList.remove(this._previousFontIconClass),this.fontIcon&&de.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(de){return"string"==typeof de?de.trim().split(" ")[0]:de}_prependPathToReferences(de){const Xe=this._elementsWithExternalReferences;Xe&&Xe.forEach((wt,Qt)=>{wt.forEach(yn=>{Qt.setAttribute(yn.name,`url('${de}#${yn.value}')`)})})}_cacheChildrenWithExternalReferences(de){const Xe=de.querySelectorAll(rr),wt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Qt=0;Qt<Xe.length;Qt++)fr.forEach(yn=>{const hn=Xe[Qt],Sn=hn.getAttribute(yn),Hr=Sn?Sn.match(Ke):null;if(Hr){let Yr=wt.get(hn);Yr||(Yr=[],wt.set(hn,Yr)),Yr.push({name:yn,value:Hr[1]})}})}_updateSvgIcon(de){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),de){const[Xe,wt]=this._splitIconName(de);Xe&&(this._svgNamespace=Xe),wt&&(this._svgName=wt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(wt,Xe).pipe((0,lt.q)(1)).subscribe(Qt=>this._setSvgElement(Qt),Qt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Xe}:${wt}! ${Qt.message}`))})}}}return Ie.\u0275fac=function(de){return new(de||Ie)(m.Y36(m.SBq),m.Y36(st),m.$8M("aria-hidden"),m.Y36(On),m.Y36(m.qLn),m.Y36(gn,8))},Ie.\u0275cmp=m.Xpm({type:Ie,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(de,Xe){2&de&&(m.uIk("data-mat-icon-type",Xe._usingFontIcon()?"font":"svg")("data-mat-icon-name",Xe._svgName||Xe.fontIcon)("data-mat-icon-namespace",Xe._svgNamespace||Xe.fontSet)("fontIcon",Xe._usingFontIcon()?Xe.fontIcon:null),m.ekj("mat-icon-inline",Xe.inline)("mat-icon-no-color","primary"!==Xe.color&&"accent"!==Xe.color&&"warn"!==Xe.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[m.qOj],ngContentSelectors:sn,decls:1,vars:0,template:function(de,Xe){1&de&&(m.F$t(),m.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),Ie})(),Ce=(()=>{class Ie{}return Ie.\u0275fac=function(de){return new(de||Ie)},Ie.\u0275mod=m.oAB({type:Ie}),Ie.\u0275inj=m.cJS({imports:[k.BQ,k.BQ]}),Ie})()},4144:(dn,ot,A)=>{A.d(ot,{Nt:()=>Lt,c:()=>Tt});var m=A(1281),k=A(3353),b=A(4650),ee=A(515),Ee=A(7579);const se=(0,k.i$)({passive:!0});let je=(()=>{class ze{constructor(ge,ue){this._platform=ge,this._ngZone=ue,this._monitoredElements=new Map}monitor(ge){if(!this._platform.isBrowser)return ee.E;const ue=(0,m.fI)(ge),Le=this._monitoredElements.get(ue);if(Le)return Le.subject;const R=new Ee.x,Pe="cdk-text-field-autofilled",ke=we=>{"cdk-text-field-autofill-start"!==we.animationName||ue.classList.contains(Pe)?"cdk-text-field-autofill-end"===we.animationName&&ue.classList.contains(Pe)&&(ue.classList.remove(Pe),this._ngZone.run(()=>R.next({target:we.target,isAutofilled:!1}))):(ue.classList.add(Pe),this._ngZone.run(()=>R.next({target:we.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{ue.addEventListener("animationstart",ke,se),ue.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(ue,{subject:R,unlisten:()=>{ue.removeEventListener("animationstart",ke,se)}}),R}stopMonitoring(ge){const ue=(0,m.fI)(ge),Le=this._monitoredElements.get(ue);Le&&(Le.unlisten(),Le.subject.complete(),ue.classList.remove("cdk-text-field-autofill-monitored"),ue.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(ue))}ngOnDestroy(){this._monitoredElements.forEach((ge,ue)=>this.stopMonitoring(ue))}}return ze.\u0275fac=function(ge){return new(ge||ze)(b.LFG(k.t4),b.LFG(b.R0b))},ze.\u0275prov=b.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})(),ae=(()=>{class ze{}return ze.\u0275fac=function(ge){return new(ge||ze)},ze.\u0275mod=b.oAB({type:ze}),ze.\u0275inj=b.cJS({}),ze})();var ye=A(4006),me=A(3238),at=A(9549);const Je=new b.OlP("MAT_INPUT_VALUE_ACCESSOR"),bt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ut=0;const ct=(0,me.FD)(class{constructor(ze,Se,ge,ue){this._defaultErrorStateMatcher=ze,this._parentForm=Se,this._parentFormGroup=ge,this.ngControl=ue,this.stateChanges=new Ee.x}});let Lt=(()=>{class ze extends ct{constructor(ge,ue,Le,R,Pe,ke,we,Ze,ve,pt){super(ke,R,Pe,Le),this._elementRef=ge,this._platform=ue,this._autofillMonitor=Ze,this._formField=pt,this._uid="mat-input-"+ut++,this.focused=!1,this.stateChanges=new Ee.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(en=>(0,k.qK)().has(en)),this._iOSKeyupListener=en=>{const Zt=en.target;!Zt.value&&0===Zt.selectionStart&&0===Zt.selectionEnd&&(Zt.setSelectionRange(1,1),Zt.setSelectionRange(0,0))};const Dt=this._elementRef.nativeElement,$t=Dt.nodeName.toLowerCase();this._inputValueAccessor=we||Dt,this._previousNativeValue=this.value,this.id=this.id,ue.IOS&&ve.runOutsideAngular(()=>{ge.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===$t,this._isTextarea="textarea"===$t,this._isInFormField=!!pt,this._isNativeSelect&&(this.controlType=Dt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(ge){this._disabled=(0,m.Ig)(ge),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(ge){this._id=ge||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ye.kI.required)??!1}set required(ge){this._required=(0,m.Ig)(ge)}get type(){return this._type}set type(ge){this._type=ge||"text",this._validateType(),!this._isTextarea&&(0,k.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(ge){ge!==this.value&&(this._inputValueAccessor.value=ge,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(ge){this._readonly=(0,m.Ig)(ge)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(ge=>{this.autofilled=ge.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(ge){this._elementRef.nativeElement.focus(ge)}_focusChanged(ge){ge!==this.focused&&(this.focused=ge,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const ge=this._formField,ue=ge&&"legacy"===ge.appearance&&!ge._hasLabel?.()?null:this.placeholder;if(ue!==this._previousPlaceholder){const Le=this._elementRef.nativeElement;this._previousPlaceholder=ue,ue?Le.setAttribute("placeholder",ue):Le.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const ge=this._elementRef.nativeElement.value;this._previousNativeValue!==ge&&(this._previousNativeValue=ge,this.stateChanges.next())}_validateType(){bt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let ge=this._elementRef.nativeElement.validity;return ge&&ge.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const ge=this._elementRef.nativeElement,ue=ge.options[0];return this.focused||ge.multiple||!this.empty||!!(ge.selectedIndex>-1&&ue&&ue.label)}return this.focused||!this.empty}setDescribedByIds(ge){ge.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ge.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const ge=this._elementRef.nativeElement;return this._isNativeSelect&&(ge.multiple||ge.size>1)}}return ze.\u0275fac=function(ge){return new(ge||ze)(b.Y36(b.SBq),b.Y36(k.t4),b.Y36(ye.a5,10),b.Y36(ye.F,8),b.Y36(ye.sg,8),b.Y36(me.rD),b.Y36(Je,10),b.Y36(je),b.Y36(b.R0b),b.Y36(at.G_,8))},ze.\u0275dir=b.lG2({type:ze,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(ge,ue){1&ge&&b.NdJ("focus",function(){return ue._focusChanged(!0)})("blur",function(){return ue._focusChanged(!1)})("input",function(){return ue._onInput()}),2&ge&&(b.Ikx("disabled",ue.disabled)("required",ue.required),b.uIk("id",ue.id)("data-placeholder",ue.placeholder)("name",ue.name||null)("readonly",ue.readonly&&!ue._isNativeSelect||null)("aria-invalid",ue.empty&&ue.required?null:ue.errorState)("aria-required",ue.required),b.ekj("mat-input-server",ue._isServer)("mat-native-select-inline",ue._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[b._Bn([{provide:at.Eo,useExisting:ze}]),b.qOj,b.TTD]}),ze})(),Tt=(()=>{class ze{}return ze.\u0275fac=function(ge){return new(ge||ze)},ze.\u0275mod=b.oAB({type:ze}),ze.\u0275inj=b.cJS({providers:[me.rD],imports:[ae,at.lN,me.BQ,ae,at.lN]}),ze})()},5113:(dn,ot,A)=>{A.d(ot,{gD:()=>rt,LD:()=>Ot});var m=A(8184),k=A(6895),b=A(4650),ee=A(3238),Ee=A(9549),se=A(1218),je=A(2687),xe=A(445),Oe=A(1281),ae=A(7579);class bt{constructor(_e=!1,q,te=!0,qe){this._multiple=_e,this._emitChanges=te,this.compareWith=qe,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ae.x,q&&q.length&&(_e?q.forEach(It=>this._markSelected(It)):this._markSelected(q[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(..._e){this._verifyValueAssignment(_e),_e.forEach(te=>this._markSelected(te));const q=this._hasQueuedChanges();return this._emitChangeEvent(),q}deselect(..._e){this._verifyValueAssignment(_e),_e.forEach(te=>this._unmarkSelected(te));const q=this._hasQueuedChanges();return this._emitChangeEvent(),q}setSelection(..._e){this._verifyValueAssignment(_e);const q=this.selected,te=new Set(_e);_e.forEach(It=>this._markSelected(It)),q.filter(It=>!te.has(It)).forEach(It=>this._unmarkSelected(It));const qe=this._hasQueuedChanges();return this._emitChangeEvent(),qe}toggle(_e){return this.isSelected(_e)?this.deselect(_e):this.select(_e)}clear(_e=!0){this._unmarkAll();const q=this._hasQueuedChanges();return _e&&this._emitChangeEvent(),q}isSelected(_e){if(this.compareWith){for(const q of this._selection)if(this.compareWith(q,_e))return!0;return!1}return this._selection.has(_e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(_e){this._multiple&&this.selected&&this._selected.sort(_e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(_e){this.isSelected(_e)||(this._multiple||this._unmarkAll(),this.isSelected(_e)||this._selection.add(_e),this._emitChanges&&this._selectedToEmit.push(_e))}_unmarkSelected(_e){this.isSelected(_e)&&(this._selection.delete(_e),this._emitChanges&&this._deselectedToEmit.push(_e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(_e=>this._unmarkSelected(_e))}_verifyValueAssignment(_e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}var Tt=A(9521),ze=A(4006),Se=A(9770),ge=A(6451),ue=A(8675),Le=A(3900),R=A(5698),Pe=A(9300),ke=A(4004),we=A(1884),Ze=A(2722),ve=A(7340);const pt=["trigger"],Dt=["panel"];function $t(Ne,_e){if(1&Ne&&(b.TgZ(0,"span",8),b._uU(1),b.qZA()),2&Ne){const q=b.oxw();b.xp6(1),b.Oqu(q.placeholder)}}function en(Ne,_e){if(1&Ne&&(b.TgZ(0,"span",12),b._uU(1),b.qZA()),2&Ne){const q=b.oxw(2);b.xp6(1),b.Oqu(q.triggerValue)}}function Zt(Ne,_e){1&Ne&&b.Hsn(0,0,["*ngSwitchCase","true"])}function qt(Ne,_e){if(1&Ne&&(b.TgZ(0,"span",9),b.YNc(1,en,2,1,"span",10),b.YNc(2,Zt,1,0,"ng-content",11),b.qZA()),2&Ne){const q=b.oxw();b.Q6J("ngSwitch",!!q.customTrigger),b.xp6(2),b.Q6J("ngSwitchCase",!0)}}function En(Ne,_e){if(1&Ne){const q=b.EpF();b.TgZ(0,"div",13)(1,"div",14,15),b.NdJ("@transformPanel.done",function(qe){b.CHM(q);const It=b.oxw();return b.KtG(It._panelDoneAnimatingStream.next(qe.toState))})("keydown",function(qe){b.CHM(q);const It=b.oxw();return b.KtG(It._handleKeydown(qe))}),b.Hsn(3,1),b.qZA()()}if(2&Ne){const q=b.oxw();b.Q6J("@transformPanelWrap",void 0),b.xp6(1),b.Gre("mat-select-panel ",q._getPanelTheme(),""),b.Udp("transform-origin",q._transformOrigin)("font-size",q._triggerFontSize,"px"),b.Q6J("ngClass",q.panelClass)("@transformPanel",q.multiple?"showing-multiple":"showing"),b.uIk("id",q.id+"-panel")("aria-multiselectable",q.multiple)("aria-label",q.ariaLabel||null)("aria-labelledby",q._getPanelAriaLabelledby())}}const Dn=[[["mat-select-trigger"]],"*"],vn=["mat-select-trigger","*"],Jt={transformPanelWrap:(0,ve.X$)("transformPanelWrap",[(0,ve.eR)("* => void",(0,ve.IO)("@transformPanel",[(0,ve.pV)()],{optional:!0}))]),transformPanel:(0,ve.X$)("transformPanel",[(0,ve.SB)("void",(0,ve.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,ve.SB)("showing",(0,ve.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,ve.SB)("showing-multiple",(0,ve.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,ve.eR)("void => *",(0,ve.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,ve.eR)("* => void",(0,ve.jt)("100ms 25ms linear",(0,ve.oB)({opacity:0})))])};let br=0;const Hn=new b.OlP("mat-select-scroll-strategy"),tn=new b.OlP("MAT_SELECT_CONFIG"),Jn={provide:Hn,deps:[m.aV],useFactory:function Xn(Ne){return()=>Ne.scrollStrategies.reposition()}};class be{constructor(_e,q){this.source=_e,this.value=q}}const Z=(0,ee.Kr)((0,ee.sb)((0,ee.Id)((0,ee.FD)(class{constructor(Ne,_e,q,te,qe){this._elementRef=Ne,this._defaultErrorStateMatcher=_e,this._parentForm=q,this._parentFormGroup=te,this.ngControl=qe,this.stateChanges=new ae.x}})))),H=new b.OlP("MatSelectTrigger");let Ve=(()=>{class Ne extends Z{constructor(q,te,qe,It,Nt,mn,sn,vt,et,Ye,Mt,Yt,He,Ue){super(Nt,It,sn,vt,Ye),this._viewportRuler=q,this._changeDetectorRef=te,this._ngZone=qe,this._dir=mn,this._parentFormField=et,this._liveAnnouncer=He,this._defaultOptions=Ue,this._panelOpen=!1,this._compareWith=(Te,st)=>Te===st,this._uid="mat-select-"+br++,this._triggerAriaLabelledBy=null,this._destroy=new ae.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+br++,this._panelDoneAnimatingStream=new ae.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,Se.P)(()=>{const Te=this.options;return Te?Te.changes.pipe((0,ue.O)(Te),(0,Le.w)(()=>(0,ge.T)(...Te.map(st=>st.onSelectionChange)))):this._ngZone.onStable.pipe((0,R.q)(1),(0,Le.w)(()=>this.optionSelectionChanges))}),this.openedChange=new b.vpe,this._openedStream=this.openedChange.pipe((0,Pe.h)(Te=>Te),(0,ke.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Pe.h)(Te=>!Te),(0,ke.U)(()=>{})),this.selectionChange=new b.vpe,this.valueChange=new b.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Ue?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Ue.typeaheadDebounceInterval),this._scrollStrategyFactory=Yt,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Mt)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(q){this._placeholder=q,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ze.kI.required)??!1}set required(q){this._required=(0,Oe.Ig)(q),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(q){this._multiple=(0,Oe.Ig)(q)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(q){this._disableOptionCentering=(0,Oe.Ig)(q)}get compareWith(){return this._compareWith}set compareWith(q){this._compareWith=q,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(q){this._assignValue(q)&&this._onChange(q)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(q){this._typeaheadDebounceInterval=(0,Oe.su)(q)}get id(){return this._id}set id(q){this._id=q||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new bt(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,we.x)(),(0,Ze.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,Ze.R)(this._destroy)).subscribe(q=>{q.added.forEach(te=>te.select()),q.removed.forEach(te=>te.deselect())}),this.options.changes.pipe((0,ue.O)(null),(0,Ze.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const q=this._getTriggerAriaLabelledby(),te=this.ngControl;if(q!==this._triggerAriaLabelledBy){const qe=this._elementRef.nativeElement;this._triggerAriaLabelledBy=q,q?qe.setAttribute("aria-labelledby",q):qe.removeAttribute("aria-labelledby")}te&&(this._previousControl!==te.control&&(void 0!==this._previousControl&&null!==te.disabled&&te.disabled!==this.disabled&&(this.disabled=te.disabled),this._previousControl=te.control),this.updateErrorState())}ngOnChanges(q){(q.disabled||q.userAriaDescribedBy)&&this.stateChanges.next(),q.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(q){this._assignValue(q)}registerOnChange(q){this._onChange=q}registerOnTouched(q){this._onTouched=q}setDisabledState(q){this.disabled=q,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const q=this._selectionModel.selected.map(te=>te.viewValue);return this._isRtl()&&q.reverse(),q.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(q){this.disabled||(this.panelOpen?this._handleOpenKeydown(q):this._handleClosedKeydown(q))}_handleClosedKeydown(q){const te=q.keyCode,qe=te===Tt.JH||te===Tt.LH||te===Tt.oh||te===Tt.SV,It=te===Tt.K5||te===Tt.L_,Nt=this._keyManager;if(!Nt.isTyping()&&It&&!(0,Tt.Vb)(q)||(this.multiple||q.altKey)&&qe)q.preventDefault(),this.open();else if(!this.multiple){const mn=this.selected;Nt.onKeydown(q);const sn=this.selected;sn&&mn!==sn&&this._liveAnnouncer.announce(sn.viewValue,1e4)}}_handleOpenKeydown(q){const te=this._keyManager,qe=q.keyCode,It=qe===Tt.JH||qe===Tt.LH,Nt=te.isTyping();if(It&&q.altKey)q.preventDefault(),this.close();else if(Nt||qe!==Tt.K5&&qe!==Tt.L_||!te.activeItem||(0,Tt.Vb)(q))if(!Nt&&this._multiple&&qe===Tt.A&&q.ctrlKey){q.preventDefault();const mn=this.options.some(sn=>!sn.disabled&&!sn.selected);this.options.forEach(sn=>{sn.disabled||(mn?sn.select():sn.deselect())})}else{const mn=te.activeItemIndex;te.onKeydown(q),this._multiple&&It&&q.shiftKey&&te.activeItem&&te.activeItemIndex!==mn&&te.activeItem._selectViaInteraction()}else q.preventDefault(),te.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,R.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(q){if(this._selectionModel.selected.forEach(te=>te.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&q)Array.isArray(q),q.forEach(te=>this._selectOptionByValue(te)),this._sortValues();else{const te=this._selectOptionByValue(q);te?this._keyManager.updateActiveItem(te):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(q){const te=this.options.find(qe=>{if(this._selectionModel.isSelected(qe))return!1;try{return null!=qe.value&&this._compareWith(qe.value,q)}catch{return!1}});return te&&this._selectionModel.select(te),te}_assignValue(q){return!!(q!==this._value||this._multiple&&Array.isArray(q))&&(this.options&&this._setSelectionByValue(q),this._value=q,!0)}_initKeyManager(){this._keyManager=new je.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,Ze.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,Ze.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const q=(0,ge.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Ze.R)(q)).subscribe(te=>{this._onSelect(te.source,te.isUserInput),te.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ge.T)(...this.options.map(te=>te._stateChanges)).pipe((0,Ze.R)(q)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(q,te){const qe=this._selectionModel.isSelected(q);null!=q.value||this._multiple?(qe!==q.selected&&(q.selected?this._selectionModel.select(q):this._selectionModel.deselect(q)),te&&this._keyManager.setActiveItem(q),this.multiple&&(this._sortValues(),te&&this.focus())):(q.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(q.value)),qe!==this._selectionModel.isSelected(q)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const q=this.options.toArray();this._selectionModel.sort((te,qe)=>this.sortComparator?this.sortComparator(te,qe,q):q.indexOf(te)-q.indexOf(qe)),this.stateChanges.next()}}_propagateChanges(q){let te=null;te=this.multiple?this.selected.map(qe=>qe.value):this.selected?this.selected.value:q,this._value=te,this.valueChange.emit(te),this._onChange(te),this.selectionChange.emit(this._getChangeEvent(te)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(q){this._elementRef.nativeElement.focus(q)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const q=this._parentFormField?.getLabelId();return this.ariaLabelledby?(q?q+" ":"")+this.ariaLabelledby:q}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const q=this._parentFormField?.getLabelId();let te=(q?q+" ":"")+this._valueId;return this.ariaLabelledby&&(te+=" "+this.ariaLabelledby),te}_panelDoneAnimating(q){this.openedChange.emit(q)}setDescribedByIds(q){q.length?this._elementRef.nativeElement.setAttribute("aria-describedby",q.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return Ne.\u0275fac=function(q){return new(q||Ne)(b.Y36(se.rL),b.Y36(b.sBO),b.Y36(b.R0b),b.Y36(ee.rD),b.Y36(b.SBq),b.Y36(xe.Is,8),b.Y36(ze.F,8),b.Y36(ze.sg,8),b.Y36(Ee.G_,8),b.Y36(ze.a5,10),b.$8M("tabindex"),b.Y36(Hn),b.Y36(je.Kd),b.Y36(tn,8))},Ne.\u0275dir=b.lG2({type:Ne,viewQuery:function(q,te){if(1&q&&(b.Gf(pt,5),b.Gf(Dt,5),b.Gf(m.pI,5)),2&q){let qe;b.iGM(qe=b.CRH())&&(te.trigger=qe.first),b.iGM(qe=b.CRH())&&(te.panel=qe.first),b.iGM(qe=b.CRH())&&(te._overlayDir=qe.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[b.qOj,b.TTD]}),Ne})(),rt=(()=>{class Ne extends Ve{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(q,te,qe){const It=this._getItemHeight();return Math.min(Math.max(0,It*q-te+It/2),qe)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,Ze.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,R.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(q){const te=(0,ee.CB)(q,this.options,this.optionGroups),qe=this._getItemHeight();this.panel.nativeElement.scrollTop=0===q&&1===te?0:(0,ee.jH)((q+te)*qe,qe,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(q){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(q)}_getChangeEvent(q){return new be(this,q)}_calculateOverlayOffsetX(){const q=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),te=this._viewportRuler.getViewportSize(),qe=this._isRtl(),It=this.multiple?56:32;let Nt;if(this.multiple)Nt=40;else if(this.disableOptionCentering)Nt=16;else{let vt=this._selectionModel.selected[0]||this.options.first;Nt=vt&&vt.group?32:16}qe||(Nt*=-1);const mn=0-(q.left+Nt-(qe?It:0)),sn=q.right+Nt-te.width+(qe?0:It);mn>0?Nt+=mn+8:sn>0&&(Nt-=sn+8),this._overlayDir.offsetX=Math.round(Nt),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(q,te,qe){const It=this._getItemHeight(),Nt=(It-this._triggerRect.height)/2,mn=Math.floor(256/It);let sn;return this.disableOptionCentering?0:(sn=0===this._scrollTop?q*It:this._scrollTop===qe?(q-(this._getItemCount()-mn))*It+(It-(this._getItemCount()*It-256)%It):te-It/2,Math.round(-1*sn-Nt))}_checkOverlayWithinViewport(q){const te=this._getItemHeight(),qe=this._viewportRuler.getViewportSize(),It=this._triggerRect.top-8,Nt=qe.height-this._triggerRect.bottom-8,mn=Math.abs(this._offsetY),vt=Math.min(this._getItemCount()*te,256)-mn-this._triggerRect.height;vt>Nt?this._adjustPanelUp(vt,Nt):mn>It?this._adjustPanelDown(mn,It,q):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(q,te){const qe=Math.round(q-te);this._scrollTop-=qe,this._offsetY-=qe,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(q,te,qe){const It=Math.round(q-te);if(this._scrollTop+=It,this._offsetY+=It,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=qe)return this._scrollTop=qe,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const q=this._getItemHeight(),te=this._getItemCount(),qe=Math.min(te*q,256),Nt=te*q-qe;let mn;mn=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),mn+=(0,ee.CB)(mn,this.options,this.optionGroups);const sn=qe/2;this._scrollTop=this._calculateOverlayScroll(mn,sn,Nt),this._offsetY=this._calculateOverlayOffsetY(mn,sn,Nt),this._checkOverlayWithinViewport(Nt)}_getOriginBasedOnOption(){const q=this._getItemHeight(),te=(q-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-te+q/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return Ne.\u0275fac=function(){let _e;return function(te){return(_e||(_e=b.n5z(Ne)))(te||Ne)}}(),Ne.\u0275cmp=b.Xpm({type:Ne,selectors:[["mat-select"]],contentQueries:function(q,te,qe){if(1&q&&(b.Suo(qe,H,5),b.Suo(qe,ee.ey,5),b.Suo(qe,ee.K7,5)),2&q){let It;b.iGM(It=b.CRH())&&(te.customTrigger=It.first),b.iGM(It=b.CRH())&&(te.options=It),b.iGM(It=b.CRH())&&(te.optionGroups=It)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(q,te){1&q&&b.NdJ("keydown",function(It){return te._handleKeydown(It)})("focus",function(){return te._onFocus()})("blur",function(){return te._onBlur()}),2&q&&(b.uIk("id",te.id)("tabindex",te.tabIndex)("aria-controls",te.panelOpen?te.id+"-panel":null)("aria-expanded",te.panelOpen)("aria-label",te.ariaLabel||null)("aria-required",te.required.toString())("aria-disabled",te.disabled.toString())("aria-invalid",te.errorState)("aria-activedescendant",te._getAriaActiveDescendant()),b.ekj("mat-select-disabled",te.disabled)("mat-select-invalid",te.errorState)("mat-select-required",te.required)("mat-select-empty",te.empty)("mat-select-multiple",te.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[b._Bn([{provide:Ee.Eo,useExisting:Ne},{provide:ee.HF,useExisting:Ne}]),b.qOj],ngContentSelectors:vn,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(q,te){if(1&q&&(b.F$t(Dn),b.TgZ(0,"div",0,1),b.NdJ("click",function(){return te.toggle()}),b.TgZ(3,"div",2),b.YNc(4,$t,2,1,"span",3),b.YNc(5,qt,3,2,"span",4),b.qZA(),b.TgZ(6,"div",5),b._UZ(7,"div",6),b.qZA()(),b.YNc(8,En,4,14,"ng-template",7),b.NdJ("backdropClick",function(){return te.close()})("attach",function(){return te._onAttached()})("detach",function(){return te.close()})),2&q){const qe=b.MAs(1);b.uIk("aria-owns",te.panelOpen?te.id+"-panel":null),b.xp6(3),b.Q6J("ngSwitch",te.empty),b.uIk("id",te._valueId),b.xp6(1),b.Q6J("ngSwitchCase",!0),b.xp6(1),b.Q6J("ngSwitchCase",!1),b.xp6(3),b.Q6J("cdkConnectedOverlayPanelClass",te._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",te._scrollStrategy)("cdkConnectedOverlayOrigin",qe)("cdkConnectedOverlayOpen",te.panelOpen)("cdkConnectedOverlayPositions",te._positions)("cdkConnectedOverlayMinWidth",null==te._triggerRect?null:te._triggerRect.width)("cdkConnectedOverlayOffsetY",te._offsetY)}},dependencies:[k.mk,k.RF,k.n9,k.ED,m.pI,m.xu],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Jt.transformPanelWrap,Jt.transformPanel]},changeDetection:0}),Ne})(),Ot=(()=>{class Ne{}return Ne.\u0275fac=function(q){return new(q||Ne)},Ne.\u0275mod=b.oAB({type:Ne}),Ne.\u0275inj=b.cJS({providers:[Jn],imports:[k.ez,m.U8,ee.Ng,ee.BQ,se.ZD,Ee.lN,ee.Ng,ee.BQ]}),Ne})()},7009:(dn,ot,A)=>{A.d(ot,{Ve:()=>Le,ZX:()=>ue,ux:()=>ke});var m=A(8184),k=A(4080),b=A(6895),ee=A(4650),Ee=A(3238),se=A(4859),je=A(7579),xe=A(3353),Oe=A(5698),ae=A(2722),ye=A(7340),me=A(2687),at=A(2289);function lt(we,Ze){if(1&we){const ve=ee.EpF();ee.TgZ(0,"div",2)(1,"button",3),ee.NdJ("click",function(){ee.CHM(ve);const Dt=ee.oxw();return ee.KtG(Dt.action())}),ee._uU(2),ee.qZA()()}if(2&we){const ve=ee.oxw();ee.xp6(2),ee.Oqu(ve.data.action)}}function Je(we,Ze){}const bt=new ee.OlP("MatSnackBarData");class ut{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const ct=Math.pow(2,31)-1;class Lt{constructor(Ze,ve){this._overlayRef=ve,this._afterDismissed=new je.x,this._afterOpened=new je.x,this._onAction=new je.x,this._dismissedByAction=!1,this.containerInstance=Ze,Ze._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Ze){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Ze,ct))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Tt=(()=>{class we{constructor(ve,pt){this.snackBarRef=ve,this.data=pt}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return we.\u0275fac=function(ve){return new(ve||we)(ee.Y36(Lt),ee.Y36(bt))},we.\u0275cmp=ee.Xpm({type:we,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(ve,pt){1&ve&&(ee.TgZ(0,"span",0),ee._uU(1),ee.qZA(),ee.YNc(2,lt,3,1,"div",1)),2&ve&&(ee.xp6(1),ee.Oqu(pt.data.message),ee.xp6(1),ee.Q6J("ngIf",pt.hasAction))},dependencies:[b.O5,se.lW],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),we})();const ze={snackBarState:(0,ye.X$)("state",[(0,ye.SB)("void, hidden",(0,ye.oB)({transform:"scale(0.8)",opacity:0})),(0,ye.SB)("visible",(0,ye.oB)({transform:"scale(1)",opacity:1})),(0,ye.eR)("* => visible",(0,ye.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,ye.eR)("* => void, * => hidden",(0,ye.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,ye.oB)({opacity:0})))])};let Se=(()=>{class we extends k.en{constructor(ve,pt,Dt,$t,en){super(),this._ngZone=ve,this._elementRef=pt,this._changeDetectorRef=Dt,this._platform=$t,this.snackBarConfig=en,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new je.x,this._onExit=new je.x,this._onEnter=new je.x,this._animationState="void",this.attachDomPortal=Zt=>{this._assertNotAttached();const qt=this._portalOutlet.attachDomPortal(Zt);return this._afterPortalAttached(),qt},this._live="assertive"!==en.politeness||en.announcementMessage?"off"===en.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(ve){this._assertNotAttached();const pt=this._portalOutlet.attachComponentPortal(ve);return this._afterPortalAttached(),pt}attachTemplatePortal(ve){this._assertNotAttached();const pt=this._portalOutlet.attachTemplatePortal(ve);return this._afterPortalAttached(),pt}onAnimationEnd(ve){const{fromState:pt,toState:Dt}=ve;if(("void"===Dt&&"void"!==pt||"hidden"===Dt)&&this._completeExit(),"visible"===Dt){const $t=this._onEnter;this._ngZone.run(()=>{$t.next(),$t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Oe.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const ve=this._elementRef.nativeElement,pt=this.snackBarConfig.panelClass;pt&&(Array.isArray(pt)?pt.forEach(Dt=>ve.classList.add(Dt)):ve.classList.add(pt))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const ve=this._elementRef.nativeElement.querySelector("[aria-hidden]"),pt=this._elementRef.nativeElement.querySelector("[aria-live]");if(ve&&pt){let Dt=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&ve.contains(document.activeElement)&&(Dt=document.activeElement),ve.removeAttribute("aria-hidden"),pt.appendChild(ve),Dt?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return we.\u0275fac=function(ve){return new(ve||we)(ee.Y36(ee.R0b),ee.Y36(ee.SBq),ee.Y36(ee.sBO),ee.Y36(xe.t4),ee.Y36(ut))},we.\u0275dir=ee.lG2({type:we,viewQuery:function(ve,pt){if(1&ve&&ee.Gf(k.Pl,7),2&ve){let Dt;ee.iGM(Dt=ee.CRH())&&(pt._portalOutlet=Dt.first)}},features:[ee.qOj]}),we})(),ge=(()=>{class we extends Se{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return we.\u0275fac=function(){let Ze;return function(pt){return(Ze||(Ze=ee.n5z(we)))(pt||we)}}(),we.\u0275cmp=ee.Xpm({type:we,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(ve,pt){1&ve&&ee.WFA("@state.done",function($t){return pt.onAnimationEnd($t)}),2&ve&&ee.d8E("@state",pt._animationState)},features:[ee.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(ve,pt){1&ve&&(ee.TgZ(0,"div",0),ee.YNc(1,Je,0,0,"ng-template",1),ee.qZA(),ee._UZ(2,"div")),2&ve&&(ee.xp6(2),ee.uIk("aria-live",pt._live)("role",pt._role))},dependencies:[k.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[ze.snackBarState]}}),we})(),ue=(()=>{class we{}return we.\u0275fac=function(ve){return new(ve||we)},we.\u0275mod=ee.oAB({type:we}),we.\u0275inj=ee.cJS({imports:[m.U8,k.eL,b.ez,se.ot,Ee.BQ,Ee.BQ]}),we})();const Le=new ee.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function R(){return new ut}});let Pe=(()=>{class we{constructor(ve,pt,Dt,$t,en,Zt){this._overlay=ve,this._live=pt,this._injector=Dt,this._breakpointObserver=$t,this._parentSnackBar=en,this._defaultConfig=Zt,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const ve=this._parentSnackBar;return ve?ve._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(ve){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=ve:this._snackBarRefAtThisLevel=ve}openFromComponent(ve,pt){return this._attach(ve,pt)}openFromTemplate(ve,pt){return this._attach(ve,pt)}open(ve,pt="",Dt){const $t={...this._defaultConfig,...Dt};return $t.data={message:ve,action:pt},$t.announcementMessage===ve&&($t.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,$t)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(ve,pt){const $t=ee.zs3.create({parent:pt&&pt.viewContainerRef&&pt.viewContainerRef.injector||this._injector,providers:[{provide:ut,useValue:pt}]}),en=new k.C5(this.snackBarContainerComponent,pt.viewContainerRef,$t),Zt=ve.attach(en);return Zt.instance.snackBarConfig=pt,Zt.instance}_attach(ve,pt){const Dt={...new ut,...this._defaultConfig,...pt},$t=this._createOverlay(Dt),en=this._attachSnackBarContainer($t,Dt),Zt=new Lt(en,$t);if(ve instanceof ee.Rgc){const qt=new k.UE(ve,null,{$implicit:Dt.data,snackBarRef:Zt});Zt.instance=en.attachTemplatePortal(qt)}else{const qt=this._createInjector(Dt,Zt),En=new k.C5(ve,void 0,qt),Dn=en.attachComponentPortal(En);Zt.instance=Dn.instance}return this._breakpointObserver.observe(at.u3.HandsetPortrait).pipe((0,ae.R)($t.detachments())).subscribe(qt=>{$t.overlayElement.classList.toggle(this.handsetCssClass,qt.matches)}),Dt.announcementMessage&&en._onAnnounce.subscribe(()=>{this._live.announce(Dt.announcementMessage,Dt.politeness)}),this._animateSnackBar(Zt,Dt),this._openedSnackBarRef=Zt,this._openedSnackBarRef}_animateSnackBar(ve,pt){ve.afterDismissed().subscribe(()=>{this._openedSnackBarRef==ve&&(this._openedSnackBarRef=null),pt.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{ve.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):ve.containerInstance.enter(),pt.duration&&pt.duration>0&&ve.afterOpened().subscribe(()=>ve._dismissAfter(pt.duration))}_createOverlay(ve){const pt=new m.X_;pt.direction=ve.direction;let Dt=this._overlay.position().global();const $t="rtl"===ve.direction,en="left"===ve.horizontalPosition||"start"===ve.horizontalPosition&&!$t||"end"===ve.horizontalPosition&&$t,Zt=!en&&"center"!==ve.horizontalPosition;return en?Dt.left("0"):Zt?Dt.right("0"):Dt.centerHorizontally(),"top"===ve.verticalPosition?Dt.top("0"):Dt.bottom("0"),pt.positionStrategy=Dt,this._overlay.create(pt)}_createInjector(ve,pt){return ee.zs3.create({parent:ve&&ve.viewContainerRef&&ve.viewContainerRef.injector||this._injector,providers:[{provide:Lt,useValue:pt},{provide:bt,useValue:ve.data}]})}}return we.\u0275fac=function(ve){return new(ve||we)(ee.LFG(m.aV),ee.LFG(me.Kd),ee.LFG(ee.zs3),ee.LFG(at.Yg),ee.LFG(we,12),ee.LFG(Le))},we.\u0275prov=ee.Yz7({token:we,factory:we.\u0275fac}),we})(),ke=(()=>{class we extends Pe{constructor(ve,pt,Dt,$t,en,Zt){super(ve,pt,Dt,$t,en,Zt),this.simpleSnackBarComponent=Tt,this.snackBarContainerComponent=ge,this.handsetCssClass="mat-snack-bar-handset"}}return we.\u0275fac=function(ve){return new(ve||we)(ee.LFG(m.aV),ee.LFG(me.Kd),ee.LFG(ee.zs3),ee.LFG(at.Yg),ee.LFG(we,12),ee.LFG(Le))},we.\u0275prov=ee.Yz7({token:we,factory:we.\u0275fac,providedIn:ue}),we})()},3683:(dn,ot,A)=>{A.d(ot,{Ye:()=>Oe,g0:()=>ye});var m=A(4650),k=A(3238),b=A(3353),ee=A(6895);const Ee=["*",[["mat-toolbar-row"]]],se=["*","mat-toolbar-row"],je=(0,k.pj)(class{constructor(me){this._elementRef=me}});let xe=(()=>{class me{}return me.\u0275fac=function(lt){return new(lt||me)},me.\u0275dir=m.lG2({type:me,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),me})(),Oe=(()=>{class me extends je{constructor(lt,Je,bt){super(lt),this._platform=Je,this._document=bt}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return me.\u0275fac=function(lt){return new(lt||me)(m.Y36(m.SBq),m.Y36(b.t4),m.Y36(ee.K0))},me.\u0275cmp=m.Xpm({type:me,selectors:[["mat-toolbar"]],contentQueries:function(lt,Je,bt){if(1&lt&&m.Suo(bt,xe,5),2&lt){let ut;m.iGM(ut=m.CRH())&&(Je._toolbarRows=ut)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(lt,Je){2&lt&&m.ekj("mat-toolbar-multiple-rows",Je._toolbarRows.length>0)("mat-toolbar-single-row",0===Je._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[m.qOj],ngContentSelectors:se,decls:2,vars:0,template:function(lt,Je){1&lt&&(m.F$t(Ee),m.Hsn(0),m.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),me})(),ye=(()=>{class me{}return me.\u0275fac=function(lt){return new(lt||me)},me.\u0275mod=m.oAB({type:me}),me.\u0275inj=m.cJS({imports:[k.BQ,k.BQ]}),me})()},1481:(dn,ot,A)=>{A.d(ot,{Dx:()=>rt,H7:()=>On,b2:()=>be,q6:()=>Hn,se:()=>ve});var m=A(6895),k=A(4650);class b extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ee extends b{static makeCurrent(){(0,m.HT)(new ee)}onAndCancel(Fe,Ce,Ie){return Fe.addEventListener(Ce,Ie,!1),()=>{Fe.removeEventListener(Ce,Ie,!1)}}dispatchEvent(Fe,Ce){Fe.dispatchEvent(Ce)}remove(Fe){Fe.parentNode&&Fe.parentNode.removeChild(Fe)}createElement(Fe,Ce){return(Ce=Ce||this.getDefaultDocument()).createElement(Fe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Fe){return Fe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Fe){return Fe instanceof DocumentFragment}getGlobalEventTarget(Fe,Ce){return"window"===Ce?window:"document"===Ce?Fe:"body"===Ce?Fe.body:null}getBaseHref(Fe){const Ce=function se(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==Ce?null:function xe(Ke){je=je||document.createElement("a"),je.setAttribute("href",Ke);const Fe=je.pathname;return"/"===Fe.charAt(0)?Fe:`/${Fe}`}(Ce)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(Fe){return(0,m.Mx)(document.cookie,Fe)}}let je,Ee=null;const Oe=new k.OlP("TRANSITION_ID"),ye=[{provide:k.ip1,useFactory:function ae(Ke,Fe,Ce){return()=>{Ce.get(k.CZH).donePromise.then(()=>{const Ie=(0,m.q)(),pe=Fe.querySelectorAll(`style[ng-transition="${Ke}"]`);for(let de=0;de<pe.length;de++)Ie.remove(pe[de])})}},deps:[Oe,m.K0,k.zs3],multi:!0}];let at=(()=>{class Ke{build(){return new XMLHttpRequest}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)},Ke.\u0275prov=k.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const lt=new k.OlP("EventManagerPlugins");let Je=(()=>{class Ke{constructor(Ce,Ie){this._zone=Ie,this._eventNameToPlugin=new Map,Ce.forEach(pe=>pe.manager=this),this._plugins=Ce.slice().reverse()}addEventListener(Ce,Ie,pe){return this._findPluginFor(Ie).addEventListener(Ce,Ie,pe)}addGlobalEventListener(Ce,Ie,pe){return this._findPluginFor(Ie).addGlobalEventListener(Ce,Ie,pe)}getZone(){return this._zone}_findPluginFor(Ce){const Ie=this._eventNameToPlugin.get(Ce);if(Ie)return Ie;const pe=this._plugins;for(let de=0;de<pe.length;de++){const Xe=pe[de];if(Xe.supports(Ce))return this._eventNameToPlugin.set(Ce,Xe),Xe}throw new Error(`No event manager plugin found for event ${Ce}`)}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)(k.LFG(lt),k.LFG(k.R0b))},Ke.\u0275prov=k.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();class bt{constructor(Fe){this._doc=Fe}addGlobalEventListener(Fe,Ce,Ie){const pe=(0,m.q)().getGlobalEventTarget(this._doc,Fe);if(!pe)throw new Error(`Unsupported event target ${pe} for event ${Ce}`);return this.addEventListener(pe,Ce,Ie)}}let ut=(()=>{class Ke{constructor(){this._stylesSet=new Set}addStyles(Ce){const Ie=new Set;Ce.forEach(pe=>{this._stylesSet.has(pe)||(this._stylesSet.add(pe),Ie.add(pe))}),this.onStylesAdded(Ie)}onStylesAdded(Ce){}getAllStyles(){return Array.from(this._stylesSet)}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)},Ke.\u0275prov=k.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})(),ct=(()=>{class Ke extends ut{constructor(Ce){super(),this._doc=Ce,this._hostNodes=new Map,this._hostNodes.set(Ce.head,[])}_addStylesToHost(Ce,Ie,pe){Ce.forEach(de=>{const Xe=this._doc.createElement("style");Xe.textContent=de,pe.push(Ie.appendChild(Xe))})}addHost(Ce){const Ie=[];this._addStylesToHost(this._stylesSet,Ce,Ie),this._hostNodes.set(Ce,Ie)}removeHost(Ce){const Ie=this._hostNodes.get(Ce);Ie&&Ie.forEach(Lt),this._hostNodes.delete(Ce)}onStylesAdded(Ce){this._hostNodes.forEach((Ie,pe)=>{this._addStylesToHost(Ce,pe,Ie)})}ngOnDestroy(){this._hostNodes.forEach(Ce=>Ce.forEach(Lt))}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)(k.LFG(m.K0))},Ke.\u0275prov=k.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();function Lt(Ke){(0,m.q)().remove(Ke)}const Tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ze=/%COMP%/g;function ke(Ke,Fe,Ce){for(let Ie=0;Ie<Fe.length;Ie++){let pe=Fe[Ie];Array.isArray(pe)?ke(Ke,pe,Ce):(pe=pe.replace(ze,Ke),Ce.push(pe))}return Ce}function we(Ke){return Fe=>{if("__ngUnwrap__"===Fe)return Ke;!1===Ke(Fe)&&(Fe.preventDefault(),Fe.returnValue=!1)}}let ve=(()=>{class Ke{constructor(Ce,Ie,pe){this.eventManager=Ce,this.sharedStylesHost=Ie,this.appId=pe,this.rendererByCompId=new Map,this.defaultRenderer=new pt(Ce)}createRenderer(Ce,Ie){if(!Ce||!Ie)return this.defaultRenderer;switch(Ie.encapsulation){case k.ifc.Emulated:{let pe=this.rendererByCompId.get(Ie.id);return pe||(pe=new Zt(this.eventManager,this.sharedStylesHost,Ie,this.appId),this.rendererByCompId.set(Ie.id,pe)),pe.applyToHost(Ce),pe}case 1:case k.ifc.ShadowDom:return new qt(this.eventManager,this.sharedStylesHost,Ce,Ie);default:if(!this.rendererByCompId.has(Ie.id)){const pe=ke(Ie.id,Ie.styles,[]);this.sharedStylesHost.addStyles(pe),this.rendererByCompId.set(Ie.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)(k.LFG(Je),k.LFG(ct),k.LFG(k.AFp))},Ke.\u0275prov=k.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();class pt{constructor(Fe){this.eventManager=Fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Fe,Ce){return Ce?document.createElementNS(Tt[Ce]||Ce,Fe):document.createElement(Fe)}createComment(Fe){return document.createComment(Fe)}createText(Fe){return document.createTextNode(Fe)}appendChild(Fe,Ce){(en(Fe)?Fe.content:Fe).appendChild(Ce)}insertBefore(Fe,Ce,Ie){Fe&&(en(Fe)?Fe.content:Fe).insertBefore(Ce,Ie)}removeChild(Fe,Ce){Fe&&Fe.removeChild(Ce)}selectRootElement(Fe,Ce){let Ie="string"==typeof Fe?document.querySelector(Fe):Fe;if(!Ie)throw new Error(`The selector "${Fe}" did not match any elements`);return Ce||(Ie.textContent=""),Ie}parentNode(Fe){return Fe.parentNode}nextSibling(Fe){return Fe.nextSibling}setAttribute(Fe,Ce,Ie,pe){if(pe){Ce=pe+":"+Ce;const de=Tt[pe];de?Fe.setAttributeNS(de,Ce,Ie):Fe.setAttribute(Ce,Ie)}else Fe.setAttribute(Ce,Ie)}removeAttribute(Fe,Ce,Ie){if(Ie){const pe=Tt[Ie];pe?Fe.removeAttributeNS(pe,Ce):Fe.removeAttribute(`${Ie}:${Ce}`)}else Fe.removeAttribute(Ce)}addClass(Fe,Ce){Fe.classList.add(Ce)}removeClass(Fe,Ce){Fe.classList.remove(Ce)}setStyle(Fe,Ce,Ie,pe){pe&(k.JOm.DashCase|k.JOm.Important)?Fe.style.setProperty(Ce,Ie,pe&k.JOm.Important?"important":""):Fe.style[Ce]=Ie}removeStyle(Fe,Ce,Ie){Ie&k.JOm.DashCase?Fe.style.removeProperty(Ce):Fe.style[Ce]=""}setProperty(Fe,Ce,Ie){Fe[Ce]=Ie}setValue(Fe,Ce){Fe.nodeValue=Ce}listen(Fe,Ce,Ie){return"string"==typeof Fe?this.eventManager.addGlobalEventListener(Fe,Ce,we(Ie)):this.eventManager.addEventListener(Fe,Ce,we(Ie))}}function en(Ke){return"TEMPLATE"===Ke.tagName&&void 0!==Ke.content}class Zt extends pt{constructor(Fe,Ce,Ie,pe){super(Fe),this.component=Ie;const de=ke(pe+"-"+Ie.id,Ie.styles,[]);Ce.addStyles(de),this.contentAttr=function R(Ke){return"_ngcontent-%COMP%".replace(ze,Ke)}(pe+"-"+Ie.id),this.hostAttr=function Pe(Ke){return"_nghost-%COMP%".replace(ze,Ke)}(pe+"-"+Ie.id)}applyToHost(Fe){super.setAttribute(Fe,this.hostAttr,"")}createElement(Fe,Ce){const Ie=super.createElement(Fe,Ce);return super.setAttribute(Ie,this.contentAttr,""),Ie}}class qt extends pt{constructor(Fe,Ce,Ie,pe){super(Fe),this.sharedStylesHost=Ce,this.hostEl=Ie,this.shadowRoot=Ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const de=ke(pe.id,pe.styles,[]);for(let Xe=0;Xe<de.length;Xe++){const wt=document.createElement("style");wt.textContent=de[Xe],this.shadowRoot.appendChild(wt)}}nodeOrShadowRoot(Fe){return Fe===this.hostEl?this.shadowRoot:Fe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Fe,Ce){return super.appendChild(this.nodeOrShadowRoot(Fe),Ce)}insertBefore(Fe,Ce,Ie){return super.insertBefore(this.nodeOrShadowRoot(Fe),Ce,Ie)}removeChild(Fe,Ce){return super.removeChild(this.nodeOrShadowRoot(Fe),Ce)}parentNode(Fe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Fe)))}}let En=(()=>{class Ke extends bt{constructor(Ce){super(Ce)}supports(Ce){return!0}addEventListener(Ce,Ie,pe){return Ce.addEventListener(Ie,pe,!1),()=>this.removeEventListener(Ce,Ie,pe)}removeEventListener(Ce,Ie,pe){return Ce.removeEventListener(Ie,pe)}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)(k.LFG(m.K0))},Ke.\u0275prov=k.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const Dn=["alt","control","meta","shift"],vn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jt={alt:Ke=>Ke.altKey,control:Ke=>Ke.ctrlKey,meta:Ke=>Ke.metaKey,shift:Ke=>Ke.shiftKey};let Vn=(()=>{class Ke extends bt{constructor(Ce){super(Ce)}supports(Ce){return null!=Ke.parseEventName(Ce)}addEventListener(Ce,Ie,pe){const de=Ke.parseEventName(Ie),Xe=Ke.eventCallback(de.fullKey,pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(Ce,de.domEventName,Xe))}static parseEventName(Ce){const Ie=Ce.toLowerCase().split("."),pe=Ie.shift();if(0===Ie.length||"keydown"!==pe&&"keyup"!==pe)return null;const de=Ke._normalizeKey(Ie.pop());let Xe="",wt=Ie.indexOf("code");if(wt>-1&&(Ie.splice(wt,1),Xe="code."),Dn.forEach(yn=>{const hn=Ie.indexOf(yn);hn>-1&&(Ie.splice(hn,1),Xe+=yn+".")}),Xe+=de,0!=Ie.length||0===de.length)return null;const Qt={};return Qt.domEventName=pe,Qt.fullKey=Xe,Qt}static matchEventFullKeyCode(Ce,Ie){let pe=vn[Ce.key]||Ce.key,de="";return Ie.indexOf("code.")>-1&&(pe=Ce.code,de="code."),!(null==pe||!pe)&&(pe=pe.toLowerCase()," "===pe?pe="space":"."===pe&&(pe="dot"),Dn.forEach(Xe=>{Xe!==pe&&(0,Jt[Xe])(Ce)&&(de+=Xe+".")}),de+=pe,de===Ie)}static eventCallback(Ce,Ie,pe){return de=>{Ke.matchEventFullKeyCode(de,Ce)&&pe.runGuarded(()=>Ie(de))}}static _normalizeKey(Ce){return"esc"===Ce?"escape":Ce}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)(k.LFG(m.K0))},Ke.\u0275prov=k.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const Hn=(0,k.eFA)(k._c5,"browser",[{provide:k.Lbi,useValue:m.bD},{provide:k.g9A,useValue:function Un(){ee.makeCurrent()},multi:!0},{provide:m.K0,useFactory:function zn(){return(0,k.RDi)(document),document},deps:[]}]),Xn=new k.OlP(""),tn=[{provide:k.rWj,useClass:class me{addToWindow(Fe){k.dqk.getAngularTestability=(Ie,pe=!0)=>{const de=Fe.findTestabilityInTree(Ie,pe);if(null==de)throw new Error("Could not find testability for element.");return de},k.dqk.getAllAngularTestabilities=()=>Fe.getAllTestabilities(),k.dqk.getAllAngularRootElements=()=>Fe.getAllRootElements(),k.dqk.frameworkStabilizers||(k.dqk.frameworkStabilizers=[]),k.dqk.frameworkStabilizers.push(Ie=>{const pe=k.dqk.getAllAngularTestabilities();let de=pe.length,Xe=!1;const wt=function(Qt){Xe=Xe||Qt,de--,0==de&&Ie(Xe)};pe.forEach(function(Qt){Qt.whenStable(wt)})})}findTestabilityInTree(Fe,Ce,Ie){return null==Ce?null:Fe.getTestability(Ce)??(Ie?(0,m.q)().isShadowRoot(Ce)?this.findTestabilityInTree(Fe,Ce.host,!0):this.findTestabilityInTree(Fe,Ce.parentElement,!0):null)}},deps:[]},{provide:k.lri,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]},{provide:k.dDg,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]}],Jn=[{provide:k.zSh,useValue:"root"},{provide:k.qLn,useFactory:function Kn(){return new k.qLn},deps:[]},{provide:lt,useClass:En,multi:!0,deps:[m.K0,k.R0b,k.Lbi]},{provide:lt,useClass:Vn,multi:!0,deps:[m.K0]},{provide:ve,useClass:ve,deps:[Je,ct,k.AFp]},{provide:k.FYo,useExisting:ve},{provide:ut,useExisting:ct},{provide:ct,useClass:ct,deps:[m.K0]},{provide:Je,useClass:Je,deps:[lt,k.R0b]},{provide:m.JF,useClass:at,deps:[]},[]];let be=(()=>{class Ke{constructor(Ce){}static withServerTransition(Ce){return{ngModule:Ke,providers:[{provide:k.AFp,useValue:Ce.appId},{provide:Oe,useExisting:k.AFp},ye]}}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)(k.LFG(Xn,12))},Ke.\u0275mod=k.oAB({type:Ke}),Ke.\u0275inj=k.cJS({providers:[...Jn,...tn],imports:[m.ez,k.hGG]}),Ke})(),rt=(()=>{class Ke{constructor(Ce){this._doc=Ce}getTitle(){return this._doc.title}setTitle(Ce){this._doc.title=Ce||""}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)(k.LFG(m.K0))},Ke.\u0275prov=k.Yz7({token:Ke,factory:function(Ce){let Ie=null;return Ie=Ce?new Ce:function Ve(){return new rt((0,k.LFG)(m.K0))}(),Ie},providedIn:"root"}),Ke})();typeof window<"u"&&window;let On=(()=>{class Ke{}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)},Ke.\u0275prov=k.Yz7({token:Ke,factory:function(Ce){let Ie=null;return Ie=Ce?new(Ce||Ke):k.LFG(fr),Ie},providedIn:"root"}),Ke})(),fr=(()=>{class Ke extends On{constructor(Ce){super(),this._doc=Ce}sanitize(Ce,Ie){if(null==Ie)return null;switch(Ce){case k.q3G.NONE:return Ie;case k.q3G.HTML:return(0,k.qzn)(Ie,"HTML")?(0,k.z3N)(Ie):(0,k.EiD)(this._doc,String(Ie)).toString();case k.q3G.STYLE:return(0,k.qzn)(Ie,"Style")?(0,k.z3N)(Ie):Ie;case k.q3G.SCRIPT:if((0,k.qzn)(Ie,"Script"))return(0,k.z3N)(Ie);throw new Error("unsafe value used in a script context");case k.q3G.URL:return(0,k.qzn)(Ie,"URL")?(0,k.z3N)(Ie):(0,k.mCW)(String(Ie));case k.q3G.RESOURCE_URL:if((0,k.qzn)(Ie,"ResourceURL"))return(0,k.z3N)(Ie);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Ce} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Ce){return(0,k.JVY)(Ce)}bypassSecurityTrustStyle(Ce){return(0,k.L6k)(Ce)}bypassSecurityTrustScript(Ce){return(0,k.eBb)(Ce)}bypassSecurityTrustUrl(Ce){return(0,k.LAX)(Ce)}bypassSecurityTrustResourceUrl(Ce){return(0,k.pB0)(Ce)}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)(k.LFG(m.K0))},Ke.\u0275prov=k.Yz7({token:Ke,factory:function(Ce){let Ie=null;return Ie=Ce?new Ce:function er(Ke){return new fr(Ke.get(m.K0))}(k.LFG(k.zs3)),Ie},providedIn:"root"}),Ke})()},284:(dn,ot,A)=>{A.d(ot,{gz:()=>Ai,F0:()=>Or,rH:()=>ro,Bz:()=>Bi,lC:()=>ri});var m=A(4650),k=A(8996),b=A(9646),ee=A(1135),Ee=A(6805),se=A(9841),je=A(7272),xe=A(9770),Oe=A(9635),ae=A(2843),ye=A(9751),me=A(515),at=A(727),lt=A(4482),Je=A(5403);function bt(){return(0,lt.e)((S,M)=>{let I=null;S._refCount++;const B=(0,Je.x)(M,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(I=null);const G=S._connection,oe=I;I=null,G&&(!oe||G===oe)&&G.unsubscribe(),M.unsubscribe()});S.subscribe(B),B.closed||(I=S.connect())})}class ut extends ye.y{constructor(M,I){super(),this.source=M,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,lt.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new at.w0;const I=this.getSubject();M.add(this.source.subscribe((0,Je.x)(I,void 0,()=>{this._teardown(),I.complete()},B=>{this._teardown(),I.error(B)},()=>this._teardown()))),M.closed&&(this._connection=null,M=at.w0.EMPTY)}return M}refCount(){return bt()(this)}}var ct=A(7579),Lt=A(6895),Tt=A(4004),ze=A(3900),Se=A(5698),ge=A(8675),ue=A(9300),Le=A(5577),R=A(590),Pe=A(4351),ke=A(8505),we=A(262),Ze=A(5026);function ve(S){return S<=0?()=>me.E:(0,lt.e)((M,I)=>{let B=[];M.subscribe((0,Je.x)(I,G=>{B.push(G),S<B.length&&B.shift()},()=>{for(const G of B)I.next(G);I.complete()},void 0,()=>{B=null}))})}var pt=A(8068),Dt=A(6590),$t=A(4671);function en(S,M){const I=arguments.length>=2;return B=>B.pipe(S?(0,ue.h)((G,oe)=>S(G,oe,B)):$t.y,ve(1),I?(0,Dt.d)(M):(0,pt.T)(()=>new Ee.K))}var Zt=A(2529),En=A(8746),Dn=A(8189),vn=A(1481);const Jt="primary",Vn=Symbol("RouteTitle");class Mn{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const I=this.params[M];return Array.isArray(I)?I[0]:I}return null}getAll(M){if(this.has(M)){const I=this.params[M];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function Cn(S){return new Mn(S)}function br(S,M,I){const B=I.path.split("/");if(B.length>S.length||"full"===I.pathMatch&&(M.hasChildren()||B.length<S.length))return null;const G={};for(let oe=0;oe<B.length;oe++){const $e=B[oe],Qe=S[oe];if($e.startsWith(":"))G[$e.substring(1)]=Qe;else if($e!==Qe.path)return null}return{consumed:S.slice(0,B.length),posParams:G}}function Ln(S,M){const I=S?Object.keys(S):void 0,B=M?Object.keys(M):void 0;if(!I||!B||I.length!=B.length)return!1;let G;for(let oe=0;oe<I.length;oe++)if(G=I[oe],!Un(S[G],M[G]))return!1;return!0}function Un(S,M){if(Array.isArray(S)&&Array.isArray(M)){if(S.length!==M.length)return!1;const I=[...S].sort(),B=[...M].sort();return I.every((G,oe)=>B[oe]===G)}return S===M}function Kn(S){return Array.prototype.concat.apply([],S)}function zn(S){return S.length>0?S[S.length-1]:null}function Hn(S,M){for(const I in S)S.hasOwnProperty(I)&&M(S[I],I)}function Xn(S){return(0,m.CqO)(S)?S:(0,m.QGY)(S)?(0,k.D)(Promise.resolve(S)):(0,b.of)(S)}const be={exact:function Ve(S,M,I){if(!Nt(S.segments,M.segments)||!_e(S.segments,M.segments,I)||S.numberOfChildren!==M.numberOfChildren)return!1;for(const B in M.children)if(!S.children[B]||!Ve(S.children[B],M.children[B],I))return!1;return!0},subset:Ot},Z={exact:function J(S,M){return Ln(S,M)},subset:function rt(S,M){return Object.keys(M).length<=Object.keys(S).length&&Object.keys(M).every(I=>Un(S[I],M[I]))},ignored:()=>!0};function H(S,M,I){return be[I.paths](S.root,M.root,I.matrixParams)&&Z[I.queryParams](S.queryParams,M.queryParams)&&!("exact"===I.fragment&&S.fragment!==M.fragment)}function Ot(S,M,I){return Ne(S,M,M.segments,I)}function Ne(S,M,I,B){if(S.segments.length>I.length){const G=S.segments.slice(0,I.length);return!(!Nt(G,I)||M.hasChildren()||!_e(G,I,B))}if(S.segments.length===I.length){if(!Nt(S.segments,I)||!_e(S.segments,I,B))return!1;for(const G in M.children)if(!S.children[G]||!Ot(S.children[G],M.children[G],B))return!1;return!0}{const G=I.slice(0,S.segments.length),oe=I.slice(S.segments.length);return!!(Nt(S.segments,G)&&_e(S.segments,G,B)&&S.children[Jt])&&Ne(S.children[Jt],M,oe,B)}}function _e(S,M,I){return M.every((B,G)=>Z[I](S[G].parameters,B.parameters))}class q{constructor(M,I,B){this.root=M,this.queryParams=I,this.fragment=B}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return et.serialize(this)}}class te{constructor(M,I){this.segments=M,this.children=I,this.parent=null,Hn(I,(B,G)=>B.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ye(this)}}class qe{constructor(M,I){this.path=M,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=Cn(this.parameters)),this._parameterMap}toString(){return De(this)}}function Nt(S,M){return S.length===M.length&&S.every((I,B)=>I.path===M[B].path)}let sn=(()=>{class S{}return S.\u0275fac=function(I){return new(I||S)},S.\u0275prov=m.Yz7({token:S,factory:function(){return new vt},providedIn:"root"}),S})();class vt{parse(M){const I=new rr(M);return new q(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(M){const I=`/${Mt(M.root,!0)}`,B=function it(S){const M=Object.keys(S).map(I=>{const B=S[I];return Array.isArray(B)?B.map(G=>`${He(I)}=${He(G)}`).join("&"):`${He(I)}=${He(B)}`}).filter(I=>!!I);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${I}${B}${"string"==typeof M.fragment?`#${function Ue(S){return encodeURI(S)}(M.fragment)}`:""}`}}const et=new vt;function Ye(S){return S.segments.map(M=>De(M)).join("/")}function Mt(S,M){if(!S.hasChildren())return Ye(S);if(M){const I=S.children[Jt]?Mt(S.children[Jt],!1):"",B=[];return Hn(S.children,(G,oe)=>{oe!==Jt&&B.push(`${oe}:${Mt(G,!1)}`)}),B.length>0?`${I}(${B.join("//")})`:I}{const I=function mn(S,M){let I=[];return Hn(S.children,(B,G)=>{G===Jt&&(I=I.concat(M(B,G)))}),Hn(S.children,(B,G)=>{G!==Jt&&(I=I.concat(M(B,G)))}),I}(S,(B,G)=>G===Jt?[Mt(S.children[Jt],!1)]:[`${G}:${Mt(B,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Jt]?`${Ye(S)}/${I[0]}`:`${Ye(S)}/(${I.join("//")})`}}function Yt(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function He(S){return Yt(S).replace(/%3B/gi,";")}function Te(S){return Yt(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function st(S){return decodeURIComponent(S)}function Et(S){return st(S.replace(/\+/g,"%20"))}function De(S){return`${Te(S.path)}${function Me(S){return Object.keys(S).map(M=>`;${Te(M)}=${Te(S[M])}`).join("")}(S.parameters)}`}const Ht=/^[^\/()?;=#]+/;function dt(S){const M=S.match(Ht);return M?M[0]:""}const gn=/^[^=?&#]+/,er=/^[^&#]+/;class rr{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new te([],{}):new te([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let B={};return this.peekStartsWith("(")&&(B=this.parseParens(!1)),(M.length>0||Object.keys(I).length>0)&&(B[Jt]=new te(M,I)),B}parseSegment(){const M=dt(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(M),new qe(st(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const I=dt(this.remaining);if(!I)return;this.capture(I);let B="";if(this.consumeOptional("=")){const G=dt(this.remaining);G&&(B=G,this.capture(B))}M[st(I)]=st(B)}parseQueryParam(M){const I=function On(S){const M=S.match(gn);return M?M[0]:""}(this.remaining);if(!I)return;this.capture(I);let B="";if(this.consumeOptional("=")){const $e=function fr(S){const M=S.match(er);return M?M[0]:""}(this.remaining);$e&&(B=$e,this.capture(B))}const G=Et(I),oe=Et(B);if(M.hasOwnProperty(G)){let $e=M[G];Array.isArray($e)||($e=[$e],M[G]=$e),$e.push(oe)}else M[G]=oe}parseParens(M){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const B=dt(this.remaining),G=this.remaining[B.length];if("/"!==G&&")"!==G&&";"!==G)throw new m.vHH(4010,!1);let oe;B.indexOf(":")>-1?(oe=B.slice(0,B.indexOf(":")),this.capture(oe),this.capture(":")):M&&(oe=Jt);const $e=this.parseChildren();I[oe]=1===Object.keys($e).length?$e[Jt]:new te([],$e),this.consumeOptional("//")}return I}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new m.vHH(4011,!1)}}function Ke(S){return S.segments.length>0?new te([],{[Jt]:S}):S}function Fe(S){const M={};for(const B of Object.keys(S.children)){const oe=Fe(S.children[B]);(oe.segments.length>0||oe.hasChildren())&&(M[B]=oe)}return function Ce(S){if(1===S.numberOfChildren&&S.children[Jt]){const M=S.children[Jt];return new te(S.segments.concat(M.segments),M.children)}return S}(new te(S.segments,M))}function Ie(S){return S instanceof q}function Qt(S,M,I,B,G){if(0===I.length)return Sn(M.root,M.root,M.root,B,G);const oe=function jr(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Yr(!0,0,S);let M=0,I=!1;const B=S.reduce((G,oe,$e)=>{if("object"==typeof oe&&null!=oe){if(oe.outlets){const Qe={};return Hn(oe.outlets,(zt,fn)=>{Qe[fn]="string"==typeof zt?zt.split("/"):zt}),[...G,{outlets:Qe}]}if(oe.segmentPath)return[...G,oe.segmentPath]}return"string"!=typeof oe?[...G,oe]:0===$e?(oe.split("/").forEach((Qe,zt)=>{0==zt&&"."===Qe||(0==zt&&""===Qe?I=!0:".."===Qe?M++:""!=Qe&&G.push(Qe))}),G):[...G,oe]},[]);return new Yr(I,M,B)}(I);return oe.toRoot()?Sn(M.root,M.root,new te([],{}),B,G):function $e(zt){const fn=function wi(S,M,I,B){if(S.isAbsolute)return new pr(M.root,!0,0);if(-1===B)return new pr(I,I===M.root,0);return function ii(S,M,I){let B=S,G=M,oe=I;for(;oe>G;){if(oe-=G,B=B.parent,!B)throw new m.vHH(4005,!1);G=B.segments.length}return new pr(B,!1,G-oe)}(I,B+(yn(S.commands[0])?0:1),S.numberOfDoubleDots)}(oe,M,S.snapshot?._urlSegment,zt),jn=fn.processChildren?Mr(fn.segmentGroup,fn.index,oe.commands):Ni(fn.segmentGroup,fn.index,oe.commands);return Sn(M.root,fn.segmentGroup,jn,B,G)}(S.snapshot?._lastPathIndex)}function yn(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function hn(S){return"object"==typeof S&&null!=S&&S.outlets}function Sn(S,M,I,B,G){let $e,oe={};B&&Hn(B,(zt,fn)=>{oe[fn]=Array.isArray(zt)?zt.map(jn=>`${jn}`):`${zt}`}),$e=S===M?I:Hr(S,M,I);const Qe=Ke(Fe($e));return new q(Qe,oe,G)}function Hr(S,M,I){const B={};return Hn(S.children,(G,oe)=>{B[oe]=G===M?I:Hr(G,M,I)}),new te(S.segments,B)}class Yr{constructor(M,I,B){if(this.isAbsolute=M,this.numberOfDoubleDots=I,this.commands=B,M&&B.length>0&&yn(B[0]))throw new m.vHH(4003,!1);const G=B.find(hn);if(G&&G!==zn(B))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pr{constructor(M,I,B){this.segmentGroup=M,this.processChildren=I,this.index=B}}function Ni(S,M,I){if(S||(S=new te([],{})),0===S.segments.length&&S.hasChildren())return Mr(S,M,I);const B=function Zs(S,M,I){let B=0,G=M;const oe={match:!1,pathIndex:0,commandIndex:0};for(;G<S.segments.length;){if(B>=I.length)return oe;const $e=S.segments[G],Qe=I[B];if(hn(Qe))break;const zt=`${Qe}`,fn=B<I.length-1?I[B+1]:null;if(G>0&&void 0===zt)break;if(zt&&fn&&"object"==typeof fn&&void 0===fn.outlets){if(!Qr(zt,fn,$e))return oe;B+=2}else{if(!Qr(zt,{},$e))return oe;B++}G++}return{match:!0,pathIndex:G,commandIndex:B}}(S,M,I),G=I.slice(B.commandIndex);if(B.match&&B.pathIndex<S.segments.length){const oe=new te(S.segments.slice(0,B.pathIndex),{});return oe.children[Jt]=new te(S.segments.slice(B.pathIndex),S.children),Mr(oe,0,G)}return B.match&&0===G.length?new te(S.segments,{}):B.match&&!S.hasChildren()?Fi(S,M,I):B.match?Mr(S,0,G):Fi(S,M,I)}function Mr(S,M,I){if(0===I.length)return new te(S.segments,{});{const B=function Sr(S){return hn(S[0])?S[0].outlets:{[Jt]:S}}(I),G={};return Hn(B,(oe,$e)=>{"string"==typeof oe&&(oe=[oe]),null!==oe&&(G[$e]=Ni(S.children[$e],M,oe))}),Hn(S.children,(oe,$e)=>{void 0===B[$e]&&(G[$e]=oe)}),new te(S.segments,G)}}function Fi(S,M,I){const B=S.segments.slice(0,M);let G=0;for(;G<I.length;){const oe=I[G];if(hn(oe)){const zt=Ii(oe.outlets);return new te(B,zt)}if(0===G&&yn(I[0])){B.push(new qe(S.segments[M].path,_s(I[0]))),G++;continue}const $e=hn(oe)?oe.outlets[Jt]:`${oe}`,Qe=G<I.length-1?I[G+1]:null;$e&&Qe&&yn(Qe)?(B.push(new qe($e,_s(Qe))),G+=2):(B.push(new qe($e,{})),G++)}return new te(B,{})}function Ii(S){const M={};return Hn(S,(I,B)=>{"string"==typeof I&&(I=[I]),null!==I&&(M[B]=Fi(new te([],{}),0,I))}),M}function _s(S){const M={};return Hn(S,(I,B)=>M[B]=`${I}`),M}function Qr(S,M,I){return S==I.path&&Ln(M,I.parameters)}class Xr{constructor(M,I){this.id=M,this.url=I}}class Ti extends Xr{constructor(M,I,B="imperative",G=null){super(M,I),this.type=0,this.navigationTrigger=B,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wr extends Xr{constructor(M,I,B){super(M,I),this.urlAfterRedirects=B,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cs extends Xr{constructor(M,I,B,G){super(M,I),this.reason=B,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class di extends Xr{constructor(M,I,B,G){super(M,I),this.error=B,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ts extends Xr{constructor(M,I,B,G){super(M,I),this.urlAfterRedirects=B,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wo extends Xr{constructor(M,I,B,G){super(M,I),this.urlAfterRedirects=B,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ko extends Xr{constructor(M,I,B,G,oe){super(M,I),this.urlAfterRedirects=B,this.state=G,this.shouldActivate=oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qs extends Xr{constructor(M,I,B,G){super(M,I),this.urlAfterRedirects=B,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Si extends Xr{constructor(M,I,B,G){super(M,I),this.urlAfterRedirects=B,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fa{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fa{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class To{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xs{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qo{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hi{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mt{constructor(M,I,B){this.routerEvent=M,this.position=I,this.anchor=B,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class St{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const I=this.pathFromRoot(M);return I.length>1?I[I.length-2]:null}children(M){const I=Ut(M,this._root);return I?I.children.map(B=>B.value):[]}firstChild(M){const I=Ut(M,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(M){const I=Xt(M,this._root);return I.length<2?[]:I[I.length-2].children.map(G=>G.value).filter(G=>G!==M)}pathFromRoot(M){return Xt(M,this._root).map(I=>I.value)}}function Ut(S,M){if(S===M.value)return M;for(const I of M.children){const B=Ut(S,I);if(B)return B}return null}function Xt(S,M){if(S===M.value)return[M];for(const I of M.children){const B=Xt(S,I);if(B.length)return B.unshift(M),B}return[]}class an{constructor(M,I){this.value=M,this.children=I}toString(){return`TreeNode(${this.value})`}}function $n(S){const M={};return S&&S.children.forEach(I=>M[I.value.outlet]=I),M}class ar extends St{constructor(M,I){super(M),this.snapshot=I,Js(this,M)}toString(){return this.snapshot.toString()}}function Rr(S,M){const I=function ji(S,M){const $e=new Gn([],{},{},"",{},Jt,M,null,S.root,-1,{});return new Mi("",new an($e,[]))}(S,M),B=new ee.X([new qe("",{})]),G=new ee.X({}),oe=new ee.X({}),$e=new ee.X({}),Qe=new ee.X(""),zt=new Ai(B,G,$e,Qe,oe,Jt,M,I.root);return zt.snapshot=I.root,new ar(new an(zt,[]),I)}class Ai{constructor(M,I,B,G,oe,$e,Qe,zt){this.url=M,this.params=I,this.queryParams=B,this.fragment=G,this.data=oe,this.outlet=$e,this.component=Qe,this.title=this.data?.pipe((0,Tt.U)(fn=>fn[Vn]))??(0,b.of)(void 0),this._futureSnapshot=zt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(M=>Cn(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(M=>Cn(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ts(S,M="emptyOnly"){const I=S.pathFromRoot;let B=0;if("always"!==M)for(B=I.length-1;B>=1;){const G=I[B],oe=I[B-1];if(G.routeConfig&&""===G.routeConfig.path)B--;else{if(oe.component)break;B--}}return function Cr(S){return S.reduce((M,I)=>({params:{...M.params,...I.params},data:{...M.data,...I.data},resolve:{...I.data,...M.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(B))}class Gn{constructor(M,I,B,G,oe,$e,Qe,zt,fn,jn,Rn,$r){this.url=M,this.params=I,this.queryParams=B,this.fragment=G,this.data=oe,this.outlet=$e,this.component=Qe,this.title=this.data?.[Vn],this.routeConfig=zt,this._urlSegment=fn,this._lastPathIndex=jn,this._correctedLastPathIndex=$r??jn,this._resolve=Rn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(B=>B.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mi extends St{constructor(M,I){super(I),this.url=M,Js(this,I)}toString(){return pa(this._root)}}function Js(S,M){M.value._routerState=S,M.children.forEach(I=>Js(S,I))}function pa(S){const M=S.children.length>0?` { ${S.children.map(pa).join(", ")} } `:"";return`${S.value}${M}`}function li(S){if(S.snapshot){const M=S.snapshot,I=S._futureSnapshot;S.snapshot=I,Ln(M.queryParams,I.queryParams)||S.queryParams.next(I.queryParams),M.fragment!==I.fragment&&S.fragment.next(I.fragment),Ln(M.params,I.params)||S.params.next(I.params),function dr(S,M){if(S.length!==M.length)return!1;for(let I=0;I<S.length;++I)if(!Ln(S[I],M[I]))return!1;return!0}(M.url,I.url)||S.url.next(I.url),Ln(M.data,I.data)||S.data.next(I.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function Yi(S,M){const I=Ln(S.params,M.params)&&function It(S,M){return Nt(S,M)&&S.every((I,B)=>Ln(I.parameters,M[B].parameters))}(S.url,M.url);return I&&!(!S.parent!=!M.parent)&&(!S.parent||Yi(S.parent,M.parent))}function Zi(S,M,I){if(I&&S.shouldReuseRoute(M.value,I.value.snapshot)){const B=I.value;B._futureSnapshot=M.value;const G=function uo(S,M,I){return M.children.map(B=>{for(const G of I.children)if(S.shouldReuseRoute(B.value,G.value.snapshot))return Zi(S,B,G);return Zi(S,B)})}(S,M,I);return new an(B,G)}{if(S.shouldAttach(M.value)){const oe=S.retrieve(M.value);if(null!==oe){const $e=oe.route;return $e.value._futureSnapshot=M.value,$e.children=M.children.map(Qe=>Zi(S,Qe)),$e}}const B=function Qi(S){return new Ai(new ee.X(S.url),new ee.X(S.params),new ee.X(S.queryParams),new ee.X(S.fragment),new ee.X(S.data),S.outlet,S.component,S)}(M.value),G=M.children.map(oe=>Zi(S,oe));return new an(B,G)}}const So="ngNavigationCancelingError";function Ao(S,M){const{redirectTo:I,navigationBehaviorOptions:B}=Ie(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,G=Mo(!1,0,M);return G.url=I,G.navigationBehaviorOptions=B,G}function Mo(S,M,I){const B=new Error("NavigationCancelingError: "+(S||""));return B[So]=!0,B.cancellationCode=M,I&&(B.url=I),B}function Ns(S){return ns(S)&&Ie(S.url)}function ns(S){return S&&S[So]}class rs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Fs,this.attachRef=null}}let Fs=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(I,B){const G=this.getOrCreateContext(I);G.outlet=B,this.contexts.set(I,G)}onChildOutletDestroyed(I){const B=this.getContext(I);B&&(B.outlet=null,B.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let B=this.getContext(I);return B||(B=new rs,this.contexts.set(I,B)),B}getContext(I){return this.contexts.get(I)||null}}return S.\u0275fac=function(I){return new(I||S)},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const ho=!1;let ri=(()=>{class S{constructor(I,B,G,oe,$e){this.parentContexts=I,this.location=B,this.changeDetector=oe,this.environmentInjector=$e,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=G||Jt,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,ho);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,ho);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,ho);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,B){this.activated=I,this._activatedRoute=B,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,B){if(this.isActivated)throw new m.vHH(4013,ho);this._activatedRoute=I;const G=this.location,$e=I._futureSnapshot.component,Qe=this.parentContexts.getOrCreateContext(this.name).children,zt=new lr(I,Qe,G.injector);if(B&&function ma(S){return!!S.resolveComponentFactory}(B)){const fn=B.resolveComponentFactory($e);this.activated=G.createComponent(fn,G.length,zt)}else this.activated=G.createComponent($e,{index:G.length,injector:zt,environmentInjector:B??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(I){return new(I||S)(m.Y36(Fs),m.Y36(m.s_b),m.$8M("name"),m.Y36(m.sBO),m.Y36(m.lqb))},S.\u0275dir=m.lG2({type:S,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),S})();class lr{constructor(M,I,B){this.route=M,this.childContexts=I,this.parent=B}get(M,I){return M===Ai?this.route:M===Fs?this.childContexts:this.parent.get(M,I)}}let Jr=(()=>{class S{}return S.\u0275fac=function(I){return new(I||S)},S.\u0275cmp=m.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(I,B){1&I&&m._UZ(0,"router-outlet")},dependencies:[ri],encapsulation:2}),S})();function Yo(S,M){return S.providers&&!S._injector&&(S._injector=(0,m.MMx)(S.providers,M,`Route: ${S.path}`)),S._injector??M}function Ss(S){const M=S.children&&S.children.map(Ss),I=M?{...S,children:M}:{...S};return!I.component&&!I.loadComponent&&(M||I.loadChildren)&&I.outlet&&I.outlet!==Jt&&(I.component=Jr),I}function $i(S){return S.outlet||Jt}function Gi(S,M){const I=S.filter(B=>$i(B)===M);return I.push(...S.filter(B=>$i(B)!==M)),I}function to(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let M=S.parent;M;M=M.parent){const I=M.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class cr{constructor(M,I,B,G){this.routeReuseStrategy=M,this.futureState=I,this.currState=B,this.forwardEvent=G}activate(M){const I=this.futureState._root,B=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,B,M),li(this.futureState.root),this.activateChildRoutes(I,B,M)}deactivateChildRoutes(M,I,B){const G=$n(I);M.children.forEach(oe=>{const $e=oe.value.outlet;this.deactivateRoutes(oe,G[$e],B),delete G[$e]}),Hn(G,(oe,$e)=>{this.deactivateRouteAndItsChildren(oe,B)})}deactivateRoutes(M,I,B){const G=M.value,oe=I?I.value:null;if(G===oe)if(G.component){const $e=B.getContext(G.outlet);$e&&this.deactivateChildRoutes(M,I,$e.children)}else this.deactivateChildRoutes(M,I,B);else oe&&this.deactivateRouteAndItsChildren(I,B)}deactivateRouteAndItsChildren(M,I){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,I):this.deactivateRouteAndOutlet(M,I)}detachAndStoreRouteSubtree(M,I){const B=I.getContext(M.value.outlet),G=B&&M.value.component?B.children:I,oe=$n(M);for(const $e of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[$e],G);if(B&&B.outlet){const $e=B.outlet.detach(),Qe=B.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:$e,route:M,contexts:Qe})}}deactivateRouteAndOutlet(M,I){const B=I.getContext(M.value.outlet),G=B&&M.value.component?B.children:I,oe=$n(M);for(const $e of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[$e],G);B&&B.outlet&&(B.outlet.deactivate(),B.children.onOutletDeactivated(),B.attachRef=null,B.resolver=null,B.route=null)}activateChildRoutes(M,I,B){const G=$n(I);M.children.forEach(oe=>{this.activateRoutes(oe,G[oe.value.outlet],B),this.forwardEvent(new hi(oe.value.snapshot))}),M.children.length&&this.forwardEvent(new Xs(M.value.snapshot))}activateRoutes(M,I,B){const G=M.value,oe=I?I.value:null;if(li(G),G===oe)if(G.component){const $e=B.getOrCreateContext(G.outlet);this.activateChildRoutes(M,I,$e.children)}else this.activateChildRoutes(M,I,B);else if(G.component){const $e=B.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const Qe=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),$e.children.onOutletReAttached(Qe.contexts),$e.attachRef=Qe.componentRef,$e.route=Qe.route.value,$e.outlet&&$e.outlet.attach(Qe.componentRef,Qe.route.value),li(Qe.route.value),this.activateChildRoutes(M,null,$e.children)}else{const Qe=to(G.snapshot),zt=Qe?.get(m._Vd)??null;$e.attachRef=null,$e.route=G,$e.resolver=zt,$e.injector=Qe,$e.outlet&&$e.outlet.activateWith(G,$e.injector),this.activateChildRoutes(M,null,$e.children)}}else this.activateChildRoutes(M,null,B)}}class ga{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class La{constructor(M,I){this.component=M,this.route=I}}function _a(S,M,I){const B=S._root;return xi(B,M?M._root:null,I,[B.value])}function Ir(S,M){const I=Symbol(),B=M.get(S,I);return B===I?"function"!=typeof S||(0,m.Z0I)(S)?M.get(S):S:B}function xi(S,M,I,B,G={canDeactivateChecks:[],canActivateChecks:[]}){const oe=$n(M);return S.children.forEach($e=>{(function Ba(S,M,I,B,G={canDeactivateChecks:[],canActivateChecks:[]}){const oe=S.value,$e=M?M.value:null,Qe=I?I.getContext(S.value.outlet):null;if($e&&oe.routeConfig===$e.routeConfig){const zt=function xo(S,M,I){if("function"==typeof I)return I(S,M);switch(I){case"pathParamsChange":return!Nt(S.url,M.url);case"pathParamsOrQueryParamsChange":return!Nt(S.url,M.url)||!Ln(S.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yi(S,M)||!Ln(S.queryParams,M.queryParams);default:return!Yi(S,M)}}($e,oe,oe.routeConfig.runGuardsAndResolvers);zt?G.canActivateChecks.push(new ga(B)):(oe.data=$e.data,oe._resolvedData=$e._resolvedData),xi(S,M,oe.component?Qe?Qe.children:null:I,B,G),zt&&Qe&&Qe.outlet&&Qe.outlet.isActivated&&G.canDeactivateChecks.push(new La(Qe.outlet.component,$e))}else $e&&rn(M,Qe,G),G.canActivateChecks.push(new ga(B)),xi(S,null,oe.component?Qe?Qe.children:null:I,B,G)})($e,oe[$e.value.outlet],I,B.concat([$e.value]),G),delete oe[$e.value.outlet]}),Hn(oe,($e,Qe)=>rn($e,I.getContext(Qe),G)),G}function rn(S,M,I){const B=$n(S),G=S.value;Hn(B,(oe,$e)=>{rn(oe,G.component?M?M.children.getContext($e):null:M,I)}),I.canDeactivateChecks.push(new La(G.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,G))}function ir(S){return"function"==typeof S}function An(S){return S instanceof Ee.K||"EmptyError"===S?.name}const si=Symbol("INITIAL_VALUE");function Ri(){return(0,ze.w)(S=>(0,se.a)(S.map(M=>M.pipe((0,Se.q)(1),(0,ge.O)(si)))).pipe((0,Tt.U)(M=>{for(const I of M)if(!0!==I){if(I===si)return si;if(!1===I||I instanceof q)return I}return!0}),(0,ue.h)(M=>M!==si),(0,Se.q)(1)))}function Jo(S){return(0,Oe.z)((0,ke.b)(M=>{if(Ie(M))throw Ao(0,M)}),(0,Tt.U)(M=>!0===M))}const ko={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ea(S,M,I,B,G){const oe=va(S,M,I);return oe.matched?function ya(S,M,I,B){const G=M.canMatch;if(!G||0===G.length)return(0,b.of)(!0);const oe=G.map($e=>{const Qe=Ir($e,S);return Xn(function L(S){return S&&ir(S.canMatch)}(Qe)?Qe.canMatch(M,I):S.runInContext(()=>Qe(M,I)))});return(0,b.of)(oe).pipe(Ri(),Jo())}(B=Yo(M,B),M,I).pipe((0,Tt.U)($e=>!0===$e?oe:{...ko})):(0,b.of)(oe)}function va(S,M,I){if(""===M.path)return"full"===M.pathMatch&&(S.hasChildren()||I.length>0)?{...ko}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const G=(M.matcher||br)(I,S,M);if(!G)return{...ko};const oe={};Hn(G.posParams,(Qe,zt)=>{oe[zt]=Qe.path});const $e=G.consumed.length>0?{...oe,...G.consumed[G.consumed.length-1].parameters}:oe;return{matched:!0,consumedSegments:G.consumed,remainingSegments:I.slice(G.consumed.length),parameters:$e,positionalParamSegments:G.posParams??{}}}function mo(S,M,I,B,G="corrected"){if(I.length>0&&function Ul(S,M,I){return I.some(B=>Ha(S,M,B)&&$i(B)!==Jt)}(S,I,B)){const $e=new te(M,function ll(S,M,I,B){const G={};G[Jt]=B,B._sourceSegment=S,B._segmentIndexShift=M.length;for(const oe of I)if(""===oe.path&&$i(oe)!==Jt){const $e=new te([],{});$e._sourceSegment=S,$e._segmentIndexShift=M.length,G[$i(oe)]=$e}return G}(S,M,B,new te(I,S.children)));return $e._sourceSegment=S,$e._segmentIndexShift=M.length,{segmentGroup:$e,slicedSegments:[]}}if(0===I.length&&function Ua(S,M,I){return I.some(B=>Ha(S,M,B))}(S,I,B)){const $e=new te(S.segments,function ba(S,M,I,B,G,oe){const $e={};for(const Qe of B)if(Ha(S,I,Qe)&&!G[$i(Qe)]){const zt=new te([],{});zt._sourceSegment=S,zt._segmentIndexShift="legacy"===oe?S.segments.length:M.length,$e[$i(Qe)]=zt}return{...G,...$e}}(S,M,I,B,S.children,G));return $e._sourceSegment=S,$e._segmentIndexShift=M.length,{segmentGroup:$e,slicedSegments:I}}const oe=new te(S.segments,S.children);return oe._sourceSegment=S,oe._segmentIndexShift=M.length,{segmentGroup:oe,slicedSegments:I}}function Ha(S,M,I){return(!(S.hasChildren()||M.length>0)||"full"!==I.pathMatch)&&""===I.path}function N(S,M,I,B){return!!($i(S)===B||B!==Jt&&Ha(M,I,S))&&("**"===S.path||va(M,S,I).matched)}function X(S,M,I){return 0===M.length&&!S.children[I]}const U=!1;class le{constructor(M){this.segmentGroup=M||null}}class tt{constructor(M){this.urlTree=M}}function xt(S){return(0,ae._)(new le(S))}function Wt(S){return(0,ae._)(new tt(S))}class Ur{constructor(M,I,B,G,oe){this.injector=M,this.configLoader=I,this.urlSerializer=B,this.urlTree=G,this.config=oe,this.allowRedirects=!0}apply(){const M=mo(this.urlTree.root,[],[],this.config).segmentGroup,I=new te(M.segments,M.children);return this.expandSegmentGroup(this.injector,this.config,I,Jt).pipe((0,Tt.U)(oe=>this.createUrlTree(Fe(oe),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,we.K)(oe=>{if(oe instanceof tt)return this.allowRedirects=!1,this.match(oe.urlTree);throw oe instanceof le?this.noMatchError(oe):oe}))}match(M){return this.expandSegmentGroup(this.injector,this.config,M.root,Jt).pipe((0,Tt.U)(G=>this.createUrlTree(Fe(G),M.queryParams,M.fragment))).pipe((0,we.K)(G=>{throw G instanceof le?this.noMatchError(G):G}))}noMatchError(M){return new m.vHH(4002,U)}createUrlTree(M,I,B){const G=Ke(M);return new q(G,I,B)}expandSegmentGroup(M,I,B,G){return 0===B.segments.length&&B.hasChildren()?this.expandChildren(M,I,B).pipe((0,Tt.U)(oe=>new te([],oe))):this.expandSegment(M,B,I,B.segments,G,!0)}expandChildren(M,I,B){const G=[];for(const oe of Object.keys(B.children))"primary"===oe?G.unshift(oe):G.push(oe);return(0,k.D)(G).pipe((0,Pe.b)(oe=>{const $e=B.children[oe],Qe=Gi(I,oe);return this.expandSegmentGroup(M,Qe,$e,oe).pipe((0,Tt.U)(zt=>({segment:zt,outlet:oe})))}),(0,Ze.R)((oe,$e)=>(oe[$e.outlet]=$e.segment,oe),{}),en())}expandSegment(M,I,B,G,oe,$e){return(0,k.D)(B).pipe((0,Pe.b)(Qe=>this.expandSegmentAgainstRoute(M,I,B,Qe,G,oe,$e).pipe((0,we.K)(fn=>{if(fn instanceof le)return(0,b.of)(null);throw fn}))),(0,R.P)(Qe=>!!Qe),(0,we.K)((Qe,zt)=>{if(An(Qe))return X(I,G,oe)?(0,b.of)(new te([],{})):xt(I);throw Qe}))}expandSegmentAgainstRoute(M,I,B,G,oe,$e,Qe){return N(G,I,oe,$e)?void 0===G.redirectTo?this.matchSegmentAgainstRoute(M,I,G,oe,$e):Qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,I,B,G,oe,$e):xt(I):xt(I)}expandSegmentAgainstRouteUsingRedirect(M,I,B,G,oe,$e){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,B,G,$e):this.expandRegularSegmentAgainstRouteUsingRedirect(M,I,B,G,oe,$e)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,I,B,G){const oe=this.applyRedirectCommands([],B.redirectTo,{});return B.redirectTo.startsWith("/")?Wt(oe):this.lineralizeSegments(B,oe).pipe((0,Le.z)($e=>{const Qe=new te($e,{});return this.expandSegment(M,Qe,I,$e,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,I,B,G,oe,$e){const{matched:Qe,consumedSegments:zt,remainingSegments:fn,positionalParamSegments:jn}=va(I,G,oe);if(!Qe)return xt(I);const Rn=this.applyRedirectCommands(zt,G.redirectTo,jn);return G.redirectTo.startsWith("/")?Wt(Rn):this.lineralizeSegments(G,Rn).pipe((0,Le.z)($r=>this.expandSegment(M,I,B,$r.concat(fn),$e,!1)))}matchSegmentAgainstRoute(M,I,B,G,oe){return"**"===B.path?(M=Yo(B,M),B.loadChildren?(B._loadedRoutes?(0,b.of)({routes:B._loadedRoutes,injector:B._loadedInjector}):this.configLoader.loadChildren(M,B)).pipe((0,Tt.U)(Qe=>(B._loadedRoutes=Qe.routes,B._loadedInjector=Qe.injector,new te(G,{})))):(0,b.of)(new te(G,{}))):ea(I,B,G,M).pipe((0,ze.w)(({matched:$e,consumedSegments:Qe,remainingSegments:zt})=>$e?this.getChildConfig(M=B._injector??M,B,G).pipe((0,Le.z)(jn=>{const Rn=jn.injector??M,$r=jn.routes,{segmentGroup:bs,slicedSegments:zs}=mo(I,Qe,zt,$r),Ws=new te(bs.segments,bs.children);if(0===zs.length&&Ws.hasChildren())return this.expandChildren(Rn,$r,Ws).pipe((0,Tt.U)(Lo=>new te(Qe,Lo)));if(0===$r.length&&0===zs.length)return(0,b.of)(new te(Qe,{}));const io=$i(B)===oe;return this.expandSegment(Rn,Ws,$r,zs,io?Jt:oe,!0).pipe((0,Tt.U)(hs=>new te(Qe.concat(hs.segments),hs.children)))})):xt(I)))}getChildConfig(M,I,B){return I.children?(0,b.of)({routes:I.children,injector:M}):I.loadChildren?void 0!==I._loadedRoutes?(0,b.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function al(S,M,I,B){const G=M.canLoad;if(void 0===G||0===G.length)return(0,b.of)(!0);const oe=G.map($e=>{const Qe=Ir($e,S);return Xn(function Ro(S){return S&&ir(S.canLoad)}(Qe)?Qe.canLoad(M,I):S.runInContext(()=>Qe(M,I)))});return(0,b.of)(oe).pipe(Ri(),Jo())}(M,I,B).pipe((0,Le.z)(G=>G?this.configLoader.loadChildren(M,I).pipe((0,ke.b)(oe=>{I._loadedRoutes=oe.routes,I._loadedInjector=oe.injector})):function Ar(S){return(0,ae._)(Mo(U,3))}())):(0,b.of)({routes:[],injector:M})}lineralizeSegments(M,I){let B=[],G=I.root;for(;;){if(B=B.concat(G.segments),0===G.numberOfChildren)return(0,b.of)(B);if(G.numberOfChildren>1||!G.children[Jt])return(0,ae._)(new m.vHH(4e3,U));G=G.children[Jt]}}applyRedirectCommands(M,I,B){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),M,B)}applyRedirectCreateUrlTree(M,I,B,G){const oe=this.createSegmentGroup(M,I.root,B,G);return new q(oe,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(M,I){const B={};return Hn(M,(G,oe)=>{if("string"==typeof G&&G.startsWith(":")){const Qe=G.substring(1);B[oe]=I[Qe]}else B[oe]=G}),B}createSegmentGroup(M,I,B,G){const oe=this.createSegments(M,I.segments,B,G);let $e={};return Hn(I.children,(Qe,zt)=>{$e[zt]=this.createSegmentGroup(M,Qe,B,G)}),new te(oe,$e)}createSegments(M,I,B,G){return I.map(oe=>oe.path.startsWith(":")?this.findPosParam(M,oe,G):this.findOrReturn(oe,B))}findPosParam(M,I,B){const G=B[I.path.substring(1)];if(!G)throw new m.vHH(4001,U);return G}findOrReturn(M,I){let B=0;for(const G of I){if(G.path===M.path)return I.splice(B),G;B++}return M}}class Wr{}class xs{constructor(M,I,B,G,oe,$e,Qe,zt){this.injector=M,this.rootComponentType=I,this.config=B,this.urlTree=G,this.url=oe,this.paramsInheritanceStrategy=$e,this.relativeLinkResolution=Qe,this.urlSerializer=zt}recognize(){const M=mo(this.urlTree.root,[],[],this.config.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,Jt).pipe((0,Tt.U)(I=>{if(null===I)return null;const B=new Gn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),G=new an(B,I),oe=new Mi(this.url,G);return this.inheritParamsAndData(oe._root),oe}))}inheritParamsAndData(M){const I=M.value,B=Ts(I,this.paramsInheritanceStrategy);I.params=Object.freeze(B.params),I.data=Object.freeze(B.data),M.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(M,I,B,G){return 0===B.segments.length&&B.hasChildren()?this.processChildren(M,I,B):this.processSegment(M,I,B,B.segments,G)}processChildren(M,I,B){return(0,k.D)(Object.keys(B.children)).pipe((0,Pe.b)(G=>{const oe=B.children[G],$e=Gi(I,G);return this.processSegmentGroup(M,$e,oe,G)}),(0,Ze.R)((G,oe)=>G&&oe?(G.push(...oe),G):null),(0,Zt.o)(G=>null!==G),(0,Dt.d)(null),en(),(0,Tt.U)(G=>{if(null===G)return null;const oe=Us(G);return function bi(S){S.sort((M,I)=>M.value.outlet===Jt?-1:I.value.outlet===Jt?1:M.value.outlet.localeCompare(I.value.outlet))}(oe),oe}))}processSegment(M,I,B,G,oe){return(0,k.D)(I).pipe((0,Pe.b)($e=>this.processSegmentAgainstRoute($e._injector??M,$e,B,G,oe)),(0,R.P)($e=>!!$e),(0,we.K)($e=>{if(An($e))return X(B,G,oe)?(0,b.of)([]):(0,b.of)(null);throw $e}))}processSegmentAgainstRoute(M,I,B,G,oe){if(I.redirectTo||!N(I,B,G,oe))return(0,b.of)(null);let $e;if("**"===I.path){const Qe=G.length>0?zn(G).parameters:{},zt=kr(B)+G.length,fn=new Gn(G,Qe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ea(I),$i(I),I.component??I._loadedComponent??null,I,Oo(B),zt,mc(I),zt);$e=(0,b.of)({snapshot:fn,consumedSegments:[],remainingSegments:[]})}else $e=ea(B,I,G,M).pipe((0,Tt.U)(({matched:Qe,consumedSegments:zt,remainingSegments:fn,parameters:jn})=>{if(!Qe)return null;const Rn=kr(B)+zt.length;return{snapshot:new Gn(zt,jn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ea(I),$i(I),I.component??I._loadedComponent??null,I,Oo(B),Rn,mc(I),Rn),consumedSegments:zt,remainingSegments:fn}}));return $e.pipe((0,ze.w)(Qe=>{if(null===Qe)return(0,b.of)(null);const{snapshot:zt,consumedSegments:fn,remainingSegments:jn}=Qe;M=I._injector??M;const Rn=I._loadedInjector??M,$r=function Di(S){return S.children?S.children:S.loadChildren?S._loadedRoutes:[]}(I),{segmentGroup:bs,slicedSegments:zs}=mo(B,fn,jn,$r.filter(io=>void 0===io.redirectTo),this.relativeLinkResolution);if(0===zs.length&&bs.hasChildren())return this.processChildren(Rn,$r,bs).pipe((0,Tt.U)(io=>null===io?null:[new an(zt,io)]));if(0===$r.length&&0===zs.length)return(0,b.of)([new an(zt,[])]);const Ws=$i(I)===oe;return this.processSegment(Rn,$r,bs,zs,Ws?Jt:oe).pipe((0,Tt.U)(io=>null===io?null:[new an(zt,io)]))}))}}function ys(S){const M=S.value.routeConfig;return M&&""===M.path&&void 0===M.redirectTo}function Us(S){const M=[],I=new Set;for(const B of S){if(!ys(B)){M.push(B);continue}const G=M.find(oe=>B.value.routeConfig===oe.value.routeConfig);void 0!==G?(G.children.push(...B.children),I.add(G)):M.push(B)}for(const B of I){const G=Us(B.children);M.push(new an(B.value,G))}return M.filter(B=>!I.has(B))}function Oo(S){let M=S;for(;M._sourceSegment;)M=M._sourceSegment;return M}function kr(S){let M=S,I=M._segmentIndexShift??0;for(;M._sourceSegment;)M=M._sourceSegment,I+=M._segmentIndexShift??0;return I-1}function Ea(S){return S.data||{}}function mc(S){return S.resolve||{}}function ei(S){return"string"==typeof S.title||null===S.title}function ul(S){return(0,ze.w)(M=>{const I=S(M);return I?(0,k.D)(I).pipe((0,Tt.U)(()=>M)):(0,b.of)(M)})}let Kr=(()=>{class S{buildTitle(I){let B,G=I.root;for(;void 0!==G;)B=this.getResolvedTitleForRoute(G)??B,G=G.children.find(oe=>oe.outlet===Jt);return B}getResolvedTitleForRoute(I){return I.data[Vn]}}return S.\u0275fac=function(I){return new(I||S)},S.\u0275prov=m.Yz7({token:S,factory:function(){return(0,m.f3M)(Bn)},providedIn:"root"}),S})(),Bn=(()=>{class S extends Kr{constructor(I){super(),this.title=I}updateTitle(I){const B=this.buildTitle(I);void 0!==B&&this.title.setTitle(B)}}return S.\u0275fac=function(I){return new(I||S)(m.LFG(vn.Dx))},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();class Tn{}class dl extends class ss{shouldDetach(M){return!1}store(M,I){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,I){return M.routeConfig===I.routeConfig}}{}const $a=new m.OlP("",{providedIn:"root",factory:()=>({})}),zi=new m.OlP("ROUTES");let hl=(()=>{class S{constructor(I,B){this.injector=I,this.compiler=B,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,b.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const B=Xn(I.loadComponent()).pipe((0,ke.b)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=oe}),(0,En.x)(()=>{this.componentLoaders.delete(I)})),G=new ut(B,()=>new ct.x).pipe(bt());return this.componentLoaders.set(I,G),G}loadChildren(I,B){if(this.childrenLoaders.get(B))return this.childrenLoaders.get(B);if(B._loadedRoutes)return(0,b.of)({routes:B._loadedRoutes,injector:B._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(B);const oe=this.loadModuleFactoryOrRoutes(B.loadChildren).pipe((0,Tt.U)(Qe=>{this.onLoadEndListener&&this.onLoadEndListener(B);let zt,fn,jn=!1;Array.isArray(Qe)?fn=Qe:(zt=Qe.create(I).injector,fn=Kn(zt.get(zi,[],m.XFs.Self|m.XFs.Optional)));return{routes:fn.map(Ss),injector:zt}}),(0,En.x)(()=>{this.childrenLoaders.delete(B)})),$e=new ut(oe,()=>new ct.x).pipe(bt());return this.childrenLoaders.set(B,$e),$e}loadModuleFactoryOrRoutes(I){return Xn(I()).pipe((0,Le.z)(B=>B instanceof m.YKP||Array.isArray(B)?(0,b.of)(B):(0,k.D)(this.compiler.compileModuleAsync(B))))}}return S.\u0275fac=function(I){return new(I||S)(m.LFG(m.zs3),m.LFG(m.Sil))},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();class js{}class ki{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,I){return M}}function Li(S){throw S}function us(S,M,I){return M.parse("/")}const mu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ga={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ra(){const S=(0,m.f3M)(sn),M=(0,m.f3M)(Fs),I=(0,m.f3M)(Lt.Ye),B=(0,m.f3M)(m.zs3),G=(0,m.f3M)(m.Sil),oe=(0,m.f3M)(zi,{optional:!0})??[],$e=(0,m.f3M)($a,{optional:!0})??{},Qe=(0,m.f3M)(Bn),zt=(0,m.f3M)(Kr,{optional:!0}),fn=(0,m.f3M)(js,{optional:!0}),jn=(0,m.f3M)(Tn,{optional:!0}),Rn=new Or(null,S,M,I,B,G,Kn(oe));return fn&&(Rn.urlHandlingStrategy=fn),jn&&(Rn.routeReuseStrategy=jn),Rn.titleStrategy=zt??Qe,function Hl(S,M){S.errorHandler&&(M.errorHandler=S.errorHandler),S.malformedUriErrorHandler&&(M.malformedUriErrorHandler=S.malformedUriErrorHandler),S.onSameUrlNavigation&&(M.onSameUrlNavigation=S.onSameUrlNavigation),S.paramsInheritanceStrategy&&(M.paramsInheritanceStrategy=S.paramsInheritanceStrategy),S.relativeLinkResolution&&(M.relativeLinkResolution=S.relativeLinkResolution),S.urlUpdateStrategy&&(M.urlUpdateStrategy=S.urlUpdateStrategy),S.canceledNavigationResolution&&(M.canceledNavigationResolution=S.canceledNavigationResolution)}($e,Rn),Rn}let Or=(()=>{class S{constructor(I,B,G,oe,$e,Qe,zt){this.rootComponentType=I,this.urlSerializer=B,this.rootContexts=G,this.location=oe,this.config=zt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ct.x,this.errorHandler=Li,this.malformedUriErrorHandler=us,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,b.of)(void 0),this.urlHandlingStrategy=new ki,this.routeReuseStrategy=new dl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=$e.get(hl),this.configLoader.onLoadEndListener=$r=>this.triggerEvent(new fa($r)),this.configLoader.onLoadStartListener=$r=>this.triggerEvent(new Fa($r)),this.ngModule=$e.get(m.h0i),this.console=$e.get(m.c2e);const Rn=$e.get(m.R0b);this.isNgZoneEnabled=Rn instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(zt),this.currentUrlTree=function Jn(){return new q(new te([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Rr(this.currentUrlTree,this.rootComponentType),this.transitions=new ee.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(I){const B=this.events;return I.pipe((0,ue.h)(G=>0!==G.id),(0,Tt.U)(G=>({...G,extractedUrl:this.urlHandlingStrategy.extract(G.rawUrl)})),(0,ze.w)(G=>{let oe=!1,$e=!1;return(0,b.of)(G).pipe((0,ke.b)(Qe=>{this.currentNavigation={id:Qe.id,initialUrl:Qe.rawUrl,extractedUrl:Qe.extractedUrl,trigger:Qe.source,extras:Qe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ze.w)(Qe=>{const zt=this.browserUrlTree.toString(),fn=!this.navigated||Qe.extractedUrl.toString()!==zt||zt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||fn)&&this.urlHandlingStrategy.shouldProcessUrl(Qe.rawUrl))return ia(Qe.source)&&(this.browserUrlTree=Qe.extractedUrl),(0,b.of)(Qe).pipe((0,ze.w)(Rn=>{const $r=this.transitions.getValue();return B.next(new Ti(Rn.id,this.serializeUrl(Rn.extractedUrl),Rn.source,Rn.restoredState)),$r!==this.transitions.getValue()?me.E:Promise.resolve(Rn)}),function Pr(S,M,I,B){return(0,ze.w)(G=>function Vr(S,M,I,B,G){return new Ur(S,M,I,B,G).apply()}(S,M,I,G.extractedUrl,B).pipe((0,Tt.U)(oe=>({...G,urlAfterRedirects:oe}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ke.b)(Rn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Rn.urlAfterRedirects},G.urlAfterRedirects=Rn.urlAfterRedirects}),function pu(S,M,I,B,G,oe){return(0,Le.z)($e=>function ta(S,M,I,B,G,oe,$e="emptyOnly",Qe="legacy"){return new xs(S,M,I,B,G,$e,Qe,oe).recognize().pipe((0,ze.w)(zt=>null===zt?function vi(S){return new ye.y(M=>M.error(S))}(new Wr):(0,b.of)(zt)))}(S,M,I,$e.urlAfterRedirects,B.serialize($e.urlAfterRedirects),B,G,oe).pipe((0,Tt.U)(Qe=>({...$e,targetSnapshot:Qe}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ke.b)(Rn=>{if(G.targetSnapshot=Rn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Rn.extras.skipLocationChange){const bs=this.urlHandlingStrategy.merge(Rn.urlAfterRedirects,Rn.rawUrl);this.setBrowserUrl(bs,Rn)}this.browserUrlTree=Rn.urlAfterRedirects}const $r=new ts(Rn.id,this.serializeUrl(Rn.extractedUrl),this.serializeUrl(Rn.urlAfterRedirects),Rn.targetSnapshot);B.next($r)}));if(fn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$r,extractedUrl:bs,source:zs,restoredState:Ws,extras:io}=Qe,Vc=new Ti($r,this.serializeUrl(bs),zs,Ws);B.next(Vc);const hs=Rr(bs,this.rootComponentType).snapshot;return G={...Qe,targetSnapshot:hs,urlAfterRedirects:bs,extras:{...io,skipLocationChange:!1,replaceUrl:!1}},(0,b.of)(G)}return this.rawUrlTree=Qe.rawUrl,Qe.resolve(null),me.E}),(0,ke.b)(Qe=>{const zt=new Wo(Qe.id,this.serializeUrl(Qe.extractedUrl),this.serializeUrl(Qe.urlAfterRedirects),Qe.targetSnapshot);this.triggerEvent(zt)}),(0,Tt.U)(Qe=>G={...Qe,guards:_a(Qe.targetSnapshot,Qe.currentSnapshot,this.rootContexts)}),function Ms(S,M){return(0,Le.z)(I=>{const{targetSnapshot:B,currentSnapshot:G,guards:{canActivateChecks:oe,canDeactivateChecks:$e}}=I;return 0===$e.length&&0===oe.length?(0,b.of)({...I,guardsResult:!0}):function oi(S,M,I,B){return(0,k.D)(S).pipe((0,Le.z)(G=>function po(S,M,I,B,G){const oe=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!oe||0===oe.length)return(0,b.of)(!0);const $e=oe.map(Qe=>{const zt=to(M)??G,fn=Ir(Qe,zt);return Xn(function j(S){return S&&ir(S.canDeactivate)}(fn)?fn.canDeactivate(S,M,I,B):zt.runInContext(()=>fn(S,M,I,B))).pipe((0,R.P)())});return(0,b.of)($e).pipe(Ri())}(G.component,G.route,I,M,B)),(0,R.P)(G=>!0!==G,!0))}($e,B,G,S).pipe((0,Le.z)(Qe=>Qe&&function As(S){return"boolean"==typeof S}(Qe)?function Vs(S,M,I,B){return(0,k.D)(M).pipe((0,Pe.b)(G=>(0,je.z)(function Xo(S,M){return null!==S&&M&&M(new To(S)),(0,b.of)(!0)}(G.route.parent,B),function Va(S,M){return null!==S&&M&&M(new qo(S)),(0,b.of)(!0)}(G.route,B),function Vl(S,M,I){const B=M[M.length-1],oe=M.slice(0,M.length-1).reverse().map($e=>function Xi(S){const M=S.routeConfig?S.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:S,guards:M}:null}($e)).filter($e=>null!==$e).map($e=>(0,xe.P)(()=>{const Qe=$e.guards.map(zt=>{const fn=to($e.node)??I,jn=Ir(zt,fn);return Xn(function K(S){return S&&ir(S.canActivateChild)}(jn)?jn.canActivateChild(B,S):fn.runInContext(()=>jn(B,S))).pipe((0,R.P)())});return(0,b.of)(Qe).pipe(Ri())}));return(0,b.of)(oe).pipe(Ri())}(S,G.path,I),function fo(S,M,I){const B=M.routeConfig?M.routeConfig.canActivate:null;if(!B||0===B.length)return(0,b.of)(!0);const G=B.map(oe=>(0,xe.P)(()=>{const $e=to(M)??I,Qe=Ir(oe,$e);return Xn(function Fn(S){return S&&ir(S.canActivate)}(Qe)?Qe.canActivate(M,S):$e.runInContext(()=>Qe(M,S))).pipe((0,R.P)())}));return(0,b.of)(G).pipe(Ri())}(S,G.route,I))),(0,R.P)(G=>!0!==G,!0))}(B,oe,S,M):(0,b.of)(Qe)),(0,Tt.U)(Qe=>({...I,guardsResult:Qe})))})}(this.ngModule.injector,Qe=>this.triggerEvent(Qe)),(0,ke.b)(Qe=>{if(G.guardsResult=Qe.guardsResult,Ie(Qe.guardsResult))throw Ao(0,Qe.guardsResult);const zt=new Ko(Qe.id,this.serializeUrl(Qe.extractedUrl),this.serializeUrl(Qe.urlAfterRedirects),Qe.targetSnapshot,!!Qe.guardsResult);this.triggerEvent(zt)}),(0,ue.h)(Qe=>!!Qe.guardsResult||(this.restoreHistory(Qe),this.cancelNavigationTransition(Qe,"",3),!1)),ul(Qe=>{if(Qe.guards.canActivateChecks.length)return(0,b.of)(Qe).pipe((0,ke.b)(zt=>{const fn=new Qs(zt.id,this.serializeUrl(zt.extractedUrl),this.serializeUrl(zt.urlAfterRedirects),zt.targetSnapshot);this.triggerEvent(fn)}),(0,ze.w)(zt=>{let fn=!1;return(0,b.of)(zt).pipe(function ja(S,M){return(0,Le.z)(I=>{const{targetSnapshot:B,guards:{canActivateChecks:G}}=I;if(!G.length)return(0,b.of)(I);let oe=0;return(0,k.D)(G).pipe((0,Pe.b)($e=>function nn(S,M,I,B){const G=S.routeConfig,oe=S._resolve;return void 0!==G?.title&&!ei(G)&&(oe[Vn]=G.title),function na(S,M,I,B){const G=function cl(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===G.length)return(0,b.of)({});const oe={};return(0,k.D)(G).pipe((0,Le.z)($e=>function Hs(S,M,I,B){const G=to(M)??B,oe=Ir(S,G);return Xn(oe.resolve?oe.resolve(M,I):G.runInContext(()=>oe(M,I)))}(S[$e],M,I,B).pipe((0,R.P)(),(0,ke.b)(Qe=>{oe[$e]=Qe}))),ve(1),function qt(S){return(0,Tt.U)(()=>S)}(oe),(0,we.K)($e=>An($e)?me.E:(0,ae._)($e)))}(oe,S,M,B).pipe((0,Tt.U)($e=>(S._resolvedData=$e,S.data=Ts(S,I).resolve,G&&ei(G)&&(S.data[Vn]=G.title),null)))}($e.route,B,S,M)),(0,ke.b)(()=>oe++),ve(1),(0,Le.z)($e=>oe===G.length?(0,b.of)(I):me.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ke.b)({next:()=>fn=!0,complete:()=>{fn||(this.restoreHistory(zt),this.cancelNavigationTransition(zt,"",2))}}))}),(0,ke.b)(zt=>{const fn=new Si(zt.id,this.serializeUrl(zt.extractedUrl),this.serializeUrl(zt.urlAfterRedirects),zt.targetSnapshot);this.triggerEvent(fn)}))}),ul(Qe=>{const zt=fn=>{const jn=[];fn.routeConfig?.loadComponent&&!fn.routeConfig._loadedComponent&&jn.push(this.configLoader.loadComponent(fn.routeConfig).pipe((0,ke.b)(Rn=>{fn.component=Rn}),(0,Tt.U)(()=>{})));for(const Rn of fn.children)jn.push(...zt(Rn));return jn};return(0,se.a)(zt(Qe.targetSnapshot.root)).pipe((0,Dt.d)(),(0,Se.q)(1))}),ul(()=>this.afterPreactivation()),(0,Tt.U)(Qe=>{const zt=function eo(S,M,I){const B=Zi(S,M._root,I?I._root:void 0);return new ar(B,M)}(this.routeReuseStrategy,Qe.targetSnapshot,Qe.currentRouterState);return G={...Qe,targetRouterState:zt}}),(0,ke.b)(Qe=>{this.currentUrlTree=Qe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Qe.urlAfterRedirects,Qe.rawUrl),this.routerState=Qe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Qe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Qe),this.browserUrlTree=Qe.urlAfterRedirects)}),((S,M,I)=>(0,Tt.U)(B=>(new cr(M,B.targetRouterState,B.currentRouterState,I).activate(S),B)))(this.rootContexts,this.routeReuseStrategy,Qe=>this.triggerEvent(Qe)),(0,ke.b)({next(){oe=!0},complete(){oe=!0}}),(0,En.x)(()=>{oe||$e||this.cancelNavigationTransition(G,"",1),this.currentNavigation?.id===G.id&&(this.currentNavigation=null)}),(0,we.K)(Qe=>{if($e=!0,ns(Qe)){Ns(Qe)||(this.navigated=!0,this.restoreHistory(G,!0));const zt=new cs(G.id,this.serializeUrl(G.extractedUrl),Qe.message,Qe.cancellationCode);if(B.next(zt),Ns(Qe)){const fn=this.urlHandlingStrategy.merge(Qe.url,this.rawUrlTree),jn={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ia(G.source)};this.scheduleNavigation(fn,"imperative",null,jn,{resolve:G.resolve,reject:G.reject,promise:G.promise})}else G.resolve(!1)}else{this.restoreHistory(G,!0);const zt=new di(G.id,this.serializeUrl(G.extractedUrl),Qe,G.targetSnapshot??void 0);B.next(zt);try{G.resolve(this.errorHandler(Qe))}catch(fn){G.reject(fn)}}return me.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}setTransition(I){this.transitions.next({...this.transitions.value,...I})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const B="popstate"===I.type?"popstate":"hashchange";"popstate"===B&&setTimeout(()=>{const G={replaceUrl:!0},oe=I.state?.navigationId?I.state:null;if(oe){const Qe={...oe};delete Qe.navigationId,delete Qe.\u0275routerPageId,0!==Object.keys(Qe).length&&(G.state=Qe)}const $e=this.parseUrl(I.url);this.scheduleNavigation($e,B,oe,G)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){this.config=I.map(Ss),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,B={}){const{relativeTo:G,queryParams:oe,fragment:$e,queryParamsHandling:Qe,preserveFragment:zt}=B,fn=G||this.routerState.root,jn=zt?this.currentUrlTree.fragment:$e;let Rn=null;switch(Qe){case"merge":Rn={...this.currentUrlTree.queryParams,...oe};break;case"preserve":Rn=this.currentUrlTree.queryParams;break;default:Rn=oe||null}return null!==Rn&&(Rn=this.removeEmptyProps(Rn)),Qt(fn,this.currentUrlTree,I,Rn,jn??null)}navigateByUrl(I,B={skipLocationChange:!1}){const G=Ie(I)?I:this.parseUrl(I),oe=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(oe,"imperative",null,B)}navigate(I,B={skipLocationChange:!1}){return function gc(S){for(let M=0;M<S.length;M++){if(null==S[M])throw new m.vHH(4008,false)}}(I),this.navigateByUrl(this.createUrlTree(I,B),B)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let B;try{B=this.urlSerializer.parse(I)}catch(G){B=this.malformedUriErrorHandler(G,this.urlSerializer,I)}return B}isActive(I,B){let G;if(G=!0===B?{...mu}:!1===B?{...Ga}:B,Ie(I))return H(this.currentUrlTree,I,G);const oe=this.parseUrl(I);return H(this.currentUrlTree,oe,G)}removeEmptyProps(I){return Object.keys(I).reduce((B,G)=>{const oe=I[G];return null!=oe&&(B[G]=oe),B},{})}processNavigations(){this.navigations.subscribe(I=>{this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new wr(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,B,G,oe,$e){if(this.disposed)return Promise.resolve(!1);let Qe,zt,fn;$e?(Qe=$e.resolve,zt=$e.reject,fn=$e.promise):fn=new Promise(($r,bs)=>{Qe=$r,zt=bs});const jn=++this.navigationId;let Rn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(G=this.location.getState()),Rn=G&&G.\u0275routerPageId?G.\u0275routerPageId:oe.replaceUrl||oe.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Rn=0,this.setTransition({id:jn,targetPageId:Rn,source:B,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:oe,resolve:Qe,reject:zt,promise:fn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),fn.catch($r=>Promise.reject($r))}setBrowserUrl(I,B){const G=this.urlSerializer.serialize(I),oe={...B.extras.state,...this.generateNgRouterState(B.id,B.targetPageId)};this.location.isCurrentPathEqualTo(G)||B.extras.replaceUrl?this.location.replaceState(G,"",oe):this.location.go(G,"",oe)}restoreHistory(I,B=!1){if("computed"===this.canceledNavigationResolution){const G=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===G?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===G&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(G)}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,B,G){const oe=new cs(I.id,this.serializeUrl(I.extractedUrl),B,G);this.triggerEvent(oe),I.resolve(!1)}generateNgRouterState(I,B){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:B}:{navigationId:I}}}return S.\u0275fac=function(I){m.$Z()},S.\u0275prov=m.Yz7({token:S,factory:function(){return ra()},providedIn:"root"}),S})();function ia(S){return"imperative"!==S}let ro=(()=>{class S{constructor(I,B,G,oe,$e){this.router=I,this.route=B,this.tabIndexAttribute=G,this.renderer=oe,this.el=$e,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ct.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(I){this._preserveFragment=(0,m.D6c)(I)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(I){this._skipLocationChange=(0,m.D6c)(I)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(I){this._replaceUrl=(0,m.D6c)(I)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(I){if(null!=this.tabIndexAttribute)return;const B=this.renderer,G=this.el.nativeElement;null!==I?B.setAttribute(G,"tabindex",I):B.removeAttribute(G,"tabindex")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return S.\u0275fac=function(I){return new(I||S)(m.Y36(Or),m.Y36(Ai),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq))},S.\u0275dir=m.lG2({type:S,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,B){1&I&&m.NdJ("click",function(){return B.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),S})();class Po{}let Ca=(()=>{class S{constructor(I,B,G,oe,$e){this.router=I,this.injector=G,this.preloadingStrategy=oe,this.loader=$e}setUpPreloading(){this.subscription=this.router.events.pipe((0,ue.h)(I=>I instanceof wr),(0,Pe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,B){const G=[];for(const oe of B){oe.providers&&!oe._injector&&(oe._injector=(0,m.MMx)(oe.providers,I,`Route: ${oe.path}`));const $e=oe._injector??I,Qe=oe._loadedInjector??$e;oe.loadChildren&&!oe._loadedRoutes&&void 0===oe.canLoad||oe.loadComponent&&!oe._loadedComponent?G.push(this.preloadConfig($e,oe)):(oe.children||oe._loadedRoutes)&&G.push(this.processRoutes(Qe,oe.children??oe._loadedRoutes))}return(0,k.D)(G).pipe((0,Dn.J)())}preloadConfig(I,B){return this.preloadingStrategy.preload(B,()=>{let G;G=B.loadChildren&&void 0===B.canLoad?this.loader.loadChildren(I,B):(0,b.of)(null);const oe=G.pipe((0,Le.z)($e=>null===$e?(0,b.of)(void 0):(B._loadedRoutes=$e.routes,B._loadedInjector=$e.injector,this.processRoutes($e.injector??I,$e.routes))));if(B.loadComponent&&!B._loadedComponent){const $e=this.loader.loadComponent(B);return(0,k.D)([oe,$e]).pipe((0,Dn.J)())}return oe})}}return S.\u0275fac=function(I){return new(I||S)(m.LFG(Or),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(Po),m.LFG(hl))},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const yo=new m.OlP("");let wa=(()=>{class S{constructor(I,B,G={}){this.router=I,this.viewportScroller=B,this.options=G,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},G.scrollPositionRestoration=G.scrollPositionRestoration||"disabled",G.anchorScrolling=G.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Ti?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof wr&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof mt&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,B){this.router.triggerEvent(new mt(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return S.\u0275fac=function(I){m.$Z()},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac}),S})();function ds(S,M){return{\u0275kind:S,\u0275providers:M}}function Fo(S){return[{provide:zi,multi:!0,useValue:S}]}function sa(){const S=(0,m.f3M)(m.zs3);return M=>{const I=S.get(m.z2F);if(M!==I.components[0])return;const B=S.get(Or),G=S.get(Da);1===S.get(Ia)&&B.initialNavigation(),S.get(Il,null,m.XFs.Optional)?.setUpPreloading(),S.get(yo,null,m.XFs.Optional)?.init(),B.resetRootComponentType(I.componentTypes[0]),G.next(),G.complete()}}const Da=new m.OlP("",{factory:()=>new ct.x}),Ia=new m.OlP("",{providedIn:"root",factory:()=>1});const Il=new m.OlP("");function Qu(S){return ds(0,[{provide:Il,useExisting:Ca},{provide:Po,useExisting:S}])}const Ta=new m.OlP("ROUTER_FORROOT_GUARD"),Bc=[Lt.Ye,{provide:sn,useClass:vt},{provide:Or,useFactory:ra},Fs,{provide:Ai,useFactory:function No(S){return S.routerState.root},deps:[Or]},hl];function vu(){return new m.PXZ("Router",Or)}let Bi=(()=>{class S{constructor(I){}static forRoot(I,B){return{ngModule:S,providers:[Bc,[],Fo(I),{provide:Ta,useFactory:Tl,deps:[[Or,new m.FiY,new m.tp0]]},{provide:$a,useValue:B||{}},B?.useHash?{provide:Lt.S$,useClass:Lt.Do}:{provide:Lt.S$,useClass:Lt.b0},{provide:yo,useFactory:()=>{const S=(0,m.f3M)(Or),M=(0,m.f3M)(Lt.EM),I=(0,m.f3M)($a);return I.scrollOffset&&M.setOffset(I.scrollOffset),new wa(S,M,I)}},B?.preloadingStrategy?Qu(B.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:vu},B?.initialNavigation?ks(B):[],[{provide:Gs,useFactory:sa},{provide:m.tb,multi:!0,useExisting:Gs}]]}}static forChild(I){return{ngModule:S,providers:[Fo(I)]}}}return S.\u0275fac=function(I){return new(I||S)(m.LFG(Ta,8))},S.\u0275mod=m.oAB({type:S}),S.\u0275inj=m.cJS({imports:[Jr]}),S})();function Tl(S){return"guarded"}function ks(S){return["disabled"===S.initialNavigation?ds(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const M=(0,m.f3M)(Or);return()=>{M.setUpLocationChangeListener()}}},{provide:Ia,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?ds(2,[{provide:Ia,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:M=>{const I=M.get(Lt.V_,Promise.resolve());let B=!1;return()=>I.then(()=>new Promise(oe=>{const $e=M.get(Or),Qe=M.get(Da);(function G(oe){M.get(Or).events.pipe((0,ue.h)(Qe=>Qe instanceof wr||Qe instanceof cs||Qe instanceof di),(0,Tt.U)(Qe=>Qe instanceof wr||Qe instanceof cs&&(0===Qe.code||1===Qe.code)&&null),(0,ue.h)(Qe=>null!==Qe),(0,Se.q)(1)).subscribe(()=>{oe()})})(()=>{oe(!0),B=!0}),$e.afterPreactivation=()=>(oe(!0),B||Qe.closed?(0,b.of)(void 0):Qe),$e.initialNavigation()}))}}]).\u0275providers:[]]}const Gs=new m.OlP("")},3942:(dn,ot,A)=>{A.d(ot,{Z:()=>Je});var m=A(2090),k=A(3475),b=A(9681),ee=A(1877);class Ee{constructor(ut,ct){this._delegate=ut,this.firebase=ct,(0,b._addComponent)(ut,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=ut.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ut){this._delegate.automaticDataCollectionEnabled=ut}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ut=>{this._delegate.checkDestroyed(),ut()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,b.deleteApp)(this._delegate)))}_getService(ut,ct=b._DEFAULT_ENTRY_NAME){var Lt;this._delegate.checkDestroyed();const Tt=this._delegate.container.getProvider(ut);return!Tt.isInitialized()&&"EXPLICIT"===(null===(Lt=Tt.getComponent())||void 0===Lt?void 0:Lt.instantiationMode)&&Tt.initialize(),Tt.getImmediate({identifier:ct})}_removeServiceInstance(ut,ct=b._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ut).clearInstance(ct)}_addComponent(ut){(0,b._addComponent)(this._delegate,ut)}_addOrOverwriteComponent(ut){(0,b._addOrOverwriteComponent)(this._delegate,ut)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const je=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function Oe(){const bt=function xe(bt){const ut={},ct={__esModule:!0,initializeApp:function ze(Le,R={}){const Pe=b.initializeApp(Le,R);if((0,m.r3)(ut,Pe.name))return ut[Pe.name];const ke=new bt(Pe,ct);return ut[Pe.name]=ke,ke},app:Tt,registerVersion:b.registerVersion,setLogLevel:b.setLogLevel,onLog:b.onLog,apps:null,SDK_VERSION:b.SDK_VERSION,INTERNAL:{registerComponent:function ge(Le){const R=Le.name,Pe=R.replace("-compat","");if(b._registerComponent(Le)&&"PUBLIC"===Le.type){const ke=(we=Tt())=>{if("function"!=typeof we[Pe])throw je.create("invalid-app-argument",{appName:R});return we[Pe]()};void 0!==Le.serviceProps&&(0,m.ZB)(ke,Le.serviceProps),ct[Pe]=ke,bt.prototype[Pe]=function(...we){return this._getService.bind(this,R).apply(this,Le.multipleInstances?we:[])}}return"PUBLIC"===Le.type?ct[Pe]:null},removeApp:function Lt(Le){delete ut[Le]},useAsService:function ue(Le,R){return"serverAuth"===R?null:R},modularAPIs:b}};function Tt(Le){if(!(0,m.r3)(ut,Le=Le||b._DEFAULT_ENTRY_NAME))throw je.create("no-app",{appName:Le});return ut[Le]}return ct.default=ct,Object.defineProperty(ct,"apps",{get:function Se(){return Object.keys(ut).map(Le=>ut[Le])}}),Tt.App=bt,ct}(Ee);return bt.INTERNAL=Object.assign(Object.assign({},bt.INTERNAL),{createFirebaseNamespace:Oe,extendNamespace:function ut(ct){(0,m.ZB)(bt,ct)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),bt}(),ye=new ee.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){ye.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const bt=self.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&ye.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=ae;!function lt(bt){(0,b.registerVersion)("@firebase/app-compat","0.1.38",bt)}()},9681:(dn,ot,A)=>{A.r(ot),A.d(ot,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>Kn,_DEFAULT_ENTRY_NAME:()=>Zt,_addComponent:()=>vn,_addOrOverwriteComponent:()=>Jt,_apps:()=>En,_clearComponents:()=>br,_components:()=>Dn,_getProvider:()=>Mn,_registerComponent:()=>Vn,_removeServiceInstance:()=>Cn,deleteApp:()=>Xn,getApp:()=>hr,getApps:()=>Hn,initializeApp:()=>zn,onLog:()=>be,registerVersion:()=>Jn,setLogLevel:()=>Z});var m=A(5861),k=A(3475),b=A(1877),ee=A(2090),Ee=A(8766);class se{constructor(He){this.container=He}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function je(Yt){return"VERSION"===Yt.getComponent()?.type}(Ue)){const Te=Ue.getImmediate();return`${Te.library}/${Te.version}`}return null}).filter(Ue=>Ue).join(" ")}}const xe="@firebase/app",ae=new b.Yd("@firebase/app"),Zt="[DEFAULT]",qt={[xe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},En=new Map,Dn=new Map;function vn(Yt,He){try{Yt.container.addComponent(He)}catch(Ue){ae.debug(`Component ${He.name} failed to register with FirebaseApp ${Yt.name}`,Ue)}}function Jt(Yt,He){Yt.container.addOrOverwriteComponent(He)}function Vn(Yt){const He=Yt.name;if(Dn.has(He))return ae.debug(`There were multiple attempts to register component ${He}.`),!1;Dn.set(He,Yt);for(const Ue of En.values())vn(Ue,Yt);return!0}function Mn(Yt,He){const Ue=Yt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),Yt.container.getProvider(He)}function Cn(Yt,He,Ue=Zt){Mn(Yt,He).clearInstance(Ue)}function br(){Dn.clear()}const Ln=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Un{constructor(He,Ue,Te){this._isDeleted=!1,this._options=Object.assign({},He),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=Te,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this.checkDestroyed(),this._automaticDataCollectionEnabled=He}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(He){this._isDeleted=He}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}const Kn="9.13.0";function zn(Yt,He={}){let Ue=Yt;"object"!=typeof He&&(He={name:He});const Te=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},He),st=Te.name;if("string"!=typeof st||!st)throw Ln.create("bad-app-name",{appName:String(st)});if(Ue||(Ue=(0,ee.aH)()),!Ue)throw Ln.create("no-options");const Et=En.get(st);if(Et){if((0,ee.vZ)(Ue,Et.options)&&(0,ee.vZ)(Te,Et.config))return Et;throw Ln.create("duplicate-app",{appName:st})}const De=new k.H0(st);for(const it of Dn.values())De.addComponent(it);const Me=new Un(Ue,Te,De);return En.set(st,Me),Me}function hr(Yt=Zt){const He=En.get(Yt);if(!He&&Yt===Zt)return zn();if(!He)throw Ln.create("no-app",{appName:Yt});return He}function Hn(){return Array.from(En.values())}function Xn(Yt){return tn.apply(this,arguments)}function tn(){return(tn=(0,m.Z)(function*(Yt){const He=Yt.name;En.has(He)&&(En.delete(He),yield Promise.all(Yt.container.getProviders().map(Ue=>Ue.delete())),Yt.isDeleted=!0)})).apply(this,arguments)}function Jn(Yt,He,Ue){var Te;let st=null!==(Te=qt[Yt])&&void 0!==Te?Te:Yt;Ue&&(st+=`-${Ue}`);const Et=st.match(/\s|\//),De=He.match(/\s|\//);if(Et||De){const Me=[`Unable to register library "${st}" with version "${He}":`];return Et&&Me.push(`library name "${st}" contains illegal characters (whitespace or "/")`),Et&&De&&Me.push("and"),De&&Me.push(`version name "${He}" contains illegal characters (whitespace or "/")`),void ae.warn(Me.join(" "))}Vn(new k.wA(`${st}-version`,()=>({library:st,version:He}),"VERSION"))}function be(Yt,He){if(null!==Yt&&"function"!=typeof Yt)throw Ln.create("invalid-log-argument");(0,b.Am)(Yt,He)}function Z(Yt){(0,b.Ub)(Yt)}const Ve="firebase-heartbeat-store";let rt=null;function Ot(){return rt||(rt=(0,Ee.X3)("firebase-heartbeat-database",1,{upgrade:(Yt,He)=>{0===He&&Yt.createObjectStore(Ve)}}).catch(Yt=>{throw Ln.create("idb-open",{originalErrorMessage:Yt.message})})),rt}function _e(){return(_e=(0,m.Z)(function*(Yt){var He;try{return(yield Ot()).transaction(Ve).objectStore(Ve).get(qe(Yt))}catch(Ue){if(Ue instanceof ee.ZR)ae.warn(Ue.message);else{const Te=Ln.create("idb-get",{originalErrorMessage:null===(He=Ue)||void 0===He?void 0:He.message});ae.warn(Te.message)}}})).apply(this,arguments)}function q(Yt,He){return te.apply(this,arguments)}function te(){return(te=(0,m.Z)(function*(Yt,He){var Ue;try{const st=(yield Ot()).transaction(Ve,"readwrite");return yield st.objectStore(Ve).put(He,qe(Yt)),st.done}catch(Te){if(Te instanceof ee.ZR)ae.warn(Te.message);else{const st=Ln.create("idb-set",{originalErrorMessage:null===(Ue=Te)||void 0===Ue?void 0:Ue.message});ae.warn(st.message)}}})).apply(this,arguments)}function qe(Yt){return`${Yt.name}!${Yt.options.appId}`}class mn{constructor(He){this.container=He,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new et(Ue),this._heartbeatsCachePromise=this._storage.read().then(Te=>(this._heartbeatsCache=Te,Te))}triggerHeartbeat(){var He=this;return(0,m.Z)(function*(){const Te=He.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),st=sn();if(null===He._heartbeatsCache&&(He._heartbeatsCache=yield He._heartbeatsCachePromise),He._heartbeatsCache.lastSentHeartbeatDate!==st&&!He._heartbeatsCache.heartbeats.some(Et=>Et.date===st))return He._heartbeatsCache.heartbeats.push({date:st,agent:Te}),He._heartbeatsCache.heartbeats=He._heartbeatsCache.heartbeats.filter(Et=>{const De=new Date(Et.date).valueOf();return Date.now()-De<=2592e6}),He._storage.overwrite(He._heartbeatsCache)})()}getHeartbeatsHeader(){var He=this;return(0,m.Z)(function*(){if(null===He._heartbeatsCache&&(yield He._heartbeatsCachePromise),null===He._heartbeatsCache||0===He._heartbeatsCache.heartbeats.length)return"";const Ue=sn(),{heartbeatsToSend:Te,unsentEntries:st}=function vt(Yt,He=1024){const Ue=[];let Te=Yt.slice();for(const st of Yt){const Et=Ue.find(De=>De.agent===st.agent);if(Et){if(Et.dates.push(st.date),Ye(Ue)>He){Et.dates.pop();break}}else if(Ue.push({agent:st.agent,dates:[st.date]}),Ye(Ue)>He){Ue.pop();break}Te=Te.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:Te}}(He._heartbeatsCache.heartbeats),Et=(0,ee.L)(JSON.stringify({version:2,heartbeats:Te}));return He._heartbeatsCache.lastSentHeartbeatDate=Ue,st.length>0?(He._heartbeatsCache.heartbeats=st,yield He._storage.overwrite(He._heartbeatsCache)):(He._heartbeatsCache.heartbeats=[],He._storage.overwrite(He._heartbeatsCache)),Et})()}}function sn(){return(new Date).toISOString().substring(0,10)}class et{constructor(He){this.app=He,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var He=this;return(0,m.Z)(function*(){return(yield He._canUseIndexedDBPromise)&&(yield function Ne(Yt){return _e.apply(this,arguments)}(He.app))||{heartbeats:[]}})()}overwrite(He){var Ue=this;return(0,m.Z)(function*(){var Te;if(yield Ue._canUseIndexedDBPromise){const Et=yield Ue.read();return q(Ue.app,{lastSentHeartbeatDate:null!==(Te=He.lastSentHeartbeatDate)&&void 0!==Te?Te:Et.lastSentHeartbeatDate,heartbeats:He.heartbeats})}})()}add(He){var Ue=this;return(0,m.Z)(function*(){var Te;if(yield Ue._canUseIndexedDBPromise){const Et=yield Ue.read();return q(Ue.app,{lastSentHeartbeatDate:null!==(Te=He.lastSentHeartbeatDate)&&void 0!==Te?Te:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...He.heartbeats]})}})()}}function Ye(Yt){return(0,ee.L)(JSON.stringify({version:2,heartbeats:Yt})).length}!function Mt(Yt){Vn(new k.wA("platform-logger",He=>new se(He),"PRIVATE")),Vn(new k.wA("heartbeat",He=>new mn(He),"PRIVATE")),Jn(xe,"0.8.3",Yt),Jn(xe,"0.8.3","esm2017"),Jn("fire-js","")}("")},3475:(dn,ot,A)=>{A.d(ot,{H0:()=>xe,wA:()=>b,zt:()=>Ee});var m=A(5861),k=A(2090);class b{constructor(ae,ye,me){this.name=ae,this.instanceFactory=ye,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const ee="[DEFAULT]";class Ee{constructor(ae,ye){this.name=ae,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const ye=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(ye)){const me=new k.BH;if(this.instancesDeferred.set(ye,me),this.isInitialized(ye)||this.shouldAutoInitialize())try{const at=this.getOrInitializeService({instanceIdentifier:ye});at&&me.resolve(at)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(ae){var ye;const me=this.normalizeInstanceIdentifier(ae?.identifier),at=null!==(ye=ae?.optional)&&void 0!==ye&&ye;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(at)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(lt){if(at)return null;throw lt}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function je(Oe){return"EAGER"===Oe.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[ye,me]of this.instancesDeferred.entries()){const at=this.normalizeInstanceIdentifier(ye);try{const lt=this.getOrInitializeService({instanceIdentifier:at});me.resolve(lt)}catch{}}}}clearInstance(ae=ee){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,m.Z)(function*(){const ye=Array.from(ae.instances.values());yield Promise.all([...ye.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...ye.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=ee){return this.instances.has(ae)}getOptions(ae=ee){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:ye={}}=ae,me=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const at=this.getOrInitializeService({instanceIdentifier:me,options:ye});for(const[lt,Je]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(lt)&&Je.resolve(at);return at}onInit(ae,ye){var me;const at=this.normalizeInstanceIdentifier(ye),lt=null!==(me=this.onInitCallbacks.get(at))&&void 0!==me?me:new Set;lt.add(ae),this.onInitCallbacks.set(at,lt);const Je=this.instances.get(at);return Je&&ae(Je,at),()=>{lt.delete(ae)}}invokeOnInitCallbacks(ae,ye){const me=this.onInitCallbacks.get(ye);if(me)for(const at of me)try{at(ae,ye)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:ye={}}){let me=this.instances.get(ae);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=ae,Oe===ee?void 0:Oe),options:ye}),this.instances.set(ae,me),this.instancesOptions.set(ae,ye),this.invokeOnInitCallbacks(me,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,me)}catch{}var Oe;return me||null}normalizeInstanceIdentifier(ae=ee){return this.component?this.component.multipleInstances?ae:ee:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const ye=this.getProvider(ae.name);if(ye.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);ye.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const ye=new Ee(ae,this);return this.providers.set(ae,ye),ye}getProviders(){return Array.from(this.providers.values())}}},1877:(dn,ot,A)=>{A.d(ot,{Am:()=>Oe,Ub:()=>xe,Yd:()=>je,in:()=>k});const m=[];var k=(()=>{return(ae=k||(k={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",k;var ae})();const b={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},ee=k.INFO,Ee={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},se=(ae,ye,...me)=>{if(ye<ae.logLevel)return;const at=(new Date).toISOString(),lt=Ee[ye];if(!lt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[lt](`[${at}]  ${ae.name}:`,...me)};class je{constructor(ye){this.name=ye,this._logLevel=ee,this._logHandler=se,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in k))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?b[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...ye),this._logHandler(this,k.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...ye),this._logHandler(this,k.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,k.INFO,...ye),this._logHandler(this,k.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,k.WARN,...ye),this._logHandler(this,k.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...ye),this._logHandler(this,k.ERROR,...ye)}}function xe(ae){m.forEach(ye=>{ye.setLogLevel(ae)})}function Oe(ae,ye){for(const me of m){let at=null;ye&&ye.level&&(at=b[ye.level]),me.userLogHandler=null===ae?null:(lt,Je,...bt)=>{const ut=bt.map(ct=>{if(null==ct)return null;if("string"==typeof ct)return ct;if("number"==typeof ct||"boolean"==typeof ct)return ct.toString();if(ct instanceof Error)return ct.message;try{return JSON.stringify(ct)}catch{return null}}).filter(ct=>ct).join(" ");Je>=(at??lt.logLevel)&&ae({level:k[Je].toLowerCase(),message:ut,args:bt,type:lt.name})}}}},8766:(dn,ot,A)=>{A.d(ot,{Lj:()=>ze,X3:()=>Tt});var m=A(5861);let b,ee;const je=new WeakMap,xe=new WeakMap,Oe=new WeakMap,ae=new WeakMap,ye=new WeakMap;let lt={get(R,Pe,ke){if(R instanceof IDBTransaction){if("done"===Pe)return xe.get(R);if("objectStoreNames"===Pe)return R.objectStoreNames||Oe.get(R);if("store"===Pe)return ke.objectStoreNames[1]?void 0:ke.objectStore(ke.objectStoreNames[0])}return ct(R[Pe])},set:(R,Pe,ke)=>(R[Pe]=ke,!0),has:(R,Pe)=>R instanceof IDBTransaction&&("done"===Pe||"store"===Pe)||Pe in R};function ut(R){return"function"==typeof R?function bt(R){return R!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(R)?function(...Pe){return R.apply(Lt(this),Pe),ct(je.get(this))}:function(...Pe){return ct(R.apply(Lt(this),Pe))}:function(Pe,...ke){const we=R.call(Lt(this),Pe,...ke);return Oe.set(we,Pe.sort?Pe.sort():[Pe]),ct(we)}}(R):(R instanceof IDBTransaction&&function at(R){if(xe.has(R))return;const Pe=new Promise((ke,we)=>{const Ze=()=>{R.removeEventListener("complete",ve),R.removeEventListener("error",pt),R.removeEventListener("abort",pt)},ve=()=>{ke(),Ze()},pt=()=>{we(R.error||new DOMException("AbortError","AbortError")),Ze()};R.addEventListener("complete",ve),R.addEventListener("error",pt),R.addEventListener("abort",pt)});xe.set(R,Pe)}(R),((R,Pe)=>Pe.some(ke=>R instanceof ke))(R,function Ee(){return b||(b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(R,lt):R)}function ct(R){if(R instanceof IDBRequest)return function me(R){const Pe=new Promise((ke,we)=>{const Ze=()=>{R.removeEventListener("success",ve),R.removeEventListener("error",pt)},ve=()=>{ke(ct(R.result)),Ze()},pt=()=>{we(R.error),Ze()};R.addEventListener("success",ve),R.addEventListener("error",pt)});return Pe.then(ke=>{ke instanceof IDBCursor&&je.set(ke,R)}).catch(()=>{}),ye.set(Pe,R),Pe}(R);if(ae.has(R))return ae.get(R);const Pe=ut(R);return Pe!==R&&(ae.set(R,Pe),ye.set(Pe,R)),Pe}const Lt=R=>ye.get(R);function Tt(R,Pe,{blocked:ke,upgrade:we,blocking:Ze,terminated:ve}={}){const pt=indexedDB.open(R,Pe),Dt=ct(pt);return we&&pt.addEventListener("upgradeneeded",$t=>{we(ct(pt.result),$t.oldVersion,$t.newVersion,ct(pt.transaction))}),ke&&pt.addEventListener("blocked",()=>ke()),Dt.then($t=>{ve&&$t.addEventListener("close",()=>ve()),Ze&&$t.addEventListener("versionchange",()=>Ze())}).catch(()=>{}),Dt}function ze(R,{blocked:Pe}={}){const ke=indexedDB.deleteDatabase(R);return Pe&&ke.addEventListener("blocked",()=>Pe()),ct(ke).then(()=>{})}const Se=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],ue=new Map;function Le(R,Pe){if(!(R instanceof IDBDatabase)||Pe in R||"string"!=typeof Pe)return;if(ue.get(Pe))return ue.get(Pe);const ke=Pe.replace(/FromIndex$/,""),we=Pe!==ke,Ze=ge.includes(ke);if(!(ke in(we?IDBIndex:IDBObjectStore).prototype)||!Ze&&!Se.includes(ke))return;const ve=function(){var pt=(0,m.Z)(function*(Dt,...$t){const en=this.transaction(Dt,Ze?"readwrite":"readonly");let Zt=en.store;return we&&(Zt=Zt.index($t.shift())),(yield Promise.all([Zt[ke](...$t),Ze&&en.done]))[0]});return function($t){return pt.apply(this,arguments)}}();return ue.set(Pe,ve),ve}!function Je(R){lt=R(lt)}(R=>({...R,get:(Pe,ke,we)=>Le(Pe,ke)||R.get(Pe,ke,we),has:(Pe,ke)=>!!Le(Pe,ke)||R.has(Pe,ke)}))},5861:(dn,ot,A)=>{function m(b,ee,Ee,se,je,xe,Oe){try{var ae=b[xe](Oe),ye=ae.value}catch(me){return void Ee(me)}ae.done?ee(ye):Promise.resolve(ye).then(se,je)}function k(b){return function(){var ee=this,Ee=arguments;return new Promise(function(se,je){var xe=b.apply(ee,Ee);function Oe(ye){m(xe,se,je,Oe,ae,"next",ye)}function ae(ye){m(xe,se,je,Oe,ae,"throw",ye)}Oe(void 0)})}}A.d(ot,{Z:()=>k})}},dn=>{dn(dn.s=2682)}]);